Started GET "/" for 127.0.0.1 at 2018-11-18 19:26:23 -0200
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        bin/rails db:migrate RAILS_ENV=development

):
  
activerecord (5.2.1) lib/active_record/migration.rb:579:in `check_pending!'
activerecord (5.2.1) lib/active_record/migration.rb:556:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
  [1m[35m (46.0ms)[0m  [1m[34mSELECT pg_try_advisory_lock(8203133180777734815)[0m
  â†³ bin/rails:9
  [1m[35m (0.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Migrating to DeviseCreateUsers (20181026141233)
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (22.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  â†³ db/migrate/20181026141233_devise_create_users.rb:5
  [1m[35m (3.8ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  â†³ db/migrate/20181026141233_devise_create_users.rb:39
  [1m[35m (1.9ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  â†³ db/migrate/20181026141233_devise_create_users.rb:40
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20181026141233"]]
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateGlucoseMeasures (20181026204436)
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "glucose_measures" ("id" bigserial primary key, "value" float, "date" timestamp, "fasting" boolean, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_4e2cc37139"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
)[0m
  â†³ db/migrate/20181026204436_create_glucose_measures.rb:3
  [1m[35m (2.6ms)[0m  [1m[35mCREATE  INDEX  "index_glucose_measures_on_profile_id" ON "glucose_measures"  ("profile_id")[0m
  â†³ db/migrate/20181026204436_create_glucose_measures.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20181026204436"]]
  â†³ bin/rails:9
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to CreateReactions (20181112060418)
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (6.6ms)[0m  [1m[35mCREATE TABLE "reactions" ("id" bigserial primary key, "name" character varying, "cause" character varying, "description" text, "start" date, "finish" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, CONSTRAINT "fk_rails_5694ea3e3c"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
)[0m
  â†³ db/migrate/20181112060418_create_reactions.rb:3
  [1m[35m (2.3ms)[0m  [1m[35mCREATE  INDEX  "index_reactions_on_profile_id" ON "reactions"  ("profile_id")[0m
  â†³ db/migrate/20181112060418_create_reactions.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20181112060418"]]
  â†³ bin/rails:9
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
Migrating to AddUserRefToProfile (20181117185420)
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (1.9ms)[0m  [1m[35mALTER TABLE "profiles" ADD "user_id" bigint[0m
  â†³ db/migrate/20181117185420_add_user_ref_to_profile.rb:3
  [1m[35m (3.0ms)[0m  [1m[35mCREATE  INDEX  "index_profiles_on_user_id" ON "profiles"  ("user_id")[0m
  â†³ db/migrate/20181117185420_add_user_ref_to_profile.rb:3
  [1m[35m (1.5ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  â†³ db/migrate/20181117185420_add_user_ref_to_profile.rb:3
  [1m[36mActiveRecord::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES ($1) RETURNING "version"[0m  [["version", "20181117185420"]]
  â†³ bin/rails:9
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[36mActiveRecord::InternalMetadata Load (1.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  â†³ bin/rails:9
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ bin/rails:9
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT pg_advisory_unlock(8203133180777734815)[0m
  â†³ bin/rails:9
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ bin/rails:9
Started GET "/" for 127.0.0.1 at 2018-11-18 19:26:51 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.0ms)
Completed 200 OK in 4803ms (Views: 4784.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 19:27:02 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (52.5ms)
Completed 200 OK in 168ms (Views: 126.2ms | ActiveRecord: 11.1ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 19:27:12 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hz+h6521G6n93ajpp4HGPtFTZgSdEujXhtyOaKQ28sJ0fH0bZEsGjooieSfTzqYTk0/gDiN67EcjVkZA0udWrQ==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 227ms (Views: 53.9ms | ActiveRecord: 1.3ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 19:27:19 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ofWkHLfXoerFYxPNu6vao2PMcb4lnwqmPg+Pvv8Ku/MNDBpOnsFtEbmxH6aQx7uwGJvWLfZxm2oJYq4GZSj2jw==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 211ms (Views: 51.8ms | ActiveRecord: 1.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 19:27:30 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gv9inwihcyaFxcvg8K6PJONcj9jnb/RhzC4Vz1ThBJ8uBtzNIbe/3fkXx4vbwu43mAsoSzSBZa37QzR3zsNJ4w==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "teste@gmail.com"], ["encrypted_password", "$2a$11$yWol4b8UejI42rKGSQs9neG/nN215sNTbrs1F5fMAgaNhcA/48HGm"], ["created_at", "2018-11-18 21:27:30.720777"], ["updated_at", "2018-11-18 21:27:30.720777"]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/profiles/teste@gmail.com
Completed 302 Found in 171ms (ActiveRecord: 3.0ms)


Started GET "/profiles/teste@gmail.com" for 127.0.0.1 at 2018-11-18 19:27:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://localhost:3000/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 32ms (ActiveRecord: 3.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:27:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (99.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.8ms)
Completed 200 OK in 170ms (Views: 150.2ms | ActiveRecord: 3.5ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 19:27:37 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://localhost:3000/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:27:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.4ms)
Completed 200 OK in 62ms (Views: 57.1ms | ActiveRecord: 0.6ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 19:27:41 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://localhost:3000/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:27:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.4ms)
Completed 200 OK in 69ms (Views: 62.0ms | ActiveRecord: 0.8ms)


Started GET "/profiles/teste@gmail.com/weights" for 127.0.0.1 at 2018-11-18 19:27:45 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://localhost:3000/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:27:45 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.2ms)
Completed 200 OK in 55ms (Views: 49.5ms | ActiveRecord: 0.5ms)


Started GET "/profiles/teste@gmail.com/glucose_measures" for 127.0.0.1 at 2018-11-18 19:27:50 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://localhost:3000/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:27:50 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.6ms)
Completed 200 OK in 56ms (Views: 50.7ms | ActiveRecord: 0.5ms)


Started GET "/profiles/teste@gmail.com" for 127.0.0.1 at 2018-11-18 19:27:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://localhost:3000/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:27:57 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.4ms)
Completed 200 OK in 68ms (Views: 61.6ms | ActiveRecord: 0.8ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 19:28:33 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"szgx453f3JjGDsB46FRpX8oSjvWBQP0us88NddCi75wfwY+xtMkQY7rczBPDOAhMsUUpZlKubOKEoizNSoCi4A==", "profile"=>{"email"=>"teste@gmail.com", "firstname"=>"teste", "lastname"=>"teste", "birthdate"=>"2018-01-01", "sex"=>"Male", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Unpermitted parameter: :email
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (1.0ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "teste@gmail.com"], ["firstname", "teste"], ["lastname", "teste"], ["birthdate", "2018-01-01"], ["sex", "Male"], ["gender", ""], ["created_at", "2018-11-18 21:28:33.320025"], ["updated_at", "2018-11-18 21:28:33.320025"], ["user_id", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://localhost:3000/profiles/teste@gmail.com
Completed 302 Found in 63ms (ActiveRecord: 7.0ms)


Started GET "/profiles/teste@gmail.com" for 127.0.0.1 at 2018-11-18 19:28:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.7ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (46.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 107ms (Views: 95.6ms | ActiveRecord: 5.4ms)


Started GET "/profiles/teste@gmail.com/heights" for 127.0.0.1 at 2018-11-18 19:28:44 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 60ms (Views: 48.5ms | ActiveRecord: 2.2ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 19:28:46 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.6ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (6.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.3ms)
Completed 200 OK in 69ms (Views: 48.0ms | ActiveRecord: 3.7ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 19:28:47 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (8.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 68ms (Views: 59.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 19:28:51 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (14.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.6ms)
Completed 200 OK in 79ms (Views: 71.0ms | ActiveRecord: 0.9ms)


Started GET "/profiles/teste@gmail.com/pressures" for 127.0.0.1 at 2018-11-18 19:29:15 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.5ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.7ms)
Completed 200 OK in 61ms (Views: 48.7ms | ActiveRecord: 2.7ms)


Started GET "/profiles/teste@gmail.com/pressures/new" for 127.0.0.1 at 2018-11-18 19:29:16 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (13.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.2ms)
Completed 200 OK in 103ms (Views: 89.1ms | ActiveRecord: 2.7ms)


Started GET "/profiles/teste@gmail.com/allergies" for 127.0.0.1 at 2018-11-18 19:29:18 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.7ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.2ms)
Completed 200 OK in 68ms (Views: 49.7ms | ActiveRecord: 3.4ms)


Started GET "/profiles/teste@gmail.com/allergies/new" for 127.0.0.1 at 2018-11-18 19:29:19 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (6.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.8ms)
Completed 200 OK in 69ms (Views: 58.3ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/medications" for 127.0.0.1 at 2018-11-18 19:29:20 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.6ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.7ms)
Completed 200 OK in 67ms (Views: 50.1ms | ActiveRecord: 3.1ms)


Started GET "/profiles/teste@gmail.com/medications/new" for 127.0.0.1 at 2018-11-18 19:29:21 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 66ms (Views: 56.6ms | ActiveRecord: 1.0ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 19:29:23 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.7ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (7.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.4ms)
Completed 200 OK in 75ms (Views: 63.7ms | ActiveRecord: 4.0ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 19:29:25 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (13.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.1ms)
Completed 200 OK in 79ms (Views: 67.7ms | ActiveRecord: 2.6ms)


Started GET "/profiles/teste@gmail.com" for 127.0.0.1 at 2018-11-18 19:29:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (12.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.6ms)
Completed 200 OK in 67ms (Views: 58.3ms | ActiveRecord: 1.9ms)


  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PbsOcqC56L9z5yEVQx6naesWN.OXAYd3UcOy/foRXGn80QXAG.J2y"], ["created_at", "2018-11-18 21:31:22.641806"], ["updated_at", "2018-11-18 21:31:22.641806"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:22 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (9.8ms)
Completed 200 OK in 359ms (Views: 346.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qUHcGt5AKrrk8tuCoBTe3dh2yiUOPCqG7BmZkVjKkgqpT13t3TD+fvEAKy0PAonvPiGYpgfcb7N/9+8xYAO6mw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 20ms (ActiveRecord: 3.0ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (92.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.5ms)
Completed 200 OK in 181ms (Views: 167.5ms | ActiveRecord: 1.8ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:23.482580"], ["updated_at", "2018-11-18 21:31:23.482580"], ["user_id", 2]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.7ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 230], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 230], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.4ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 230], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (26.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.4ms)
Completed 200 OK in 95ms (Views: 85.0ms | ActiveRecord: 4.9ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 230]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.1ms)
Completed 200 OK in 62ms (Views: 51.4ms | ActiveRecord: 2.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xzcJ0Pur6ni8RURmjnINWe1nRoerAcI9NsNHUQpap6N1E9ExYIzqW"], ["created_at", "2018-11-18 21:31:23.813622"], ["updated_at", "2018-11-18 21:31:23.813622"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tMcdj/1hpvDbW10slb+0A3VWdIFMlmZLJfdXArQw+K3IUue2gacvjk6TYhB9aIKMRKKfqXUhO+tNezPldqazkA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.5ms)
Completed 200 OK in 45ms (Views: 41.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:24.072851"], ["updated_at", "2018-11-18 21:31:24.072851"], ["user_id", 3]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 231]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 45ms (Views: 40.5ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 47ms (Views: 42.5ms | ActiveRecord: 0.7ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GUKsq2uySl5FGMOzR9h6IeC6IHdD7aWZRaZlKVTRGhzjOm8NChwoO"], ["created_at", "2018-11-18 21:31:24.324971"], ["updated_at", "2018-11-18 21:31:24.324971"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 48ms (Views: 46.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5vHsWmcTzmngLV6J/Xqlm3GpoG19QPx8fFQJowZdpb4LPbQrDluDBfa3utpgkt/rYhLE2qpjWnCq3VxI5n636w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 149ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.4ms)
Completed 200 OK in 52ms (Views: 48.2ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:24.602870"], ["updated_at", "2018-11-18 21:31:24.602870"], ["user_id", 4]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 41.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"T75ASu88gaVojXX2M8gCZp0+6O4urt9piFPw3VV6R+TavB6j+CLSdQr7s1Zg0gbDl5SV+mSRmuqS5RfdzkKiRQ==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.6ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 232], ["created_at", "2018-11-18 21:31:24.676559"], ["updated_at", "2018-11-18 21:31:24.676559"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 13ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.5ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 232]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.4ms)
Completed 200 OK in 50ms (Views: 45.4ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$lJve93/cy.Nde7AmKuPJae4vkTBOOK8mBFaWUWelB7D1yYC3iuCsi"], ["created_at", "2018-11-18 21:31:24.881677"], ["updated_at", "2018-11-18 21:31:24.881677"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 42ms (Views: 41.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B3Gbsh7k9t4A94hmNFr4ZCDbnjMgkJatc9IydduqKTul34ZiqQkGljohncqgSBBXN2oFj4F5u5f48hIGjhe0iQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 49ms (Views: 45.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:25.152104"], ["updated_at", "2018-11-18 21:31:25.152104"], ["user_id", 5]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 233], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 233], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.4ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 233], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.3ms)
  Rendered profiles/show.html.erb within layouts/internal (9.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.1ms)
Completed 200 OK in 56ms (Views: 51.5ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 233]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.0ms)
Completed 200 OK in 57ms (Views: 45.7ms | ActiveRecord: 3.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$blKCCSiJzyTYVa4m3l0IseLBvLN5BtbT44QpNl7yQwuLc3lBPcZt6"], ["created_at", "2018-11-18 21:31:25.426326"], ["updated_at", "2018-11-18 21:31:25.426326"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"F5wQ5bW/3ftZY+9rnebdQqsEI9ASlPNK2SovUR1IQBh+54dsL/DCWp0bl0maXwFS/FmKq4CyFIpYHOrsTI5wkQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 148ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.7ms)
Completed 200 OK in 53ms (Views: 49.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:25.696017"], ["updated_at", "2018-11-18 21:31:25.696017"], ["user_id", 6]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 234]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 46ms (Views: 41.4ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.7ms)
Completed 200 OK in 49ms (Views: 45.6ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.EXcmm5smE7NvIpVTguHhuaC6K0f1L/Q7DX6jO5x3gfGvRSl5m1Aa"], ["created_at", "2018-11-18 21:31:25.950403"], ["updated_at", "2018-11-18 21:31:25.950403"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RLQD3smF5bJpbWacLrh/j22jK67BbUXj+o8D+Lq+6i+/8tIBWmL+eazD82BeIs4pBmZ3lG/VcG1wpme8R8lCSA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:26.210346"], ["updated_at", "2018-11-18 21:31:26.210346"], ["user_id", 7]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.6ms)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ci+zPvdSYwHGTX1n/CRt0hSZynoVoDQXOJ3zeVxT2e2NGbj+dAysDQYHsq/88b2gtmJEVb9UkJ5TLjtzkMXINQ==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 235], ["created_at", "2018-11-18 21:31:26.302507"], ["updated_at", "2018-11-18 21:31:26.302507"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 16ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 235]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.7ms)
Completed 200 OK in 50ms (Views: 43.9ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rZ50m9sSmR8hEb.RDBYSUeVT29RwrRRPJQnPjJ56tGPEub/x9mcS6"], ["created_at", "2018-11-18 21:31:26.507814"], ["updated_at", "2018-11-18 21:31:26.507814"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 54ms (Views: 53.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"iJTBuDWTCvRalSN+b3fnpOiiZXgoh8rxrHUmqdU6/sXKxHVocm7IApM8gs8u0sYBtuu5YlECP1fAb6RkDkHWQA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:26.780334"], ["updated_at", "2018-11-18 21:31:26.780334"], ["user_id", 8]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 236], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 236], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.4ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 236], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.7ms)
Completed 200 OK in 59ms (Views: 53.5ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 19:31:26 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.6ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 236]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (4.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.0ms)
Completed 200 OK in 56ms (Views: 47.4ms | ActiveRecord: 2.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$aQ69./mJrtqiqthRGYNwIOZR4OtkG8jd7jXMPmICuKmEKDwCoK/.m"], ["created_at", "2018-11-18 21:31:27.056267"], ["updated_at", "2018-11-18 21:31:27.056267"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 46.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"J3skGqjdhWqZiTLJIoW2uEulZaJtsNCmx2NmK0UJzL+dLPuI2t4VgHR0GVvULfNSH3nfCiPJ2UiGOi8vWwMrGw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.9ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:27.320769"], ["updated_at", "2018-11-18 21:31:27.320769"], ["user_id", 9]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 237]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 40.9ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.1ms)
Completed 200 OK in 53ms (Views: 48.8ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$nnlSK9x5Nn.FxkObU8JEs.9db8Jx3yZZdKXsHl4JxNQiRK7ZPH2E2"], ["created_at", "2018-11-18 21:31:27.585506"], ["updated_at", "2018-11-18 21:31:27.585506"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 45ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9/fL+X650kHH9gA6h86cw73ASuMcmUQDp3hXadbBR1It0tyeK3K/a6/2+s+ShORc3AE66Fd235L0N6G3bF2JQQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.8ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:27.847184"], ["updated_at", "2018-11-18 21:31:27.847184"], ["user_id", 10]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"V6NWDXYUEIibu3ym1nGylf86IBqMiGj5evZZhxG0KfNGOwRDhDFSzfLwYTF3/tZF+tPM3zJ52xsGnHqsHBywnA==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"19", "date(5i)"=>"31"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (1.0ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 19:31:00"], ["fasting", true], ["profile_id", 238], ["created_at", "2018-11-18 21:31:27.937039"], ["updated_at", "2018-11-18 21:31:27.937039"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 15ms (ActiveRecord: 3.5ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 19:31:27 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 238]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 49ms (Views: 44.3ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$65pUjMpEdfmYfT2e1utws.ZG8TyRuPqGvkcNQ5eZgVf1wWqm6pOjS"], ["created_at", "2018-11-18 21:31:28.142722"], ["updated_at", "2018-11-18 21:31:28.142722"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tHuEMLy8t4xlHv0tT7MmtZ7bvhIh9CFJQOpwKbHTxPTN/hekS7mg0itwDqurBPVPnCWjQPQWZM5H/JlVA92nkg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:28.403030"], ["updated_at", "2018-11-18 21:31:28.403030"], ["user_id", 11]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 239], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 239], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.4ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 239], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.8ms)
Completed 200 OK in 67ms (Views: 61.9ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.7ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 239]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.9ms)
Completed 200 OK in 58ms (Views: 47.8ms | ActiveRecord: 3.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$AaNyMyDJI81QUCvkeSo38uFmsmZM69F.X6I1kdkaefusMy3SamMaS"], ["created_at", "2018-11-18 21:31:28.688099"], ["updated_at", "2018-11-18 21:31:28.688099"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 41.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tPtbvPJPU9En28NLzrpwNjzFfMWbLakkHueVw/qd0tALNjPgP6lsYjFNt9ZJ8m1MHY1Bj0rwhxcGVqHu0jv6YQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 148ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.8ms)
Completed 200 OK in 52ms (Views: 47.9ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:28.957126"], ["updated_at", "2018-11-18 21:31:28.957126"], ["user_id", 12]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 19:31:28 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 240]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.6ms)
Completed 200 OK in 52ms (Views: 46.7ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.5ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$FSkxkrN2CgZYexeux39k/e6ur0ZeYPs4wq4FAIji8BM6daHrl83ee"], ["created_at", "2018-11-18 21:31:29.227095"], ["updated_at", "2018-11-18 21:31:29.227095"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 59ms (Views: 58.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6c1png1fzdaJe0BfG3WFz83OXtVA1RfZJYVkf1FHdVRPzPH106jlbfr3GZmkH//D/OHJ0mWKL74KR02AuTVGVg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.3ms)
Completed 200 OK in 49ms (Views: 45.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:29.523057"], ["updated_at", "2018-11-18 21:31:29.523057"], ["user_id", 13]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 52ms (Views: 46.9ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"q4Bo0eqKuAq3y6kNrg/Zuxo1q/7wnrWCvQ9xuXqN2FsFPc95O81UczU+QiJs5ZkZ4bJBs3l5LA3VnYCru6zh+w==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.6ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 241], ["created_at", "2018-11-18 21:31:29.602748"], ["updated_at", "2018-11-18 21:31:29.602748"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 14ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.5ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 241]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.7ms)
Completed 200 OK in 51ms (Views: 46.6ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$V29ygCYU7g1uAGwCQZhkq.lkqyDwc.alCvAx0H5eOa42ks8Zr.SkO"], ["created_at", "2018-11-18 21:31:29.812872"], ["updated_at", "2018-11-18 21:31:29.812872"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"aGgDsVNfBAcd2MVzucLAwRhMpaojOfLtvz/ldOTYztHD8zKOzVeGAYvG+2ftwWP/W9m9DbLTwVg3iZWDPA0GbQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 149ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:30.083332"], ["updated_at", "2018-11-18 21:31:30.083332"], ["user_id", 14]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 242], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 242], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 242], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (12.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.5ms)
Completed 200 OK in 62ms (Views: 56.7ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 242]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.7ms)
Completed 200 OK in 50ms (Views: 44.8ms | ActiveRecord: 0.8ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$XYkEM/Mw.8R.4POGQqntReafAj0ouRnzqYsPt563Fbvdll27qPtrK"], ["created_at", "2018-11-18 21:31:30.361283"], ["updated_at", "2018-11-18 21:31:30.361283"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 48ms (Views: 46.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0iCaGUW8JVMvzmGTeIVZt8DMAAuBhUV7qvkwvsv247b06gJ2+fBdoMEe6je/5hu+6E4vc4ZgTKo8fBqOEK1zoA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 150ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (10.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 54ms (Views: 50.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:30.639512"], ["updated_at", "2018-11-18 21:31:30.639512"], ["user_id", 15]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 243]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 41.7ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.9ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$RYK0sVPZ8Xp2folAyB/oduy6yxJA1EyWasmd7HpPKi7eFJYlLSeTi"], ["created_at", "2018-11-18 21:31:30.892647"], ["updated_at", "2018-11-18 21:31:30.892647"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LnsLdFUhAWsWkCtvAKpT2O+6jMxwCOhzGifLUhFwrsO90jQrhKFtFXGYYhikHrpDK82P5D052ZDPm7hZ20jwaA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 45ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:31.153423"], ["updated_at", "2018-11-18 21:31:31.153423"], ["user_id", 16]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9DTXeANQzW1HX8lqz6P9fulMvhcYtQPm6yth+JK1CHlaTRoQszIfsOItgXOyea2VEG9lirBaQ0RYJpYii05+Vg==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 244], ["created_at", "2018-11-18 21:31:31.227965"], ["updated_at", "2018-11-18 21:31:31.227965"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 13ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 244]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.9ms)
Completed 200 OK in 51ms (Views: 46.4ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/kG.3lo5EcbX5IZx0e1XZOPSz7ZbN01B85.PZImZ6spd2B/GYj1Vi"], ["created_at", "2018-11-18 21:31:31.432921"], ["updated_at", "2018-11-18 21:31:31.432921"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (8.0ms)
Completed 200 OK in 50ms (Views: 49.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YCL6aTpIGM44sbRtt8lFY4bbqnTCPxEGvJOQv+YtIKarOTFOhlYpYJvEji0j3w7RutXAI64AgOR65gtxVb8O+w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:31.700992"], ["updated_at", "2018-11-18 21:31:31.700992"], ["user_id", 17]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 245], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 245], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.4ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 245], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.5ms)
Completed 200 OK in 57ms (Views: 51.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.6ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 245]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 57ms (Views: 47.8ms | ActiveRecord: 2.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$7x3wNriwyXAlYF6c06K6gepsw9VDZK87KRUlQ2Z40SyzzS/uaJs9S"], ["created_at", "2018-11-18 21:31:31.976252"], ["updated_at", "2018-11-18 21:31:31.976252"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XlPqbPpyxNN2dvT2QURlghdfaJc4iEICpqZsfgBD9iQmVEZvWb/XoYe5vlXny24J8Oq3hU3UCrxNzLIOYyF+Lw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:32.237091"], ["updated_at", "2018-11-18 21:31:32.237091"], ["user_id", 18]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 246]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 46ms (Views: 41.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.4ms)
Completed 200 OK in 58ms (Views: 53.0ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zuFcWLkIV9g5.LRAhu6Lset1ViCTpvIoJTTujVcM1x5Wec.BH5kPu"], ["created_at", "2018-11-18 21:31:32.499420"], ["updated_at", "2018-11-18 21:31:32.499420"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QEsqlHLJF1TOsrjY/nCi4xEMbtgJprP7pM0jrYkr717hzD/lWown3VK7SFrqT/fTYYIxAVYC+MOcu1akdEJgIQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.1ms)
Completed 200 OK in 44ms (Views: 40.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:32.757710"], ["updated_at", "2018-11-18 21:31:32.757710"], ["user_id", 19]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 40.7ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WkT632D8TE9Etd3PRumKnzQfG/BAqh5Ei0CnkuKqSqnXitE7sDK2KxCvHmdoMA8/rlzxS3I/+fgzyyvSVGq3jQ==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (0.9ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 247], ["created_at", "2018-11-18 21:31:32.830864"], ["updated_at", "2018-11-18 21:31:32.830864"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 13ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 19:31:32 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 247]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.3ms)
Completed 200 OK in 52ms (Views: 47.3ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$omNcJ307e2LWz98Tx362kO6himsXZdiZbB3gKluLjc4rzw8H2Wpx2"], ["created_at", "2018-11-18 21:31:33.044237"], ["updated_at", "2018-11-18 21:31:33.044237"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"29klW6zFTdOiRWDu14DpdtQ0V7CjbxbBk9VmbzzypfjSJzuP69RMG8wLo0hXNcEL05EV7KIBLTmb5Ksu1CQmlA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.9ms)
Completed 200 OK in 53ms (Views: 50.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:33.314961"], ["updated_at", "2018-11-18 21:31:33.314961"], ["user_id", 20]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 248], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 248], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 248], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.2ms)
Completed 200 OK in 57ms (Views: 51.8ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.5ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 248]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.9ms)
Completed 200 OK in 57ms (Views: 47.2ms | ActiveRecord: 3.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0GKrRvudVxleMQNxGNvJXuPwwADGgMOGZbwn3BaVQsixkJyx/Ffu6"], ["created_at", "2018-11-18 21:31:33.587422"], ["updated_at", "2018-11-18 21:31:33.587422"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ATO/HQSQUTfkiZYoE7SA2Ra23imtmbMBMA2s2LelaYkhemGjwrKhjd2noWiKLrJNQiR14Loo6XyaToMInmVMKg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.6ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:33.849168"], ["updated_at", "2018-11-18 21:31:33.849168"], ["user_id", 21]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 249]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 47ms (Views: 42.7ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 19:31:33 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.6ms)
Completed 200 OK in 49ms (Views: 44.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rZ2x4yRN8wunNAHpmKpUbOdjz4hvTvzaKkev1n5MU01dUtCbRCPsq"], ["created_at", "2018-11-18 21:31:34.105191"], ["updated_at", "2018-11-18 21:31:34.105191"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 52ms (Views: 51.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Qn6z24mk3wDlTZW/49LGwctJHYAJQW5paZx9WHSmrBZ/yCvMLQ4pWExgQeYxHi6K2+9b0EHrfbYJ6Mc/X2PQxA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:34.373417"], ["updated_at", "2018-11-18 21:31:34.373417"], ["user_id", 22]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 40.6ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pLqsMR0MOKLkCeibK2nYVdzbfIwckOqrDOvuJSNz4eXTW7UGBFcf0zzFq/zXLSrweleqel1iV3//OlWRyUMCIQ==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (0.6ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 250], ["created_at", "2018-11-18 21:31:34.458015"], ["updated_at", "2018-11-18 21:31:34.458015"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 16ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 250]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.9ms)
Completed 200 OK in 51ms (Views: 45.1ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Q15ml5zYk4kvMtJwQiHnyu46YHwJu.2UsFDKXkUyIgL28VLb7WVIG"], ["created_at", "2018-11-18 21:31:34.662959"], ["updated_at", "2018-11-18 21:31:34.662959"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/ux5Mjk6wC2qAjIFS00QRY4/f2cYz2DKy/Feii96lmWoT10LMvVX+e6Z2j8zus8DCudjaCWQxWoD6nPoKQNpow==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 41.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:34.923420"], ["updated_at", "2018-11-18 21:31:34.923420"], ["user_id", 23]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 251], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 251], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 251], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 60ms (Views: 54.5ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 19:31:34 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.7ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 251]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (4.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.0ms)
Completed 200 OK in 61ms (Views: 51.2ms | ActiveRecord: 2.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$COsMAGqT8Ek/7FYlKWGDme0DnN9Nff3SyLjj4hEBpmBCaEeAMaNhK"], ["created_at", "2018-11-18 21:31:35.211932"], ["updated_at", "2018-11-18 21:31:35.211932"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XMJ/KlI3F16ywkDlNZXTKkSBZ1EbwI+Yh3c6x28phVOpIm5mufqPIamr1Mqr7AiySu4j0PbCtDbI2HDf+2lRIA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 145ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:35.472455"], ["updated_at", "2018-11-18 21:31:35.472455"], ["user_id", 24]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 252]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 40.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.5ms)
Completed 200 OK in 53ms (Views: 48.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WKwOM5ZgPwQ80.gIEkrX.ONACJPG623cCMLKkBAfiZAuDoKP9mjVu"], ["created_at", "2018-11-18 21:31:35.728251"], ["updated_at", "2018-11-18 21:31:35.728251"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EcHERfJmsKYdqt1Yb9xMxfIQ5MN3JF0s0kjOQqg4Go/HK0UN2LDUKHJd0Vtov4EgNA9hLLVl0d5ZXQBKoQhUcA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.8ms)
Completed 200 OK in 54ms (Views: 50.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:35.999534"], ["updated_at", "2018-11-18 21:31:35.999534"], ["user_id", 25]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 44ms (Views: 40.0ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"n67vRnFUExwSBEa3vEILC6U8WYNqKXWM9mlN9iX2Pp8TEdxstLBdgiE8pLc3HM1CgrGDrLYjVB53ylIa8T7ZcQ==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.6ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 253], ["created_at", "2018-11-18 21:31:36.071011"], ["updated_at", "2018-11-18 21:31:36.071011"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.5ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 253]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.7ms)
Completed 200 OK in 50ms (Views: 45.1ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$z.s2U5kro3K.X3lTkUNLpOmo6fr8uyOV0WiImPDcz7npuImLyGtye"], ["created_at", "2018-11-18 21:31:36.290024"], ["updated_at", "2018-11-18 21:31:36.290024"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+E2eQd4lNDpw8QNLGIu1e5Xdu8LxO52u9PzckSKfG3Imx8EN7CsARRVWnOiSi1uHzvsaOaXhWZ0HvzlKyCXy/g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:36.553500"], ["updated_at", "2018-11-18 21:31:36.553500"], ["user_id", 26]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 254], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 254], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 254], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.2ms)
Completed 200 OK in 57ms (Views: 51.3ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 254]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.4ms)
Completed 200 OK in 61ms (Views: 50.1ms | ActiveRecord: 2.8ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rO.MLV82d17jdaZup4zyjuWVKQHPjQ62zF7FnDD83bhduKc01Y/A2"], ["created_at", "2018-11-18 21:31:36.840468"], ["updated_at", "2018-11-18 21:31:36.840468"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dEz2l+qsIJxCbSzOgTo/RIU84srjUcniZyP8UvLA7uwkWJ6R7xkozpOHYzhAjjfpd96pcTDgXbE2JQbZayS9Ug==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:37.106514"], ["updated_at", "2018-11-18 21:31:37.106514"], ["user_id", 27]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 255]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 46ms (Views: 40.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 69ms (Views: 64.6ms | ActiveRecord: 0.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PjQ3sywLDCpCN6YtU5PczuOjLEVTNDOE6Y465tQN9fmx9Fkoo66Fy"], ["created_at", "2018-11-18 21:31:37.382007"], ["updated_at", "2018-11-18 21:31:37.382007"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"U7QafoAg2KWiNkulVaN0kzjJIVSTAkbNBncRc/8LE4tRil6pzWmBvDDKkdTEGl858w9LB4oHfwHp834L5OZFDA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:37.644841"], ["updated_at", "2018-11-18 21:31:37.644841"], ["user_id", 28]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.0ms)
Completed 200 OK in 56ms (Views: 52.3ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$OdXUcLlyQLkwBMOWbu.Fv.TuUXY/Os7slwmYhGgw0KmxYMcaBLS5u"], ["created_at", "2018-11-18 21:31:37.979174"], ["updated_at", "2018-11-18 21:31:37.979174"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"H1UkKiOL3Q9rBK+dPGClYYlg8dSsglScdO6+TUg0oVWGlLS/LtDhtuhqEydU70aQ4ZOzkkk4io2d+3UO34MyPA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:38.246335"], ["updated_at", "2018-11-18 21:31:38.246335"], ["user_id", 29]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 257], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 257], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 257], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.1ms)
Completed 200 OK in 59ms (Views: 53.7ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.5ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 257]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (5.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.1ms)
Completed 200 OK in 56ms (Views: 46.7ms | ActiveRecord: 3.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$A.8gumC8hTDeb4WizhbNiuAX/tlmQXW7EWJ.y5CnyxynaUU2Ikbcm"], ["created_at", "2018-11-18 21:31:38.521079"], ["updated_at", "2018-11-18 21:31:38.521079"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9AAXblH+B72YW4INhHxv7S6+qZfmtmA73p3WG5lgcN67uJf/1/ToNIAVmXWsynlPPxLbZEIcua2cPJxOMW4eVg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 47ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.0ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:38.792345"], ["updated_at", "2018-11-18 21:31:38.792345"], ["user_id", 30]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 258]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 46ms (Views: 41.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 19:31:38 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.2ms)
Completed 200 OK in 52ms (Views: 48.0ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rLENGHnzHdAWSFUUYE4di.AglnN/dcCTtQ39WaxfZWfvcO/JNFnlO"], ["created_at", "2018-11-18 21:31:39.049354"], ["updated_at", "2018-11-18 21:31:39.049354"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NOUE4km9/L1a4jqCxzEwaABq/FJtAsXH+BmRTIxPfMGZzy/dQaz2+Z+m0fAqWAjD8UVQ6XW26qym8tF5o+Yyrg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.8ms)
Completed 200 OK in 50ms (Views: 46.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:39.315379"], ["updated_at", "2018-11-18 21:31:39.315379"], ["user_id", 31]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 48ms (Views: 43.8ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RME9fw/bSx3y+Hu3RPJI825sqntcuyCa+2zRQHCVb+wkf9Me3eLy6bRSw6pv5pLvqDWhhxND8bsP9y2f7bB8Iw==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"19", "date(5i)"=>"31"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.6ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 19:31:00"], ["profile_id", 259], ["created_at", "2018-11-18 21:31:39.416034"], ["updated_at", "2018-11-18 21:31:39.416034"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 25ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 259]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.2ms)
Completed 200 OK in 56ms (Views: 50.9ms | ActiveRecord: 0.9ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gE8q/9SRHAxTqzwoBEmUY.QUMHN.B0.NP84AV5FxAJvvfdtDYcB7e"], ["created_at", "2018-11-18 21:31:39.628706"], ["updated_at", "2018-11-18 21:31:39.628706"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 48ms (Views: 46.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"o8zavlYw/AhzO9VhIx8hiheQ9osOPTPrzWvI4ddduNhMFHcLEgb+zfr94fY2S76xtsmxVpOnFbAw+dBXEZb0ZA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 148ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.3ms)
Completed 200 OK in 51ms (Views: 47.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:39.903175"], ["updated_at", "2018-11-18 21:31:39.903175"], ["user_id", 32]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 260], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 260], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 260], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.3ms)
Completed 200 OK in 64ms (Views: 59.5ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 19:31:39 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 260]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (5.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.4ms)
Completed 200 OK in 59ms (Views: 49.7ms | ActiveRecord: 2.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/DxkLGkWWNdiJHF96JWhWeuexhNUjdHfLOS7y6IlpxkkdHWWx7zFe"], ["created_at", "2018-11-18 21:31:40.193661"], ["updated_at", "2018-11-18 21:31:40.193661"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 45.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RyTRXYmMfaMMuarsPGwEi7u7Ftarm/sf5DMWRhIgePZmqO4mBIgXtSXZNfRgY7ziJgPdA9rmosd2bbGXxf3u4A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:40.475593"], ["updated_at", "2018-11-18 21:31:40.475593"], ["user_id", 33]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 261]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 42.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.6ms)
Completed 200 OK in 55ms (Views: 50.6ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xuSWWjMlHrw0E.EUCeKC2.weW2tgP012p5.0A818UaAe3l6cKSFlC"], ["created_at", "2018-11-18 21:31:40.740525"], ["updated_at", "2018-11-18 21:31:40.740525"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HDXOEcTNowq2+c9iPxaJSPE/rkGEIPQo2pV6rBU7BBnU5iMcR/agrIYtSsEzPPABa0avjYMM00SochtBG8MzTA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:41.002493"], ["updated_at", "2018-11-18 21:31:41.002493"], ["user_id", 34]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 48ms (Views: 43.5ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4d2fdwURL85ZZKcATsdwnfrIU5rg7aJJ8ubDX1d+BoJpVXj6qpHSKFMx/6Lk0mv/mNv+yypq8cNNlcrcT5oKaQ==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (1.1ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 262], ["created_at", "2018-11-18 21:31:41.088888"], ["updated_at", "2018-11-18 21:31:41.088888"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 26ms (ActiveRecord: 3.9ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 262]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 49ms (Views: 44.7ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$COI3Qqcdq10RGd2chNyHs.vQQrWJsO0Imhd9nTGliLuw7nEWpnMAe"], ["created_at", "2018-11-18 21:31:41.305678"], ["updated_at", "2018-11-18 21:31:41.305678"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Eyya9JQnoKaxwNRS/jBwIaCEPz9c/0JDk1XnY1MripS4cGTWRpaTSOlL3wkdzMrX2Gi4nGXxVC2WzErW1Ux0QA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:41.569618"], ["updated_at", "2018-11-18 21:31:41.569618"], ["user_id", 35]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 263], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 263], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 263], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.8ms)
Completed 200 OK in 60ms (Views: 54.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.6ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 263]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.6ms)
Completed 200 OK in 59ms (Views: 49.8ms | ActiveRecord: 2.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Fwqs74YoRk/jZRDeMZM/RO314wsP8Eo5tID/kbtp5PXgfl3tGjbVy"], ["created_at", "2018-11-18 21:31:41.849675"], ["updated_at", "2018-11-18 21:31:41.849675"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 46ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:41 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zQPGRn8MHeio5oBlox9/m7fvTD8v06EBw8MLBnStgwIYKptdpevFLqIKnM3b1/DE+5TkpkduCQu5mryj9NUcIA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 47ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:42.123836"], ["updated_at", "2018-11-18 21:31:42.123836"], ["user_id", 36]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 264]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 41.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.3ms)
Completed 200 OK in 48ms (Views: 43.8ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$KAD0cwU6CuO1bppLhoT7p.dyk74DhnZsp4xq42uE062zNlIhbcCn."], ["created_at", "2018-11-18 21:31:42.380522"], ["updated_at", "2018-11-18 21:31:42.380522"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"U17KtinRwJZU7LYNnbJvNZb4X/ABlmxRPwhU7mOQL5Mv99/JrJ/tjK9KYMLe0zK0z2bJn0objbBZr/dmvEL5Pg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 148ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:42.644710"], ["updated_at", "2018-11-18 21:31:42.644710"], ["user_id", 37]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 46ms (Views: 42.0ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"xrl7a8hHaD0pOD3M9ZPFqesggs1/epuEUVa51K3YoymxdOVXhNk3POG5Bq7dx4ar/XxnGFIMhZSnBapaDCdK/Q==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.6ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 265], ["created_at", "2018-11-18 21:31:42.729135"], ["updated_at", "2018-11-18 21:31:42.729135"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 21ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 265]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 49ms (Views: 44.0ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 44ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 51ms (Views: 49.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 44ms (Views: 42.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 54ms (Views: 52.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 48ms (Views: 47.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3cRbDl/EtgQDgyEtqi0qn2fa2LLoHdE87V81hDic4V3knad0hCic6IN6w5xBaYMKJlGTQhwVIfakXHfKsmjS8g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$wYiy4M1s7vfGrqJdCPPXAOrFU9PKyVwCMz5hBNDP1FmtaIlk.cjLy"], ["created_at", "2018-11-18 21:31:43.360294"], ["updated_at", "2018-11-18 21:31:43.360294"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 151ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 55ms (Views: 43.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 45.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$RSvAGE5wTOZCz5AptHy4VOmM5I3isw3Xp2a.W/Cn79bII1HH0mCPG"], ["created_at", "2018-11-18 21:31:43.632947"], ["updated_at", "2018-11-18 21:31:43.632947"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bAEnwjuvJeF9N3gE/uWb9Zy2BTw+MaFwQb8Jy1lZwaxheIqV7K89Kks2J32s89sZ6xHbFX+RyqhvE6qQpC1NPQ==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 192ms (Views: 42.8ms | ActiveRecord: 0.9ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$C4eVAj3bPJuuwHe3FTd28.jd2hdIcf3LPHa3woeY1mnGX/x0HgP6e"], ["created_at", "2018-11-18 21:31:43.981219"], ["updated_at", "2018-11-18 21:31:43.981219"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:43 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 48ms (Views: 47.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ye9Uk9JN94jzQGvFtemDdthTsXFF6xIjzmPtrd80qdxwEPWm06jn8GaIOo3lrg00aGEH3qp/kPXkYTe/GQKwvg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 148ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$7iuDShbdiUScl5Nu1lsideQz.4SSlwJIvbLZxdcdt2bT5C/uUWEB2"], ["created_at", "2018-11-18 21:31:44.390864"], ["updated_at", "2018-11-18 21:31:44.390864"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 54.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"cjvNSuS2G1jAaTjABfmfR0uAk80Ci1GdRfpc7OloxvnuCUiAC91D+vWRwKemJGt9fRPt1kfNLdfQ7pti6l+7pA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.2ms)
Completed 200 OK in 51ms (Views: 46.7ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5V3RaC6o5PPaX7KbZBMzXqKRCB6hUtdj9j9ZvW4OfBoiD1Frth12b7Nrr8hM+Qs8N5Q97sJ6yLu71jWpxgNRmQ==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.5ms)
Completed 200 OK in 54ms (Views: 48.3ms | ActiveRecord: 1.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1XHUTnPcrHn6HnRhHQqX6er9BaZyudQtzU.BdDU.Zi4krv6qGFTim"], ["created_at", "2018-11-18 21:31:44.929173"], ["updated_at", "2018-11-18 21:31:44.929173"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:44 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gQN/nWCLg4u2VOYMSbsG0k1IZ/SCWdhloxXz3r+4YhnPKRZ8GeHyJG3KgExFy3rrwSwLw9CCTGVhik6G40tk+Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.2ms)
Completed 200 OK in 56ms (Views: 52.3ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VHZ5+aULakI8TQe15OGRdO5h9prVpn3W3CBW3YOSD1D4QgKFx7+bhnqskvzy/jCTb4pFs8L73mhWGeEjBUXgyg==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 21:31:45.272486"], ["updated_at", "2018-11-18 21:31:45.272486"], ["user_id", 42]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 266], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 266], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 266], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 59ms (Views: 53.3ms | ActiveRecord: 1.4ms)


  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VmHuYAocwuO6EVnTN5XR6uuPiY7ZasEDcA5Y6YSChbvDHy9UtA3TS"], ["created_at", "2018-11-18 21:31:45.486542"], ["updated_at", "2018-11-18 21:31:45.486542"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LpK8TgHHhv84Am3dylu+6LOD8t986g3QxYdcSNgWLbgmkgwjlQbaDMpsse8nurrenbPW/GSLrg0Kwn7I6NOVmA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:45.748120"], ["updated_at", "2018-11-18 21:31:45.748120"], ["user_id", 43]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.8ms)
Completed 200 OK in 51ms (Views: 46.4ms | ActiveRecord: 0.6ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:45 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"R9yPXPggro24wHV2WjGh32PHv+AzktvC3U5RLGa/XGT7skt3+dymRAdROJsy2uNj0co0F9w+L5b8Od5Oya3Xbw==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 267], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 21:31:45.828819"], ["id", 267]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.5ms)
Completed 200 OK in 68ms (Views: 58.5ms | ActiveRecord: 2.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zVe2prLGnh6D2OBAtEY5XeOnYOxG2xxLDCY17po8OFs8KMerkDPKa"], ["created_at", "2018-11-18 21:31:46.046932"], ["updated_at", "2018-11-18 21:31:46.046932"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HkY8SXVEBnFHQEkrvPbvst213Bn95Hi2bTyE+MNz4oW4Th8diW6vp8wBL9CJDg+uj9cpER/13CRjHYrxQw4y/A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:46.311215"], ["updated_at", "2018-11-18 21:31:46.311215"], ["user_id", 44]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$av7ynXEmoMpIuE6aqSOAsuLJbs54o3P8Qk6gsWKPTT8efSNNuwSX."], ["created_at", "2018-11-18 21:31:46.451578"], ["updated_at", "2018-11-18 21:31:46.451578"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:46.589921"], ["updated_at", "2018-11-18 21:31:46.589921"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.5ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 95ms (Views: 92.9ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Q6fikwzaj6EnSEJoYmasAu7eN4WnQi.17LVh1Vv1RBclZtK2pd0WO"], ["created_at", "2018-11-18 21:31:46.834629"], ["updated_at", "2018-11-18 21:31:46.834629"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:46 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6YbbDtJsWw7EDDqPyYhOOlxgXIFHGWauKcOdQbRcuQEWuGhNCRDGUbYYD6okA9wP9+taGaGr2qbeOwqAEKliWw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:47.098998"], ["updated_at", "2018-11-18 21:31:47.098998"], ["user_id", 46]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 270], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 270], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 270], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.4ms)
Completed 200 OK in 69ms (Views: 64.2ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.6ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 270]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (5.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.2ms)
Completed 200 OK in 59ms (Views: 49.5ms | ActiveRecord: 2.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DQq3XwoFjrLucxvBwRilqeWTzfOpHnKPZ/ccHI1eieZpQf1PMdotG"], ["created_at", "2018-11-18 21:31:47.387937"], ["updated_at", "2018-11-18 21:31:47.387937"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wbFgv/8B+n+y5wsDvYTOeLsDGJY8yGxopEl7oomlEexpvK4xMHHlf3EMRw9FTijVYCXle1bdXrGIN0dYobq0CA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:47.650312"], ["updated_at", "2018-11-18 21:31:47.650312"], ["user_id", 47]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 271]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 42.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.8ms)
Completed 200 OK in 50ms (Views: 45.9ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$50QhfitmUvFv1z2J63ZdxeJBZO3Y/J1JKVslsulAsgtn5Gd6rPKJ6"], ["created_at", "2018-11-18 21:31:47.908351"], ["updated_at", "2018-11-18 21:31:47.908351"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 53ms (Views: 52.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:47 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"looTgnAHa8qp6tbIR9DOgLj2EL1sI1521fO7kcahQxYPCMHC8im1rhZnxUvh8TlF1PkNEps3QRNl3lgYpH/m/Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:48.180450"], ["updated_at", "2018-11-18 21:31:48.180450"], ["user_id", 48]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (81.3ms)
Completed 200 OK in 95ms (Views: 90.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0p3u/iVqK9WAXHU7RE5ln0CV6BiCttUxgoxZN9A/FStjfSiZ77guD55Edm2Qz1LGWZhM/8By8wTOsWlT9CUEkw==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 272], ["created_at", "2018-11-18 21:31:48.303405"], ["updated_at", "2018-11-18 21:31:48.303405"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.5ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 272]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.8ms)
Completed 200 OK in 50ms (Views: 45.3ms | ActiveRecord: 1.1ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$prDT5s3bBs3XN20kMHJrmu119mUaSFbelQf5dlgvPRgVp.zrgIDjm"], ["created_at", "2018-11-18 21:31:48.508254"], ["updated_at", "2018-11-18 21:31:48.508254"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KAv39PUadt4unszBlzxOOW33cUe1Wv04DlA0gm+hoIep0/JNsKKXYEGHm75mbxbdcQk+h2UXA5d7PzYLK593Lg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.5ms)
Completed 200 OK in 55ms (Views: 51.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:48.778720"], ["updated_at", "2018-11-18 21:31:48.778720"], ["user_id", 49]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 273], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 273], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 273], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.7ms)
Completed 200 OK in 60ms (Views: 55.2ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 19:31:48 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 273]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.5ms)
Completed 200 OK in 54ms (Views: 49.2ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$bXuqS6JX4VCM2SYu/tl1Menr5KHRA9JExTZN16hrG5ZNZ/ohj1B1."], ["created_at", "2018-11-18 21:31:49.053289"], ["updated_at", "2018-11-18 21:31:49.053289"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 46ms (Views: 45.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dBDNvRjQOMFEO7xm2grnwAAcfMM+kTGqDPTsfo+ickh6qXrMr4QJqQxaPo4xv4HYAT1Ny+98iagGZNjhjDuTWQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 145ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:49.316517"], ["updated_at", "2018-11-18 21:31:49.316517"], ["user_id", 50]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 274]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.3ms)
Completed 200 OK in 47ms (Views: 42.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.8ms)
Completed 200 OK in 57ms (Views: 52.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DaYdrxdMWmTBHPu.RzcaWOKVuXlCorP.lBDxFHVp7GevZMybWsW2y"], ["created_at", "2018-11-18 21:31:49.580593"], ["updated_at", "2018-11-18 21:31:49.580593"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NxLpIi49I4hWzDa0OW1a0jfTG9mjOepTJt1dm2DGByDNK3LbX7suW7SZWPaotQ7gwQ5ne5ucPxt1f4qch3Ce+w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:49.844320"], ["updated_at", "2018-11-18 21:31:49.844320"], ["user_id", 51]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 46ms (Views: 41.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uH4c8jyAcS7I9YJptVRmrTivPKvIuBYwQkNnpFaPlDxk5bEjq4vYlTCR6xrVPc9FvvoEL2QLPc1UeGDuMFCr4w==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.6ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 275], ["created_at", "2018-11-18 21:31:49.918558"], ["updated_at", "2018-11-18 21:31:49.918558"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 19:31:49 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 275]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.7ms)
Completed 200 OK in 53ms (Views: 48.8ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$aT0UMPB4vHn8tWNfFlazfOEsO4cEAtXDCeN7soHNgZGJqTkdqqHau"], ["created_at", "2018-11-18 21:31:50.126692"], ["updated_at", "2018-11-18 21:31:50.126692"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 53ms (Views: 52.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hcHFrQhXheTOvZQHhDxdbdtdwZR9BMh0+nzbjEupEKtuNIqa7SCtNvy5+9XRx0LBxc3qAme61H+9/WgaJa/Tfg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 47ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:50.398148"], ["updated_at", "2018-11-18 21:31:50.398148"], ["user_id", 52]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 276], ["created_at", "2018-11-18 21:31:50.403523"], ["updated_at", "2018-11-18 21:31:50.403523"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 276], ["created_at", "2018-11-18 21:31:50.406328"], ["updated_at", "2018-11-18 21:31:50.406328"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 276]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 276], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 276], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 276], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (11.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.6ms)
Completed 200 OK in 60ms (Views: 54.9ms | ActiveRecord: 1.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$qc2nG3VHTa/0Vv3IL4ZSFOOfZ4N8PURhyyByMs.bklFvH48cvZTr."], ["created_at", "2018-11-18 21:31:50.619939"], ["updated_at", "2018-11-18 21:31:50.619939"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"nliN3r2SvIAmDZwXiE+pjGrD1UpBN8FmdnghLNoYGborh9SlSNRLvQPv2mLSpi3attv12aR1ggud1UIDWu7YsQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:50.881665"], ["updated_at", "2018-11-18 21:31:50.881665"], ["user_id", 53]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 277]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 277], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 277], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 277], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.0ms)
Completed 200 OK in 70ms (Views: 64.5ms | ActiveRecord: 1.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$BMvCxIeyOWJ8cfDL3fzEdOY7n7AgEm0zjhJc/vKTnUtpDl1Ncd6By"], ["created_at", "2018-11-18 21:31:51.108206"], ["updated_at", "2018-11-18 21:31:51.108206"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"tXKsNb6PvqXjdkq3PsANgf0FFZYB2M5yEnbjf+jwYYAbSAx153eAwXtS0i+5xdozMxEmJ6TJtvkAg/niLb+4fw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 147ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:51.371549"], ["updated_at", "2018-11-18 21:31:51.371549"], ["user_id", 54]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 278], ["created_at", "2018-11-18 21:31:51.375956"], ["updated_at", "2018-11-18 21:31:51.375956"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 278], ["created_at", "2018-11-18 21:31:51.378535"], ["updated_at", "2018-11-18 21:31:51.378535"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 278]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 278], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 278], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 278], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 278], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (12.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.0ms)
Completed 200 OK in 60ms (Views: 54.4ms | ActiveRecord: 1.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$g69uJpWAq.s6YyroheQO7uJpy8M2Q8mL/KAGTnZ3xIg.m5UoSQxs6"], ["created_at", "2018-11-18 21:31:51.592255"], ["updated_at", "2018-11-18 21:31:51.592255"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TJhRIWdAyIQwEtceWxgfIOqXkJ9u04uPq2LS4kLe3uAxwpSyOEdU7Sxvdpt+6CD7scWdexPkJ1wcuh8ciFaNKQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 54ms (Views: 50.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:51.863379"], ["updated_at", "2018-11-18 21:31:51.863379"], ["user_id", 55]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 279]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:51 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 279], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 279], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 279], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (11.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 73ms (Views: 68.4ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZYCA02O.9/9IEVwjEFAQ2uYq.90ryuZkc2PWng5cMrYpn0VLcyLtO"], ["created_at", "2018-11-18 21:31:52.104023"], ["updated_at", "2018-11-18 21:31:52.104023"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1nxfhz3lK/RoHI1qbxNGjdy2lnZ+MPp5kKeUuof9dVLTi+p9IdbYZEuAj3JOAqIiPi/0qy/z3gJuAElk9ctLFQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 47ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:52.365907"], ["updated_at", "2018-11-18 21:31:52.365907"], ["user_id", 56]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 280], ["created_at", "2018-11-18 21:31:52.370608"], ["updated_at", "2018-11-18 21:31:52.370608"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 280], ["created_at", "2018-11-18 21:31:52.373245"], ["updated_at", "2018-11-18 21:31:52.373245"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 280]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 280]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 280], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 280], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 280], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 280], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 280], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 280], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (26.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.4ms)
Completed 200 OK in 83ms (Views: 78.0ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$XEKvPu7UU6Kv74L.zkpM7uhZ84Quw5xqSdhzDSmnfk3XnuBPAqyoK"], ["created_at", "2018-11-18 21:31:52.612823"], ["updated_at", "2018-11-18 21:31:52.612823"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QYy+d8qX44aDDWi3gUvWIWdqeIcPIpR/eazvPoZRChOpu3ETAwI3TI3y5bk/JIIKICDuxRLgaMwMBoikckYthQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:52.875042"], ["updated_at", "2018-11-18 21:31:52.875042"], ["user_id", 57]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 281]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 281], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 281], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 281], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (11.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.8ms)
Completed 200 OK in 59ms (Views: 54.3ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VLEW7FUNiMUSvmNIEli8TeFJ0KZQ7w3r92EPG8BvcjlKy6DOEtgA."], ["created_at", "2018-11-18 21:31:53.089115"], ["updated_at", "2018-11-18 21:31:53.089115"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:53 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 19:31:53 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Dkqddxg030HKhMdoz/hhCW4iT4LkmoHwSj74IBYdhQ3fTrGnYjqr4VvVbRoAawgY9tcbFmMtvas4P0sAehH6sA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 146ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:53 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 19:31:53 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.2ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:53.361972"], ["updated_at", "2018-11-18 21:31:53.361972"], ["user_id", 58]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 282]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 19:31:53 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 282], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 282], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 282], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (10.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 59ms (Views: 54.5ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:17:32 -0200
  
PG::ConnectionBad (could not connect to server: No such file or directory
	Is the server running locally and accepting
	connections on Unix domain socket "/tmp/.s.PGSQL.5432"?
):
  
pg (1.1.3) lib/pg.rb:56:in `initialize'
pg (1.1.3) lib/pg.rb:56:in `new'
pg (1.1.3) lib/pg.rb:56:in `connect'
activerecord (5.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:684:in `connect'
activerecord (5.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:215:in `initialize'
activerecord (5.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `new'
activerecord (5.2.1) lib/active_record/connection_adapters/postgresql_adapter.rb:40:in `postgresql_connection'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:809:in `new_connection'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:853:in `checkout_new_connection'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:832:in `try_to_checkout_new_connection'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:793:in `acquire_connection'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:521:in `checkout'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:380:in `connection'
activerecord (5.2.1) lib/active_record/connection_adapters/abstract/connection_pool.rb:1008:in `retrieve_connection'
activerecord (5.2.1) lib/active_record/connection_handling.rb:118:in `retrieve_connection'
activerecord (5.2.1) lib/active_record/connection_handling.rb:90:in `connection'
activerecord (5.2.1) lib/active_record/migration.rb:554:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'
activesupport (5.2.1) lib/active_support/callbacks.rb:98:in `run_callbacks'
actionpack (5.2.1) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:61:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-11-18 20:19:50 -0200
  [1m[35m (6.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 652ms (Views: 639.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:20:08 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (17.9ms)
Completed 200 OK in 122ms (Views: 84.8ms | ActiveRecord: 15.6ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 20:20:20 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dcKUFvXaTN2OiFNwRQrDMP83wnwOTH4rgPGcFuLOtEQHgXJK/6eXMHbDdqf/QW0R1032OCqwyVn1IFb6MIm2sA==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (4.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (1.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 235ms (Views: 57.3ms | ActiveRecord: 6.8ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 20:20:27 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UIuVqyLesImZMCYUbs6hCC4DsIjvkCwNjMkPdiUcDuNwWxGeg/98J6mDtu6QofV1be3i3guRLft7UBEO/B84xA==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 217ms (Views: 58.8ms | ActiveRecord: 0.7ms)


Started GET "/users" for 127.0.0.1 at 2018-11-18 20:20:31 -0200
  
ActionController::RoutingError (No route matches [GET] "/users"):
  
actionpack (5.2.1) lib/action_dispatch/middleware/debug_exceptions.rb:65:in `call'
web-console (3.7.0) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.7.0) lib/web_console/middleware.rb:30:in `block in call'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `catch'
web-console (3.7.0) lib/web_console/middleware.rb:20:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (5.2.1) lib/rails/rack/logger.rb:38:in `call_app'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `block in tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (5.2.1) lib/active_support/tagged_logging.rb:71:in `tagged'
railties (5.2.1) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.0.5) lib/rack/method_override.rb:22:in `call'
rack (2.0.5) lib/rack/runtime.rb:22:in `call'
activesupport (5.2.1) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (5.2.1) lib/action_dispatch/middleware/static.rb:127:in `call'
rack (2.0.5) lib/rack/sendfile.rb:111:in `call'
railties (5.2.1) lib/rails/engine.rb:524:in `call'
puma (3.12.0) lib/puma/configuration.rb:225:in `call'
puma (3.12.0) lib/puma/server.rb:658:in `handle_request'
puma (3.12.0) lib/puma/server.rb:472:in `process_client'
puma (3.12.0) lib/puma/server.rb:332:in `block in run'
puma (3.12.0) lib/puma/thread_pool.rb:133:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2018-11-18 20:20:37 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 77ms (Views: 73.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:20:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 70ms (Views: 66.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:20:45 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P+VOIhxTMFSZMJmMoYw6VHmCnzGat0wA39AWP9tHu+sWpVJdj1/rl/dbx1GJsjyleE1yLoVa5M/8RUzGgOYrZg==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 151ms (ActiveRecord: 1.8ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P+VOIhxTMFSZMJmMoYw6VHmCnzGat0wA39AWP9tHu+sWpVJdj1/rl/dbx1GJsjyleE1yLoVa5M/8RUzGgOYrZg==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 192ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:20:48 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"A9EGFIyo/e+O7ho0coby45qeZYjFErpRqhpW8lYtLRkjAYIhLYkxQb5dis6M6aae2XA33iETu6ddg0iKjy4bPg==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Completed 401 Unauthorized in 141ms (ActiveRecord: 0.8ms)


Processing by Devise::SessionsController#new as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"A9EGFIyo/e+O7ho0coby45qeZYjFErpRqhpW8lYtLRkjAYIhLYkxQb5dis6M6aae2XA33iETu6ddg0iKjy4bPg==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 197ms (Views: 55.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:20:52 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CGIi3mL8brCtq0K/15ts4yZ1JWFt+nMjOKSMxRrznrIosqbrw92iHp0Y0kUp9DieZZt3N4n7ctXPPZK9w/ColQ==", "user"=>{"email"=>"teste@gmail.com", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
Redirected to http://localhost:3000/profiles/teste@gmail.com
Completed 302 Found in 157ms (ActiveRecord: 0.6ms)


Started GET "/profiles/teste@gmail.com" for 127.0.0.1 at 2018-11-18 20:20:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (4.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (3.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (2.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 229], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (50.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.9ms)
Completed 200 OK in 165ms (Views: 109.5ms | ActiveRecord: 22.1ms)


Started GET "/profiles/teste@gmail.com/medications" for 127.0.0.1 at 2018-11-18 20:21:05 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (2.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (7.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.8ms)
Completed 200 OK in 56ms (Views: 42.9ms | ActiveRecord: 4.7ms)


Started GET "/profiles/teste@gmail.com/medications/new" for 127.0.0.1 at 2018-11-18 20:21:07 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (12.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.7ms)
Completed 200 OK in 86ms (Views: 75.9ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:21:10 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (4.2ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (11.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.5ms)
Completed 200 OK in 75ms (Views: 55.0ms | ActiveRecord: 6.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:21:13 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (7.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 76ms (Views: 68.5ms | ActiveRecord: 1.0ms)


  [1m[35m (1.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (4.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$8Om/F/Mh.F9eJMX.NnpgZuz/NrUaiN9M4Px8NsDjCjShJSGaLztpy"], ["created_at", "2018-11-18 22:22:53.101880"], ["updated_at", "2018-11-18 22:22:53.101880"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:53 -0200
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (20.4ms)
Completed 200 OK in 566ms (Views: 551.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:53 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4QTOmZrKmXzIC79BolGnPSq2eKTMslUECHENGwGyZxPxmO6V+pzC4TogaXuGQZVajF/9IHnzhkzksVp8aWlE2g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 224ms (ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:54 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 55ms (ActiveRecord: 2.9ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:54 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (91.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.8ms)
Completed 200 OK in 186ms (Views: 171.3ms | ActiveRecord: 1.8ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (1.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (4.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:54.333700"], ["updated_at", "2018-11-18 22:22:54.333700"], ["user_id", 59]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:54 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.9ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 283], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 283], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 283], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (63.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (91.8ms)
Completed 200 OK in 187ms (Views: 166.6ms | ActiveRecord: 7.2ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:22:54 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (2.8ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 283]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (9.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.5ms)
Completed 200 OK in 90ms (Views: 74.9ms | ActiveRecord: 5.9ms)


  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$B2CYPPbCa6oK9F3K6pclPO7DQio147jgQLNp4iqIeCpZ5nnCfNWu6"], ["created_at", "2018-11-18 22:22:54.812456"], ["updated_at", "2018-11-18 22:22:54.812456"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:54 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:54 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gXzLZBYPx1MzV5/IF0QFNYjA0XRDt0i0Ax4KhUIOXImcHXsD5pTI5b7vha8jdYbRLXwA6DDKCaJ1y0Yl31yx7Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:55.097892"], ["updated_at", "2018-11-18 22:22:55.097892"], ["user_id", 60]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 284]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.4ms)
Completed 200 OK in 68ms (Views: 62.9ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.2ms)
Completed 200 OK in 71ms (Views: 66.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GkLGzGi9HYQ06.kGbI19NO8sN7LidJY/vvq4YJEOveQ/LLEYXt1fm"], ["created_at", "2018-11-18 22:22:55.412303"], ["updated_at", "2018-11-18 22:22:55.412303"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"a653BuIOTU/Y6jGN4qCaS3oVwLiNEHGuIsYAG0BXqfhwpYaTUjd+QuHc6vA2AE342GATO+BF2RXJ1mbBSGg4+Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.4ms)
Completed 200 OK in 45ms (Views: 40.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:55.697363"], ["updated_at", "2018-11-18 22:22:55.697363"], ["user_id", 61]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (73.2ms)
Completed 200 OK in 86ms (Views: 82.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B8DZ/+PRwhxovRi9jHHOoZJCP9Cbt+Xnb6TUc/6TZuML7JjKati2nJn0eq5/UNvJIA9JLrm44AUvxMG7q6C2kg==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (2.9ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 285], ["created_at", "2018-11-18 22:22:55.812764"], ["updated_at", "2018-11-18 22:22:55.812764"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 16ms (ActiveRecord: 5.3ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:22:55 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 61], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 285]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.6ms)
Completed 200 OK in 78ms (Views: 73.8ms | ActiveRecord: 1.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$odyphV97nZxN1aF11ZOBjusWHTSyQAcI812JTpCSwqQVJ4370CHHO"], ["created_at", "2018-11-18 22:22:56.061377"], ["updated_at", "2018-11-18 22:22:56.061377"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/pCG5B2NHpvLyDYyeDYB6u++FYvSscKmi9De8gaE41uaNw/UR47IvedmDMNPLjPjb20UkYi8XQKkXTiNOyF1Yw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:56.328134"], ["updated_at", "2018-11-18 22:22:56.328134"], ["user_id", 62]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 286], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 286], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 286], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (19.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.2ms)
Completed 200 OK in 99ms (Views: 94.2ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 62], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (2.1ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 286]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (10.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.2ms)
Completed 200 OK in 87ms (Views: 70.2ms | ActiveRecord: 6.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5cGx634RFCO6JjgyGUI2PuzvAqg.y01oLRiHwMChpp8EBIdAEYKq."], ["created_at", "2018-11-18 22:22:56.703526"], ["updated_at", "2018-11-18 22:22:56.703526"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 56ms (Views: 55.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MLj2LxmdrnikvSKc/BQ1p/AB4rn1+Y1KL2j/KuD96KPcIAgo4Q5h6+l6J4fNSx0T2k174Yb4yPmRVY069KHbiw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:56 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.1ms)
Completed 200 OK in 52ms (Views: 48.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:57.015714"], ["updated_at", "2018-11-18 22:22:57.015714"], ["user_id", 63]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 287]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.7ms)
Completed 200 OK in 89ms (Views: 80.2ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 63], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.5ms)
Completed 200 OK in 88ms (Views: 77.3ms | ActiveRecord: 1.1ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vAO54uS2sqPqtd7/RZgmVO9FcMfhqPrYZYNmoRL848GAITtSdHOj6"], ["created_at", "2018-11-18 22:22:57.388737"], ["updated_at", "2018-11-18 22:22:57.388737"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 51ms (Views: 50.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kTX6BfWtHMzGqNjoMgfgghVoa5kp869WpBvnSQ73q+QaZUOXS288pSgzRJI6rcH8pjoMn+5F8IClbGZgCMz7Pg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 191ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.0ms)
Completed 200 OK in 55ms (Views: 51.6ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:57.714415"], ["updated_at", "2018-11-18 22:22:57.714415"], ["user_id", 64]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.0ms)
Completed 200 OK in 75ms (Views: 66.1ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3k6WmRwi+daWtHARVPB7wkgXG4tuU59BYmlJc+cBvnJeVI4FCj/0+ubfeZKCiMTzYoQi0xJXqh/HFhbSJwo2LQ==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (12.5ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 288], ["created_at", "2018-11-18 22:22:57.839514"], ["updated_at", "2018-11-18 22:22:57.839514"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 36ms (ActiveRecord: 15.1ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:22:57 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 64], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 288]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.1ms)
Completed 200 OK in 76ms (Views: 68.5ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$yrpCEQUgVN6jHfhWdbKsWe7ZFqloHFpp1yOxTyukypVuM4yEHVAtK"], ["created_at", "2018-11-18 22:22:58.105552"], ["updated_at", "2018-11-18 22:22:58.105552"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 46.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PmBRn4LmJSs6colwBy+3M7tTm57MLWzZruIEnsKOLbs9kTzi3bPBgpF0/N/H21AMhbIetZihPJFAK/C5tWiJKg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.0ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:58.401147"], ["updated_at", "2018-11-18 22:22:58.401147"], ["user_id", 65]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 289], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 289], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 289], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (20.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.9ms)
Completed 200 OK in 93ms (Views: 86.6ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 65], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (2.1ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 289]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (10.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 89ms (Views: 73.7ms | ActiveRecord: 5.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZNLBtX.PiCyqxpE4mUSMY.xzN9Drsz4BHtg9f/fKoCeA86WaUg4oK"], ["created_at", "2018-11-18 22:22:58.757077"], ["updated_at", "2018-11-18 22:22:58.757077"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"u3rnaFQeVkFKoZv1IQQO/4F3NgDfKFoJBkQ2vtw+W0aPe7iW8LIXBx8p4bLwxzE0Z4MC94xCzf1SpB164socvw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:58 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 51ms (Views: 46.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:59.048310"], ["updated_at", "2018-11-18 22:22:59.048310"], ["user_id", 66]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 290]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.3ms)
Completed 200 OK in 63ms (Views: 57.8ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 66], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (9.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.3ms)
Completed 200 OK in 86ms (Views: 77.8ms | ActiveRecord: 1.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$yeHkWsbJynz/60JvQ.LjgOg.J9bkkgQvNarhyb3xjDpZxYoPiSP1G"], ["created_at", "2018-11-18 22:22:59.500984"], ["updated_at", "2018-11-18 22:22:59.500984"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (7.0ms)
Completed 200 OK in 115ms (Views: 113.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KorZOV2uhkmlpeyOsLUuAfJRTPK7KBDqFWXW+etpQbFmVQ8zdCDdccB52X/tPCgxyPF7XDk6B21cwQh0pApkqQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 183ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 49ms (Views: 45.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:59.893112"], ["updated_at", "2018-11-18 22:22:59.893112"], ["user_id", 67]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:22:59 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.5ms)
Completed 200 OK in 80ms (Views: 74.1ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/BVMnx3CiwZ72kWTVBKVBvgXcPl0+ktPNDucHegEXOb8bG5nVuQdFJAo0qlMSlXeqvwPpT0hDa3EY6YXnvsZdg==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"22"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (2.5ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 20:22:00"], ["fasting", true], ["profile_id", 291], ["created_at", "2018-11-18 22:23:00.033472"], ["updated_at", "2018-11-18 22:23:00.033472"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 26ms (ActiveRecord: 6.5ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 291]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 77ms (Views: 69.8ms | ActiveRecord: 0.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Q2eo0FNNaJeQzk92Q.8CUOJPD1okFBogfw3hug1mS4n4CsPbdo6c."], ["created_at", "2018-11-18 22:23:00.289195"], ["updated_at", "2018-11-18 22:23:00.289195"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"r7IHrEvJSXbQrcByU+Vn6Bp3teAhLFpfBOxnS+X//YHAdqPKaBJ7Kk/BaMydTh8mjSDcf34rgi7/mkYcGyuvGA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:00.558039"], ["updated_at", "2018-11-18 22:23:00.558039"], ["user_id", 68]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 292], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 292], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 292], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (19.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.0ms)
Completed 200 OK in 89ms (Views: 83.9ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (1.2ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 292]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (6.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.1ms)
Completed 200 OK in 80ms (Views: 69.4ms | ActiveRecord: 3.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$D6rc1NMg7b2BSu.Y9zKWQ.rKtFemYVE9hXFbwt16a8A1GgFWmXZaK"], ["created_at", "2018-11-18 22:23:00.905124"], ["updated_at", "2018-11-18 22:23:00.905124"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3aGxI3Wbqw0PDKlbZFzx/aYpYtg/bOLQ3qZECSPtHP9R/zvlYkBAX7HNiW0cD//bQlFyA4xqBlHTy53hmp7zPA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:01.170470"], ["updated_at", "2018-11-18 22:23:01.170470"], ["user_id", 69]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 293]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.5ms)
Completed 200 OK in 59ms (Views: 53.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 89ms (Views: 80.7ms | ActiveRecord: 0.7ms)


  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$cBDqjGGmqhynPlsEExp3yuYnptk9m8kci.t7Y.cGkNenEKGH6hyFS"], ["created_at", "2018-11-18 22:23:01.512546"], ["updated_at", "2018-11-18 22:23:01.512546"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DI7xnxZqi4GwQhMwnBktjXJoob7F8XcFKXDwYbo9H6xc8ZytnpWHqjESHEFzSVMxmPh8A7sh4pUBifaD7/UlHg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:01.793580"], ["updated_at", "2018-11-18 22:23:01.793580"], ["user_id", 70]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.6ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+L+QQ0dT9kainN1SQt9CXwFmyqpR/oQK58pK/7MsP4zBI+fZGbQP+BcBka6AUPiuY52TLjsNE56QZ8GnSqIQsg==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (2.1ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 294], ["created_at", "2018-11-18 22:23:01.885418"], ["updated_at", "2018-11-18 22:23:01.885418"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 16ms (ActiveRecord: 5.1ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:23:01 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 294]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (10.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.8ms)
Completed 200 OK in 93ms (Views: 78.8ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$8hRu3.kG26/WeXksuugJBOGbFu7D7hI/pSfGdyjjq5Qcwz6bPxOiu"], ["created_at", "2018-11-18 22:23:02.146783"], ["updated_at", "2018-11-18 22:23:02.146783"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EjWBGlGp7lK3w5n+n+wzOcsu7bGCAYd5ORimtcSeBqDCHRkGuzm/jtikvk18SQU2WWQxS7aTq8dOa1dzfQlaaA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.9ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.3ms)
Completed 200 OK in 44ms (Views: 41.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:02.412245"], ["updated_at", "2018-11-18 22:23:02.412245"], ["user_id", 71]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 295], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 295], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 295], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.1ms)
Completed 200 OK in 77ms (Views: 71.1ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 295]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.5ms)
Completed 200 OK in 90ms (Views: 79.7ms | ActiveRecord: 1.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$a6ozhpaeFs4HSMKe6XuAzeARNJ75nVcRX5cKDTCBdwlkcHNLEMvVK"], ["created_at", "2018-11-18 22:23:02.761122"], ["updated_at", "2018-11-18 22:23:02.761122"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kK6zJhpRi2NLkVxeZhrOOBejv7zpsqvYoVpYIWGYRfxaep44i3GeI3of+V5ooMOBYKdQz9FFSJq9GLaDKk8WAQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:03.045046"], ["updated_at", "2018-11-18 22:23:03.045046"], ["user_id", 72]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 296]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.0ms)
Completed 200 OK in 78ms (Views: 72.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.8ms)
Completed 200 OK in 71ms (Views: 65.5ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$lPdfzEuIjFqeTh.YSWC8m.A3.ZNcQZeuvw1G6b4cmoX4gzebkGwQ."], ["created_at", "2018-11-18 22:23:03.369676"], ["updated_at", "2018-11-18 22:23:03.369676"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ILc77XUJFLrCdhUrGu04iQEV0BYxjSE3YzHG2XJu5NLhjlSakuFmvwRN7d9zKS/JtVgkwcrM4J21aCSzy7RJKg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 51ms (Views: 45.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:03.657916"], ["updated_at", "2018-11-18 22:23:03.657916"], ["user_id", 73]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.1ms)
Completed 200 OK in 63ms (Views: 58.5ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rXg3pLZYhhwAySJWpVcgoROEXF8FZ31hculsoKU2CbLuxTphuXCTg6IGBtZa+KrUN2qNT2Tinf+hjm+PC7SpjQ==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (2.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 297], ["created_at", "2018-11-18 22:23:03.755810"], ["updated_at", "2018-11-18 22:23:03.755810"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 18ms (ActiveRecord: 5.0ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:23:03 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 297]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.4ms)
Completed 200 OK in 78ms (Views: 68.8ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$W0tZHTkEic5yDV20GSDWt.M/q4Iy0JBgjayX9iowTh7LaX.9s0C32"], ["created_at", "2018-11-18 22:23:04.026210"], ["updated_at", "2018-11-18 22:23:04.026210"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BBLNhNNgryZfRo3MCwCs/mmU61eFTT/wzJhBcCyG54X1FAwYXQHtnOLceX9bL2Ub/ILwNdp+XwNbJhDN/bvC6g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.1ms)
Completed 200 OK in 54ms (Views: 50.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:04.309329"], ["updated_at", "2018-11-18 22:23:04.309329"], ["user_id", 74]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 298], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 298], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 298], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (18.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.6ms)
Completed 200 OK in 97ms (Views: 91.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (2.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 298]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (13.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (88.4ms)
Completed 200 OK in 148ms (Views: 125.2ms | ActiveRecord: 8.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$4h/wT0vojW27PiJzwLWFLeJsPtRHISg.EZGm7AU.UR3M1VXSji0pS"], ["created_at", "2018-11-18 22:23:04.758699"], ["updated_at", "2018-11-18 22:23:04.758699"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 50ms (Views: 49.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6LhAqsIpvZAAcjXghbDtFsbZOoqKwMc9Cos61zjNtrMQNpAltHm5yw6HqVIi4iOGjnrBgREtiY82QfyX5Rcv0A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.0ms)
Completed 200 OK in 52ms (Views: 48.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:05.052521"], ["updated_at", "2018-11-18 22:23:05.052521"], ["user_id", 75]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 299]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.9ms)
Completed 200 OK in 68ms (Views: 59.5ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.2ms)
Completed 200 OK in 85ms (Views: 76.7ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$2cvr6/EEIU3DBKOs9aY8hOdVQVxAUYmnHLkHt8ad7jKkSoQzDfWLS"], ["created_at", "2018-11-18 22:23:05.376063"], ["updated_at", "2018-11-18 22:23:05.376063"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 55ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d++JlqGBxjdnJOkZamok/WOm+E+fKokf+WVwoP4dYy60bpH4XwK+i/WNUJ+fQLQnhEfA0ma3Msj/Bh1EJKYqYw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 47ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:05.674828"], ["updated_at", "2018-11-18 22:23:05.674828"], ["user_id", 76]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.8ms)
Completed 200 OK in 61ms (Views: 56.0ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"q9fkaY6r6zQfvqdKH2XTGsVd/5AqDlZj+USWkMGVPXSakTxZ6ynv65HPVZsOFbkRXyWPb+Sldwyj/ASjhWHPUg==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (2.2ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 300], ["created_at", "2018-11-18 22:23:05.778572"], ["updated_at", "2018-11-18 22:23:05.778572"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 22ms (ActiveRecord: 6.2ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:23:05 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 300]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.1ms)
Completed 200 OK in 70ms (Views: 64.7ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$8.euvb.nItphO5fc7mGJqOLEzlXRRSH1Gm7RgSCnRGJNGqKIhpcW."], ["created_at", "2018-11-18 22:23:06.024156"], ["updated_at", "2018-11-18 22:23:06.024156"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AEzhuqm7agmIEerTEk3pS+X6Zph0GTufegBoz2B+7DP5/pUH2f6wb8S8JP6ENfrNXn0tLg8u9TPMO7mMxTs2uw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.3ms)
Completed 200 OK in 44ms (Views: 40.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:06.309588"], ["updated_at", "2018-11-18 22:23:06.309588"], ["user_id", 77]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 301], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 301], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 301], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (17.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.4ms)
Completed 200 OK in 97ms (Views: 91.8ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.7ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 301]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (9.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.4ms)
Completed 200 OK in 101ms (Views: 84.2ms | ActiveRecord: 4.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Wq6bo47uyV9GDwLccaRcMumTQlR0o/2zPpIt3OZr/Mlip1A.WUANy"], ["created_at", "2018-11-18 22:23:06.683360"], ["updated_at", "2018-11-18 22:23:06.683360"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 63ms (Views: 61.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"E9nN9uZU7sKUJn/895nGdyx/sldcUFkOSw9PCOrXJErAPDOfmXS7/3H54kZ5R+M33a5Yf+IZ7PIIhS+3Cf352Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:06.994158"], ["updated_at", "2018-11-18 22:23:06.994158"], ["user_id", 78]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:23:06 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 302]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 80ms (Views: 72.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.7ms)
Completed 200 OK in 86ms (Views: 81.8ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$j9YFwP.sHY1L6oRwlmMBMuX5rSZSwbh4RMYfbPNdcrgqeMiivjY.e"], ["created_at", "2018-11-18 22:23:07.352186"], ["updated_at", "2018-11-18 22:23:07.352186"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HkHsUofUFFeUphjqnhbE+GwkAvsJBxU7rUuOyeIMoYcTTzcbVXp5FqbwHVFFJiKOeaWziCZEKXmVXcJm1iOAQA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:07.648877"], ["updated_at", "2018-11-18 22:23:07.648877"], ["user_id", 79]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.6ms)
Completed 200 OK in 66ms (Views: 62.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"I2PNXxI/PsT+aO5vVzutH54Pn/RZFyfw4lOyhUMNjNkmmXiIqlE61wSZFJk+ICh4K1dYl188dTX4NiLgCtmYkA==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (2.5ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 303], ["created_at", "2018-11-18 22:23:07.768599"], ["updated_at", "2018-11-18 22:23:07.768599"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 21ms (ActiveRecord: 6.4ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:23:07 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 303]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.7ms)
Completed 200 OK in 86ms (Views: 77.8ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$71lUTnvhD8TgiZk839O0UenhQXpM7kYSs1Prht4clsoIVg9Y7sJT."], ["created_at", "2018-11-18 22:23:08.023372"], ["updated_at", "2018-11-18 22:23:08.023372"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Dgq/lw62Ny0DPOEOakzhL315ObXDeSa5HQci47rvqlb0mkPEsy+KDV30voWwgQ36VXFF3CsgdR7m9zeDoHEpCA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:08.292203"], ["updated_at", "2018-11-18 22:23:08.292203"], ["user_id", 80]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 304], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 304], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 304], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (17.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.2ms)
Completed 200 OK in 95ms (Views: 86.4ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (2.7ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 304]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (11.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.1ms)
Completed 200 OK in 89ms (Views: 71.3ms | ActiveRecord: 5.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EqM1Jk4pg6TpCdmAfZ9I4u1x6p/Jtc7LScZS2BSavQ6vB5kKCi/mC"], ["created_at", "2018-11-18 22:23:08.661186"], ["updated_at", "2018-11-18 22:23:08.661186"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 57ms (Views: 55.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"y4KGCUNaJ3dDOIrS+KcAs+DGpK4pLiYkGRRgnHDledWGTvLVtjuLuhixsrOcM2M24ERetHHyxSdOCn2MaXwA9Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.1ms)
Completed 200 OK in 50ms (Views: 45.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:08.952174"], ["updated_at", "2018-11-18 22:23:08.952174"], ["user_id", 81]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:23:08 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 305]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.1ms)
Completed 200 OK in 78ms (Views: 72.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.6ms)
Completed 200 OK in 67ms (Views: 61.4ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$24bWSBoPaV27e5HIUVNIduIu6lfqXhb7CCQWHoriR4fLP.dkZiXgK"], ["created_at", "2018-11-18 22:23:09.266691"], ["updated_at", "2018-11-18 22:23:09.266691"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ST3Gj7l2mEhJvhd2I1QuOuIBjfX6cuYwmYeEgc1SN53F+3VOJO2j9mAJKi1SDwDJmQqEe8iA3HH+VNTEiuIAjg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:09.554240"], ["updated_at", "2018-11-18 22:23:09.554240"], ["user_id", 82]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.7ms)
Completed 200 OK in 60ms (Views: 55.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jgy6/eVpaaATdbmYjo50LtZNt0zF1dYmGqlw1DntjjPFwUNc/QVeu3EkfGCbzpcrNOABOhTS/nGYmaK7b3F6Zw==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (2.2ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 306], ["created_at", "2018-11-18 22:23:09.664439"], ["updated_at", "2018-11-18 22:23:09.664439"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 33ms (ActiveRecord: 6.0ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 306]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.0ms)
Completed 200 OK in 65ms (Views: 60.4ms | ActiveRecord: 1.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$iOL39iiKP4xHLD1nSWmsLOhFuDw/6zWUsjIAMO5i7zFAUTI3/G6Rm"], ["created_at", "2018-11-18 22:23:09.900841"], ["updated_at", "2018-11-18 22:23:09.900841"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vLaqE5PH1QFIv4kH8toQ42aikJZxdS9KBFoyKEghaeyEL4tX6z4s2W0N9PoJtUNFcjfxKiGXYjfiAfBHEdiFcg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:10.187721"], ["updated_at", "2018-11-18 22:23:10.187721"], ["user_id", 83]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 307], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 307], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 307], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (14.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 80ms (Views: 74.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.7ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 307]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (7.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.0ms)
Completed 200 OK in 92ms (Views: 78.7ms | ActiveRecord: 3.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$estRzGa3MtKrbCzEWouYuuRyEMse8ifWC4XebBhLN7il.Epk6uad2"], ["created_at", "2018-11-18 22:23:10.538937"], ["updated_at", "2018-11-18 22:23:10.538937"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hSu7TXyPD1wGV/KaeFoBHm7HGycFfV1glACeCDMSW4GZqfPgxybiEHiQk9wPF2vvhBE1P5Ab8SW0TI9mvo+omQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.5ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:10.814273"], ["updated_at", "2018-11-18 22:23:10.814273"], ["user_id", 84]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 308]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.0ms)
Completed 200 OK in 72ms (Views: 67.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 20:23:10 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (7.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.7ms)
Completed 200 OK in 88ms (Views: 78.9ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$SomyxrojThMVZL9yWDhbOu8alTqlAvZT70CRsrGph/6jT28FoydnC"], ["created_at", "2018-11-18 22:23:11.152171"], ["updated_at", "2018-11-18 22:23:11.152171"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WNHzgZ1fl1w7wambCCuULZUJbNji449kBnFz/GuV1RoneZru8bgoD6cwWB6eTsZd7ipdYS28E4YyQHfAlC/SGQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.3ms)
Completed 200 OK in 62ms (Views: 57.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:11.457029"], ["updated_at", "2018-11-18 22:23:11.457029"], ["user_id", 85]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 85], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.5ms)
Completed 200 OK in 81ms (Views: 75.3ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$QpYZSTLuN5NNmpvyEYRkkuVsSK6I/JvSDGFCmcRUdQsc67PLdk4T2"], ["created_at", "2018-11-18 22:23:11.867892"], ["updated_at", "2018-11-18 22:23:11.867892"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 93ms (Views: 92.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kijOJd3pXeSfFCRbyQsCEzOPbByOLo2NIBjxLsNDrBL13SqoTsnmcD8HQif3/UQzp0GEV+gqnBV0biLq5vVO4Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 187ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.4ms)
Completed 200 OK in 53ms (Views: 49.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:12.243740"], ["updated_at", "2018-11-18 22:23:12.243740"], ["user_id", 86]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 310], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 310], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 310], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (23.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.6ms)
Completed 200 OK in 100ms (Views: 93.1ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 86], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (2.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 310]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (12.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 91ms (Views: 72.3ms | ActiveRecord: 5.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$TFOc9BaruxNbQnCt5rcCIuSH2GQpWqOgsebUl9J4.MGUe85BMd4Ge"], ["created_at", "2018-11-18 22:23:12.621588"], ["updated_at", "2018-11-18 22:23:12.621588"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DqqAebFmQ+Ji7UQizpAG0wWiWD4lIUugiLQYMBZ+kw4sxCypxwRQ8BWRgfNrHU1J+dvqgm32H28DsVHUAyqjCw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.5ms)
Completed 200 OK in 54ms (Views: 50.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:12.912753"], ["updated_at", "2018-11-18 22:23:12.912753"], ["user_id", 87]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:23:12 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 311]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (5.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.6ms)
Completed 200 OK in 96ms (Views: 85.4ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 87], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (5.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 77ms (Views: 69.3ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vzV0U6oRnb0lwHK7vw8mFOJ8nZjUkWjnvEzxZjggEQL3UPUq0qoxW"], ["created_at", "2018-11-18 22:23:13.282083"], ["updated_at", "2018-11-18 22:23:13.282083"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HLNLxDb9NaOmkNbbpZHfg+6B6tc27gVv+3OPkmgvphP40xfvM7fOM0eCTO3PifBYpIxuMgRgjgW1pjUiv2RnZw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.2ms)
Completed 200 OK in 55ms (Views: 50.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:13.574504"], ["updated_at", "2018-11-18 22:23:13.574504"], ["user_id", 88]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.6ms)
Completed 200 OK in 76ms (Views: 67.2ms | ActiveRecord: 0.8ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BpYI+LymjTotQAU23tl1+YofnqbJPK9E+MHjv2GTUOLjPJuYUOBfjw0NJ9NbHnPL8l8euSJNDQICXGnMtqgEYg==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"23"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (2.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 20:23:00"], ["profile_id", 312], ["created_at", "2018-11-18 22:23:13.732228"], ["updated_at", "2018-11-18 22:23:13.732228"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 40ms (ActiveRecord: 8.1ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 88], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 312]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.1ms)
Completed 200 OK in 79ms (Views: 71.7ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HXxx/7DKy6ZGxSVY67DY9.i.XRH1kRq9XukoJYVFi2OzI2CvmZnou"], ["created_at", "2018-11-18 22:23:13.994179"], ["updated_at", "2018-11-18 22:23:13.994179"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 54.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2DwGSKbLllSVPmCVJJCrL7iKV0UtxjiY5XSgfykzf0GuitR4jkO3SAW6pROxyWJfjYI+qL9oChZBKOOw5AGMUw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.2ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:14.290471"], ["updated_at", "2018-11-18 22:23:14.290471"], ["user_id", 89]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.7ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 313], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (8.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 313], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 313], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (33.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 110ms (Views: 92.4ms | ActiveRecord: 9.4ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 89], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (2.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 313]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (11.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.7ms)
Completed 200 OK in 85ms (Views: 69.6ms | ActiveRecord: 5.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PDoEFWOtoUtrGCPsmEJO.upnHcI/B1IiNpeZAAPaZix.g5S48OPbe"], ["created_at", "2018-11-18 22:23:14.685095"], ["updated_at", "2018-11-18 22:23:14.685095"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 53.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SeiQ6Z4k22/pf/njT5FsUvmQcDTfp+W95XACbg3HIx7qB/rMWEekPQqksgjqqkHhyRPH5fgc/pfjYad4N0wArQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 49ms (Views: 45.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:14.996747"], ["updated_at", "2018-11-18 22:23:14.996747"], ["user_id", 90]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 314]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.8ms)
Completed 200 OK in 83ms (Views: 74.6ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 90], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.1ms)
Completed 200 OK in 96ms (Views: 87.8ms | ActiveRecord: 0.6ms)


  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PaMGYlfb99KbRBpqjsUBqulSDWLqXBpeV4kBycxDtpTPZbYCJdcf2"], ["created_at", "2018-11-18 22:23:15.365706"], ["updated_at", "2018-11-18 22:23:15.365706"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VOWsm/90o0KaK0jCcn2Jq0NB9KA63MrIsueYoCo3vguj/ay8smfxdf2nSka5FU8EfNmJGzULOGfkAb075NVWGQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.4ms)
Completed 200 OK in 50ms (Views: 46.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:15.665940"], ["updated_at", "2018-11-18 22:23:15.665940"], ["user_id", 91]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.7ms)
Completed 200 OK in 74ms (Views: 65.9ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VgeenUsCfVJEwxA0GCNrKDTdcWr9ipXwtffkrqWJ0evERddVU/Ap3bbJGTOF64X0ufWNPZ2u0k3lV67ChzHbnQ==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (4.7ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 315], ["created_at", "2018-11-18 22:23:15.789619"], ["updated_at", "2018-11-18 22:23:15.789619"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 32ms (ActiveRecord: 9.1ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:23:15 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 315]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.5ms)
Completed 200 OK in 76ms (Views: 65.7ms | ActiveRecord: 1.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$E2dOD1eP9FgjbM.qmwlB7eyriBCpUEcuHSenxe8drCydJQXiW2.we"], ["created_at", "2018-11-18 22:23:16.057198"], ["updated_at", "2018-11-18 22:23:16.057198"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 56ms (Views: 54.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GxgVXAGKBXZ0vXplJCyKdIpfvYhEX7Oe45aX4Hb+l6p0MHrmO1zvajHLFWT7E7bnKktumU6yhZzXiUYgsHfWKg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 176ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.3ms)
Completed 200 OK in 50ms (Views: 46.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:16.373281"], ["updated_at", "2018-11-18 22:23:16.373281"], ["user_id", 92]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 316], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 316], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 316], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (23.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 108ms (Views: 99.0ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (2.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 316]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (12.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 104ms (Views: 83.6ms | ActiveRecord: 5.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$u52cF77ZMcDTbkObjPXemeCEzYAZwLGMqnJie.s1F6/0K.bhS7SIa"], ["created_at", "2018-11-18 22:23:16.774977"], ["updated_at", "2018-11-18 22:23:16.774977"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 44.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"omlWsi8he2n44wyW/AAlkrsFactbh8lF5etKkjCncPaktNgUUL9EaF9MsVwQmz9ggB7/sZdWGSiK3l5ribKGVg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 176ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:17.072986"], ["updated_at", "2018-11-18 22:23:17.072986"], ["user_id", 93]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 317]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (68.1ms)
Completed 200 OK in 83ms (Views: 78.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.2ms)
Completed 200 OK in 79ms (Views: 72.8ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$bAgyS0ehxjQUqCOzQGXQPeyf0nlPDrb2hCFHOrfFTgds30/cx44gi"], ["created_at", "2018-11-18 22:23:17.428324"], ["updated_at", "2018-11-18 22:23:17.428324"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 45.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pqxgOKLUHAB07y2EsuDJIlw4f0prHFpD5U+RCgmIJjGEpkOLdKihrt39zUR4HNMYJL+l7nOiZIJ+TTU+dNFX3w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 161ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:17.707393"], ["updated_at", "2018-11-18 22:23:17.707393"], ["user_id", 94]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.6ms)
Completed 200 OK in 76ms (Views: 67.9ms | ActiveRecord: 0.9ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"v7TNNkmFR9RylshncpMT/W4mXgQwPRI7gwTWfXqviqUcJpkjarJ5vWvrI9G3euTPBps/AV0YFmfCkC8ztXumPA==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (2.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 318], ["created_at", "2018-11-18 22:23:17.817486"], ["updated_at", "2018-11-18 22:23:17.817486"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 17ms (ActiveRecord: 4.9ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 318]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.7ms)
Completed 200 OK in 83ms (Views: 73.0ms | ActiveRecord: 2.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:23:17 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 97ms (Views: 92.6ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 77ms (Views: 75.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 78ms (Views: 74.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 77ms (Views: 75.9ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 81ms (Views: 80.2ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5X3fKza6N5OKjkEIUByvpvBLm0qPyW3gTyBZftqnkPwI43KwN6gx/zH+heXr5WunzCICcv10gu0tVwf00PEwaQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Y0/kqCnBFjVMufeXrhjsYuHpVk7gx33I.6CWhMF5jJJnW7kplWKvi"], ["created_at", "2018-11-18 22:23:18.684974"], ["updated_at", "2018-11-18 22:23:18.684974"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 150ms (ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.0ms)
Completed 200 OK in 51ms (Views: 47.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:23:18 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 87ms (Views: 85.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$HlvkjHrWlpgZ8DoUH016Q.hIfj/fG/fqrBJ9n7rFliIUAUwKtANH6"], ["created_at", "2018-11-18 22:23:19.012658"], ["updated_at", "2018-11-18 22:23:19.012658"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"N5c8NA3leqNMQqzGGIOfDClf6sK+mR7HlQu3oWMcEI/e6WivrIsn+fMQOTB/Xdi5+HZvXEuv1nhF1RfEA1Qkuw==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 196ms (Views: 46.6ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YsbM3vmYFvwAiboEJfCpQ..SMcGHeBySiHrgsVvb7yMX/oKV/VMEy"], ["created_at", "2018-11-18 22:23:19.385658"], ["updated_at", "2018-11-18 22:23:19.385658"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 63ms (Views: 61.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ls9pXDwVD1xUVucQXzIPkmGcYCsFrWnx0EgDH6/sGeDiOIm+4xZRZwQYzn+oHoBQmOYPhIBtxp69PHJQnsAklw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.5ms)
Completed 200 OK in 52ms (Views: 47.6ms | ActiveRecord: 0.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DWxe.pJkA2CbbnO31mwla.CC5E1YP7dc7yGlMZDChZ5hZ6u7p4W4e"], ["created_at", "2018-11-18 22:23:19.861641"], ["updated_at", "2018-11-18 22:23:19.861641"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VCopmvxMR111AQWH3UfUG7w36P8PbGR+5rtVskAlLvnoR+sCFaRPi6Fh0D+qKF5DV+LsPTOD7CQxW3C7QgKqRw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 47ms (Views: 43.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (83.0ms)
Completed 200 OK in 99ms (Views: 95.7ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3PYM3lhwJqDJylnKyrQEXhxmhcXjs4WND6bZWwOkMwAaUIUFCZkxkYzvwH3Kps1Vk/zK7dOJi3GRdO0vVrfiqA==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.6ms)
Completed 200 OK in 89ms (Views: 82.0ms | ActiveRecord: 1.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$F0iLP45Z5iDwsRH1JM2Yu.DXZSgnwo6Mj0Nvn.oWenCb4CRMrGlPK"], ["created_at", "2018-11-18 22:23:20.499013"], ["updated_at", "2018-11-18 22:23:20.499013"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vmqw+CXHBtn+yxIaN63dJirZE7nPixp0X8iRRNuN8KTgteigkXnLkgG7l1ZOTZJNyG+oQaO4xY5oJvIP4vX0rw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.7ms)
Completed 200 OK in 66ms (Views: 62.3ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"42ukex2gl7qnko/UBlLUUftEdEZUWIWixXIT4g/Ggn9vroO8tVEFQTwzHrltb/znt/mv51vPxLBL5YL6lPyEEw==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 22:23:20.907197"], ["updated_at", "2018-11-18 22:23:20.907197"], ["user_id", 99]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 14ms (ActiveRecord: 4.2ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 319], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 319], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 319], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (21.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 93ms (Views: 85.7ms | ActiveRecord: 1.5ms)


  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vX5iUmgWHx.IwuppML4S6eqHr66ahq.lafsDqrM1wsJAknJ4q531O"], ["created_at", "2018-11-18 22:23:21.175841"], ["updated_at", "2018-11-18 22:23:21.175841"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 51ms (Views: 49.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"orIZWeT19aX4l1YMgtwq1KHNjTCvbwOFOqtFkRTg5XCoH5oKqcKGx5kUDoV2DHWCP4uxxmgV3Bhhsc0ZB9r8bg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:21.474959"], ["updated_at", "2018-11-18 22:23:21.474959"], ["user_id", 100]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (5.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.8ms)
Completed 200 OK in 85ms (Views: 81.1ms | ActiveRecord: 0.6ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AVmlajTyxk0P4VQe3nvaG4qtNk9YLrbkV2NvXUHoACyxVdo+xY/0S1Mbyw1oKZvOE5Ys1AeDqFskDew/LmIPng==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 320], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (2.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 22:23:21.598762"], ["id", 320]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.3ms)
Completed 200 OK in 122ms (Views: 107.2ms | ActiveRecord: 4.3ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$nu09ON8IfS2F8v/LFfuJ6.XTJGHNgd9kdzjrX0clRqQL6w3RyD57."], ["created_at", "2018-11-18 22:23:21.892096"], ["updated_at", "2018-11-18 22:23:21.892096"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EdHz+i7qquy8+w6OVOGZCO/Ctz47s9coKfCJXlBDPioyiPWnVg9869k0Yj9ZPiOU4QEtJZYUPYpVXHGx9WKFAw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 178ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.8ms)
Completed 200 OK in 58ms (Views: 52.9ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:22.202978"], ["updated_at", "2018-11-18 22:23:22.202978"], ["user_id", 101]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$/GGS0IMZNscqX.I3U3T6LOiH0Fe77wM9w/X4Q72o5McMsgaRMUejO"], ["created_at", "2018-11-18 22:23:22.365707"], ["updated_at", "2018-11-18 22:23:22.365707"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:22.505742"], ["updated_at", "2018-11-18 22:23:22.505742"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.5ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 93ms (Views: 91.7ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$FRL48.zgHTgUXw2RjohfA.k7/nNq5un/XLjl35033OmePuDTBOtvW"], ["created_at", "2018-11-18 22:23:22.749186"], ["updated_at", "2018-11-18 22:23:22.749186"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FIjlVTLi2tftq1OiuU61hY9KX4wjvB1MImgKctSlsXvOxVHqui87iStaLjHKfuiu2WonvVkP7X/cwGbhovOVGQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:23.017824"], ["updated_at", "2018-11-18 22:23:23.017824"], ["user_id", 103]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 323], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 323], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 323], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (20.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.1ms)
Completed 200 OK in 95ms (Views: 88.6ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (2.6ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 323]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (9.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.5ms)
Completed 200 OK in 90ms (Views: 72.4ms | ActiveRecord: 5.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$C/4vMCw9Qe1ivl4wsFFAgeAwdP2gG6AAj.VH5IZAc4GPyZUltYPSK"], ["created_at", "2018-11-18 22:23:23.399868"], ["updated_at", "2018-11-18 22:23:23.399868"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 60ms (Views: 59.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Xpjhi8CttH16h8CTXzuaR+Q8lYxdOZl2k9I6U0DkOWW+Xa8G5gWz78g8EdX2mj5lpfZ6TuBLlG7YGdfBwPkTbA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 47ms (Views: 43.4ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:23.687099"], ["updated_at", "2018-11-18 22:23:23.687099"], ["user_id", 104]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 324]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.1ms)
Completed 200 OK in 75ms (Views: 69.8ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:23:23 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.9ms)
Completed 200 OK in 74ms (Views: 67.8ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zpXXqGLhB6YdUTTMEPihzOcs3V6qpM02Ls6xB3DT/Vod16BjfRnzK"], ["created_at", "2018-11-18 22:23:24.017086"], ["updated_at", "2018-11-18 22:23:24.017086"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 47ms (Views: 46.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1/TkprMyeFilSDjCe1YCIjvvlXjRdUbwqUu4VHbj+PAvuaiyZ8SHQ9cAbmCA0yoV6qQ5++skqzbAUov7OT7BIA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 47ms (Views: 43.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:24.312673"], ["updated_at", "2018-11-18 22:23:24.312673"], ["user_id", 105]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.9ms)
Completed 200 OK in 80ms (Views: 75.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7yZDQ5W86pHcVR/JGhT479144JL/Ms6g+cbmnzfJP+XaaAxlKkttZcNy9pdk5kmy7U7GwBmSi2gEkgV7XoBNwg==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (2.5ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 325], ["created_at", "2018-11-18 22:23:24.422781"], ["updated_at", "2018-11-18 22:23:24.422781"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 16ms (ActiveRecord: 5.0ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 325]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.6ms)
Completed 200 OK in 82ms (Views: 71.8ms | ActiveRecord: 1.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$nC6Ak.NXP6NxGdWVMlBBDunqMHeo3IxkhDdw0p0EpceABltqblEym"], ["created_at", "2018-11-18 22:23:24.677382"], ["updated_at", "2018-11-18 22:23:24.677382"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 45ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ol1t8geQz7dcbCD7IktZDbYktlaghlc+DlARUevgId/b73vGwUxStY+FTqMQOQCqTqUX9fKwkkebXgpAyEMPqQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 47ms (Views: 43.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:24.950554"], ["updated_at", "2018-11-18 22:23:24.950554"], ["user_id", 106]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 326], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 326], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 326], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (32.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.6ms)
Completed 200 OK in 103ms (Views: 92.3ms | ActiveRecord: 2.1ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 326]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (72.8ms)
Completed 200 OK in 102ms (Views: 95.7ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WLeDShmZ2M3ht6r7R.B6XeLrIv0ee0.DGelA/j4WxT0Iw/wMnmUx."], ["created_at", "2018-11-18 22:23:25.344804"], ["updated_at", "2018-11-18 22:23:25.344804"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GghsD/dKuRvhoRDJHZ94souMwv9UFYyybf+iZTGO/oPrraC2KiPMadarrP41mlDjyuM/jLBHb1BmoN5CbsILgQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:25.617368"], ["updated_at", "2018-11-18 22:23:25.617368"], ["user_id", 107]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 327]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 82ms (Views: 71.3ms | ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.0ms)
Completed 200 OK in 76ms (Views: 72.0ms | ActiveRecord: 0.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/urcRHED4KUFO6It/4wAx.u80HVIq5bPjkj0ZY5NAH9nfQyUXx5wa"], ["created_at", "2018-11-18 22:23:25.957442"], ["updated_at", "2018-11-18 22:23:25.957442"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (1.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jogWcnLQ6wc+5w7V99RqBLkEeGWphc4Xop98Y4x8kC8vBk0Y5NYcLJ+OWVDrQ8dYNJ1+W6wS2KfETgk+jJppvA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:26.244188"], ["updated_at", "2018-11-18 22:23:26.244188"], ["user_id", 108]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.8ms)
Completed 200 OK in 74ms (Views: 65.9ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"nidCJWQQ9cvfR8FPc/8KwhJ7iXTbEpFcYJSdn6Cnck4CgKLHJEq8/tIzGljx2wX63O3wiLxXoKTnFp7alqL+UA==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (2.1ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 328], ["created_at", "2018-11-18 22:23:26.355444"], ["updated_at", "2018-11-18 22:23:26.355444"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 21ms (ActiveRecord: 5.6ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 328]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.2ms)
Completed 200 OK in 79ms (Views: 69.6ms | ActiveRecord: 2.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$LOHzqOs2eTmarCvjjHvKW.gqpbYdQCPhOeDPsGOyYhTniD9DqNVau"], ["created_at", "2018-11-18 22:23:26.623505"], ["updated_at", "2018-11-18 22:23:26.623505"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 43.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"43Nlhh9X5n9COLNZs80PMmwRISjPWng6RI/oFcEMDjKx8PhWrdznMgUx2RO5udr/7XDH3xMCIJOybFKV3DeNSg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.1ms)
Completed 200 OK in 50ms (Views: 46.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:26.900844"], ["updated_at", "2018-11-18 22:23:26.900844"], ["user_id", 109]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 329], ["created_at", "2018-11-18 22:23:26.906796"], ["updated_at", "2018-11-18 22:23:26.906796"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 329], ["created_at", "2018-11-18 22:23:26.922105"], ["updated_at", "2018-11-18 22:23:26.922105"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 329]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 329], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (2.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 329], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 329], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (25.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.7ms)
Completed 200 OK in 100ms (Views: 90.0ms | ActiveRecord: 1.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$voGTu61rPEmrARlD8E//4u5R2/nl2yk0Q1QEvjs.vRzLn6ZR9D36K"], ["created_at", "2018-11-18 22:23:27.197763"], ["updated_at", "2018-11-18 22:23:27.197763"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WGW69kIwg/tmcbZTYv2UT/KNVSxcS7t/cbR/5FtspIUzG3gZCplcPTh5kfinQGsiGckleMea1MfES43Ep1+gCw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:27.468113"], ["updated_at", "2018-11-18 22:23:27.468113"], ["user_id", 110]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 330]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 330], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 330], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 330], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (20.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 98ms (Views: 92.8ms | ActiveRecord: 1.5ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$U8Q.GAGCZAgd8yyYL492JuV6AuuJm7XgrkR2FSfgW/ccRBjKJPfma"], ["created_at", "2018-11-18 22:23:27.736607"], ["updated_at", "2018-11-18 22:23:27.736607"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 66ms (Views: 65.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AVUsdVpFvZlGikYlEIqS9m4lG1QtPCPsFubxoT4IzcWL6LSEZ7J8QjqKBrPhUjRe40LQG4hR1WJ/IH8Q2OXGbw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.5ms)
Completed 200 OK in 61ms (Views: 57.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:28.071434"], ["updated_at", "2018-11-18 22:23:28.071434"], ["user_id", 111]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 331], ["created_at", "2018-11-18 22:23:28.077572"], ["updated_at", "2018-11-18 22:23:28.077572"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 331], ["created_at", "2018-11-18 22:23:28.081412"], ["updated_at", "2018-11-18 22:23:28.081412"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 331]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 331], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 331], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 331], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 331], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (24.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.1ms)
Completed 200 OK in 105ms (Views: 95.1ms | ActiveRecord: 2.0ms)


  [1m[35m (1.0ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$75lfwY6DNUglJHjPv78M5OXXZZT6Y1CQUKoXSJPOZbgmaWFkq3w7m"], ["created_at", "2018-11-18 22:23:28.358927"], ["updated_at", "2018-11-18 22:23:28.358927"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"57jRMADAxOtrEIV+ujxs2V6nQOvVZBWnm0duZmoYZKYWOKotfLlmdeiPEFeijzVtbXFIy2chCJGKZ0zF6/Z6WQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:28.649911"], ["updated_at", "2018-11-18 22:23:28.649911"], ["user_id", 112]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 332]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 332], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 332], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 332], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (21.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.6ms)
Completed 200 OK in 99ms (Views: 92.0ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$hHye.JAUhADzatzxOkUqUe9TO3IX40SjckxrTr0jsCCcoWpOuTbdi"], ["created_at", "2018-11-18 22:23:28.938342"], ["updated_at", "2018-11-18 22:23:28.938342"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3VzaMRyNhM6QaHR++5+4jd5FJ1MgIhsVIFZnrGT6wEBCrAJfTiqSSRFt7eMdCUrNTjsBLAfamJfy798J9fXVSQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:29.211135"], ["updated_at", "2018-11-18 22:23:29.211135"], ["user_id", 113]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 333], ["created_at", "2018-11-18 22:23:29.215563"], ["updated_at", "2018-11-18 22:23:29.215563"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 333], ["created_at", "2018-11-18 22:23:29.218310"], ["updated_at", "2018-11-18 22:23:29.218310"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 333]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 333]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 333], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 333], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 333], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 333], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 333], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 333], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (22.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.3ms)
Completed 200 OK in 95ms (Views: 89.0ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZaKnozr4NvOZt7stbs.EeuirjXUyQBhHeetnk2G0InXzNjKX1C/nO"], ["created_at", "2018-11-18 22:23:29.497510"], ["updated_at", "2018-11-18 22:23:29.497510"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 57ms (Views: 56.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JBXYoMFvukfSn8HXKaZUCG+5ULlE7i8w/oTUKr+fQ1zDanaGa8OoC8Kc6gnOOt9a5puFQdfm+DLm7tfczKyrVw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.8ms)
Completed 200 OK in 58ms (Views: 54.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:29.813484"], ["updated_at", "2018-11-18 22:23:29.813484"], ["user_id", 114]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 334]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 334], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 334], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.2ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 334], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (23.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.2ms)
Completed 200 OK in 97ms (Views: 87.7ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rSoVWcBAoqVUX9JkLrt7juhYzFvIox2/XW2Zx2inFesoKNLFxQTci"], ["created_at", "2018-11-18 22:23:30.093752"], ["updated_at", "2018-11-18 22:23:30.093752"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 56ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:23:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"A2NwJmgAUwfx39XPQan/4yYAadAgCoE1VIKzLIZ317tZfNrl23xZLGyNsD5ISl8L+O2/EQFl3ZPIu0+EYQ7o0Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:23:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:23:30.398681"], ["updated_at", "2018-11-18 22:23:30.398681"], ["user_id", 115]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 335]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:23:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 335], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 335], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 335], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (23.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.4ms)
Completed 200 OK in 95ms (Views: 89.8ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:24:26 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (10.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.7ms)
Completed 200 OK in 82ms (Views: 73.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:24:32 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (10.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.1ms)
Completed 200 OK in 74ms (Views: 64.8ms | ActiveRecord: 1.6ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:25:24 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (10.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.4ms)
Completed 200 OK in 76ms (Views: 67.6ms | ActiveRecord: 2.1ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:27:30 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.7ms)
Completed 200 OK in 62ms (Views: 55.5ms | ActiveRecord: 0.8ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:29:40 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.4ms)
Completed 200 OK in 60ms (Views: 50.2ms | ActiveRecord: 1.4ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:29:46 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (9.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.2ms)
Completed 200 OK in 83ms (Views: 75.4ms | ActiveRecord: 1.4ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:30:09 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.8ms)
Completed 200 OK in 60ms (Views: 53.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:30:20 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.1ms)
Completed 200 OK in 63ms (Views: 57.3ms | ActiveRecord: 0.7ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:30:21 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 57ms (Views: 49.1ms | ActiveRecord: 0.8ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:30:23 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.3ms)
Completed 200 OK in 68ms (Views: 59.2ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:31:20 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.0ms)
Completed 200 OK in 63ms (Views: 56.9ms | ActiveRecord: 0.8ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:31:33 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (7.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.0ms)
Completed 200 OK in 61ms (Views: 53.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:31:54 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (7.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.9ms)
Completed 200 OK in 59ms (Views: 52.5ms | ActiveRecord: 0.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:31:55 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.5ms)
Completed 200 OK in 78ms (Views: 72.0ms | ActiveRecord: 0.7ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:31:56 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.9ms)
Completed 200 OK in 76ms (Views: 69.7ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/reactions" for 127.0.0.1 at 2018-11-18 20:32:21 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (5.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.2ms)
Completed 200 OK in 60ms (Views: 50.4ms | ActiveRecord: 2.5ms)


Started GET "/profiles/teste@gmail.com/reactions/new" for 127.0.0.1 at 2018-11-18 20:32:23 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (5.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.2ms)
Completed 200 OK in 66ms (Views: 56.6ms | ActiveRecord: 1.5ms)


Started GET "/profiles/teste@gmail.com/hdls" for 127.0.0.1 at 2018-11-18 20:32:25 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.5ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.3ms)
Completed 200 OK in 62ms (Views: 46.6ms | ActiveRecord: 2.7ms)


Started GET "/profiles/teste@gmail.com/nonhdls" for 127.0.0.1 at 2018-11-18 20:32:27 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.5ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 57ms (Views: 45.5ms | ActiveRecord: 2.6ms)


Started GET "/profiles/teste@gmail.com/allergies" for 127.0.0.1 at 2018-11-18 20:32:30 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.5ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.8ms)
Completed 200 OK in 65ms (Views: 53.7ms | ActiveRecord: 2.4ms)


Started GET "/profiles/teste@gmail.com/allergies/new" for 127.0.0.1 at 2018-11-18 20:32:31 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.3ms)
Completed 200 OK in 88ms (Views: 78.7ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/pressures" for 127.0.0.1 at 2018-11-18 20:32:32 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.5ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (6.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 59ms (Views: 46.1ms | ActiveRecord: 2.9ms)


Started GET "/profiles/teste@gmail.com/heights" for 127.0.0.1 at 2018-11-18 20:32:34 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 53ms (Views: 45.8ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/medications" for 127.0.0.1 at 2018-11-18 20:32:35 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.2ms)
Completed 200 OK in 57ms (Views: 47.1ms | ActiveRecord: 1.3ms)


Started GET "/profiles/teste@gmail.com/medications/new" for 127.0.0.1 at 2018-11-18 20:32:36 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.6ms)
Completed 200 OK in 64ms (Views: 53.4ms | ActiveRecord: 1.0ms)


Started GET "/profiles/teste@gmail.com/glucose_measures" for 127.0.0.1 at 2018-11-18 20:32:38 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.5ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (6.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.9ms)
Completed 200 OK in 73ms (Views: 58.9ms | ActiveRecord: 3.0ms)


Started GET "/profiles/teste@gmail.com/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:32:39 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (8.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.9ms)
Completed 200 OK in 67ms (Views: 57.0ms | ActiveRecord: 1.9ms)


Started GET "/profiles/teste@gmail.com/glucose_measures" for 127.0.0.1 at 2018-11-18 20:32:41 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.9ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.5ms)
Completed 200 OK in 70ms (Views: 61.9ms | ActiveRecord: 2.2ms)


Started GET "/profiles/teste@gmail.com/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:32:42 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (6.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.0ms)
Completed 200 OK in 67ms (Views: 57.5ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:32:43 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.8ms)
Completed 200 OK in 58ms (Views: 49.6ms | ActiveRecord: 1.3ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:32:44 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.0ms)
Completed 200 OK in 75ms (Views: 64.9ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:37:05 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (4.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (16.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.1ms)
Completed 200 OK in 83ms (Views: 67.7ms | ActiveRecord: 5.7ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:38:52 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.6ms)
Completed 200 OK in 69ms (Views: 60.4ms | ActiveRecord: 0.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:41:00 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (82.3ms)
Completed 200 OK in 106ms (Views: 99.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:42:46 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.2ms)
Completed 200 OK in 69ms (Views: 57.7ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:43:35 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (10.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.5ms)
Completed 200 OK in 79ms (Views: 74.7ms | ActiveRecord: 0.6ms)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$RJbshyPzBx1/ZWu6PVEXTeSvJULP9Bbe8aGlTQ1MXLg58kRW1RDIu"], ["created_at", "2018-11-18 22:43:52.051078"], ["updated_at", "2018-11-18 22:43:52.051078"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:52 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (25.3ms)
Completed 200 OK in 585ms (Views: 569.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:52 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Z74VAD5TsJzBLtXuotZ46Ap3PdRaZZS8DJZhxoRJtwxgP429lUw/RkAv4fooDrUjqbU5oj+97WGYf+x2OkiZRg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 210ms (ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 45ms (ActiveRecord: 3.3ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (94.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.5ms)
Completed 200 OK in 188ms (Views: 174.7ms | ActiveRecord: 2.0ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:53.227853"], ["updated_at", "2018-11-18 22:43:53.227853"], ["user_id", 116]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 336], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 336], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 336], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (57.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (108.9ms)
Completed 200 OK in 199ms (Views: 180.6ms | ActiveRecord: 8.1ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (1.2ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 336]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (7.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.3ms)
Completed 200 OK in 96ms (Views: 82.0ms | ActiveRecord: 3.5ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$hUkf0ncGlp52Qp0Ho9oga.hNHDHkoVUldkUwY3f97c6F4Q/Am0WbK"], ["created_at", "2018-11-18 22:43:53.718770"], ["updated_at", "2018-11-18 22:43:53.718770"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"arjq0wM6uxN4mAORzZ0P7DC1PvE1FwcBxsESJkV1OdZNQFOtVuz0uv0fRcCKCLtRqxHaaM7miKk5VispLHkmOA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (29.3ms)
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:53.985675"], ["updated_at", "2018-11-18 22:43:53.985675"], ["user_id", 117]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:43:53 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 337]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.3ms)
Completed 200 OK in 70ms (Views: 64.6ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.6ms)
Completed 200 OK in 83ms (Views: 76.4ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5qQrLfdFmZiLTUWL54eNqedk6fRZz8.h0z0.2UQKXlu7XsLz0elO6"], ["created_at", "2018-11-18 22:43:54.313505"], ["updated_at", "2018-11-18 22:43:54.313505"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 46ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ognueMapJDcGtpWotg2pptCke7g34mM+pm1NrnoqmxPYjpP2eKXs0ehc9TD4X6KZF8ifCG80UvwdKO6EJ8rjsQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.4ms)
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:54.601184"], ["updated_at", "2018-11-18 22:43:54.601184"], ["user_id", 118]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (90.0ms)
Completed 200 OK in 103ms (Views: 99.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ntziyZpKiCRSeiEFdwlV4/OJgunnQ/BfskdUQhMX4Wkfln5UyefBupONke0Vidknew5B3X9Y7iZGXDMyoJPtJQ==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (18.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (1.0ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 338], ["created_at", "2018-11-18 22:43:54.795537"], ["updated_at", "2018-11-18 22:43:54.795537"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 62ms (ActiveRecord: 33.9ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:43:54 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (5.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 338]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (13.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.2ms)
Completed 200 OK in 115ms (Views: 95.3ms | ActiveRecord: 6.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$4zTjRrbrsJKVMY63rjLmuetL.U7iDwkyAPWWbumw/7aKIbVP6e6hW"], ["created_at", "2018-11-18 22:43:55.109628"], ["updated_at", "2018-11-18 22:43:55.109628"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 121ms (Views: 120.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2UOu0L6FIfhQhzR4aL+p6eGKkqw+vy+2i/CYaUvI4GauIG24q20UgHmjAGtp6raGk7uO5JNp9Ljfk6a2bAXcJQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 205ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.3ms)
Completed 200 OK in 57ms (Views: 49.2ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:55.526401"], ["updated_at", "2018-11-18 22:43:55.526401"], ["user_id", 119]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 339], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 339], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (2.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 339], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (2.8ms)
  Rendered profiles/show.html.erb within layouts/internal (19.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.3ms)
Completed 200 OK in 110ms (Views: 104.0ms | ActiveRecord: 2.2ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (1.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 339]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.4ms)
Completed 200 OK in 123ms (Views: 102.9ms | ActiveRecord: 5.1ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$IGtDtEnlr9Hu27bws4b7pORhrfWu20bjSQWNdRWFxhB3oY1uqdx3S"], ["created_at", "2018-11-18 22:43:55.981358"], ["updated_at", "2018-11-18 22:43:55.981358"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:55 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 63ms (Views: 62.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FG8cpuczPR8ZxjutdvrgP4f7zL14Ts22ofPjkuHgMJhYcKH7Ng7msqB4H28lj1h6kcLq/jTuukD85mVuUbp0GA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 179ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.3ms)
Completed 200 OK in 56ms (Views: 52.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:56.316622"], ["updated_at", "2018-11-18 22:43:56.316622"], ["user_id", 120]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 340]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.5ms)
Completed 200 OK in 100ms (Views: 79.6ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (8.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.6ms)
Completed 200 OK in 88ms (Views: 80.6ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$m/a76Aaumrm6oW/tChwVJOVyLsGYKnSMo7EZG.sy8bL4uShPl5q.."], ["created_at", "2018-11-18 22:43:56.707039"], ["updated_at", "2018-11-18 22:43:56.707039"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 50ms (Views: 49.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rPQ05MEW7HaXTsmsArK+VM7rAqpG3xfTfPNCHKNpaBXsOdl8OSvOYqXHWWd7TpmZMmAJ1tp6BDKfMNCKQRMY+g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:56 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.5ms)
Completed 200 OK in 60ms (Views: 56.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:57.012805"], ["updated_at", "2018-11-18 22:43:57.012805"], ["user_id", 121]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (1.9ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.3ms)
Completed 200 OK in 81ms (Views: 73.7ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"buR9156e8s1htp2c0Hhag3aupPpR2fdnHE4WLn7E0xxu3NQtDX63eVxegN6qFvnE4MiSYoTz2oNSNG7PK5fAyQ==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (7.1ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 341], ["created_at", "2018-11-18 22:43:57.144542"], ["updated_at", "2018-11-18 22:43:57.144542"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 32ms (ActiveRecord: 10.7ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.9ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 341]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.4ms)
Completed 200 OK in 86ms (Views: 74.6ms | ActiveRecord: 2.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$31QoJ5.QPT8SLU9kgTQqj.kWMBbUk6eDJXesNpqnsmEH0/JGcehfG"], ["created_at", "2018-11-18 22:43:57.421917"], ["updated_at", "2018-11-18 22:43:57.421917"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ds438bIMx/Ffla+xjUDIw/IhKI41trUnUhXHHdtvT914+FLHzU166i6jIc5Koej7kDvueJBDiym5dkmpKn4r4g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.3ms)
Completed 200 OK in 69ms (Views: 64.7ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:57.728724"], ["updated_at", "2018-11-18 22:43:57.728724"], ["user_id", 122]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 342], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 342], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 342], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (24.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.2ms)
Completed 200 OK in 112ms (Views: 102.1ms | ActiveRecord: 2.0ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:43:57 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (1.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.7ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 342]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (7.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.0ms)
Completed 200 OK in 92ms (Views: 77.0ms | ActiveRecord: 4.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$q8uJUPVlUdFHLrrL28m58uuGTi696Rs71/qIB0JAnLtMTZRdGDipK"], ["created_at", "2018-11-18 22:43:58.140407"], ["updated_at", "2018-11-18 22:43:58.140407"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"cNgAFAHDemLgTazL+2NCeqPr6vY1YZnEI3TF9+4NcRNy5QlG6FWXhZHYQXUnLafnw0ZerhoIkBRos7yI46Kb/g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:58.421046"], ["updated_at", "2018-11-18 22:43:58.421046"], ["user_id", 123]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 343]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.6ms)
Completed 200 OK in 80ms (Views: 70.5ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (11.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 95ms (Views: 80.2ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gC1izPJy81F9qmGro2V3JeF7iimtJZRo5Q1Bas4qOJFM53Bix.VsK"], ["created_at", "2018-11-18 22:43:58.779643"], ["updated_at", "2018-11-18 22:43:58.779643"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 70ms (Views: 69.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:58 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8iCRKwU5mBNLGfu2ZtwaGcxhfbtXf20eqBHjt4QAa31qsD9adL2uoxqIrXMoPOFoKoRcKNYrBdmttqd/Ye8Upw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 199ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.7ms)
Completed 200 OK in 51ms (Views: 47.9ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:59.148997"], ["updated_at", "2018-11-18 22:43:59.148997"], ["user_id", 124]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.1ms)
Completed 200 OK in 94ms (Views: 83.2ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WdyhfV6qUMosha14uCIC2bILmxsSiiOOwKg92j1cG9IMQ3tFIGJE6Bh//QYncP/vuJJ9xi/Z6ps2PY2rAuh7Og==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"43"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (0.6ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 20:43:00"], ["fasting", true], ["profile_id", 344], ["created_at", "2018-11-18 22:43:59.327002"], ["updated_at", "2018-11-18 22:43:59.327002"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 26ms (ActiveRecord: 4.7ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 344]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (7.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.2ms)
Completed 200 OK in 94ms (Views: 86.1ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dFpzYeaVOb.S6larwxhttuaqrxKFQeZmWd3AIt.0kRpR91fgauBPO"], ["created_at", "2018-11-18 22:43:59.634942"], ["updated_at", "2018-11-18 22:43:59.634942"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 50ms (Views: 49.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gWn6UStC2rARfRkv3iIdsIHJGl4BWejRmfpy9GWbMvclP7elzY/wi/9l29MNWm3jgFzcX/AgIyDXNHQaBuCIfw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.0ms)
Completed 200 OK in 44ms (Views: 40.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:43:59.918467"], ["updated_at", "2018-11-18 22:43:59.918467"], ["user_id", 125]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:43:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 345], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 345], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 345], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (31.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 105ms (Views: 96.3ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.7ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 345]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (73.7ms)
Completed 200 OK in 123ms (Views: 103.9ms | ActiveRecord: 5.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$z.ged4e3v1s1RZSXUzhKyuqJxE.5niPa2ViLMbnQRHg/oYKQZ.TX."], ["created_at", "2018-11-18 22:44:00.355706"], ["updated_at", "2018-11-18 22:44:00.355706"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 49ms (Views: 47.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wj5e62Eh713e9xu+aGIvQD6z44Ygd4sYXNiPdOHSUjaaLDdweKOOPCB1DXHbkMz8gu48PM2Ca3hg2dzQIHyPew==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 63ms (Views: 59.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:00.668344"], ["updated_at", "2018-11-18 22:44:00.668344"], ["user_id", 126]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 346]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.8ms)
Completed 200 OK in 90ms (Views: 80.1ms | ActiveRecord: 2.2ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:44:00 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.1ms)
Completed 200 OK in 101ms (Views: 89.4ms | ActiveRecord: 0.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$COIEiTGuLR7PTaI7VbNK/uluSLuVqbii3RzbS.gzNS/f3kVpURx3a"], ["created_at", "2018-11-18 22:44:01.040713"], ["updated_at", "2018-11-18 22:44:01.040713"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3V+smSgGM1XcLh6+RU6P6GhMYfoIfq51UAzcUQYdJlAQoLZol8FC2c4/rrLWNGleXi1KGawrLJkhF3yk9WZsLQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 52ms (Views: 46.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:01.330726"], ["updated_at", "2018-11-18 22:44:01.330726"], ["user_id", 127]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.8ms)
Completed 200 OK in 67ms (Views: 59.9ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0y0Q5AFTSXC/79TpotvtsawHXq1VtKA0XoQ/MIGp0Luypi72A1LbY+z/IGWrdNFaHWoI6TzveT0YuayjPwvrrQ==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 347], ["created_at", "2018-11-18 22:44:01.444035"], ["updated_at", "2018-11-18 22:44:01.444035"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 27ms (ActiveRecord: 4.3ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 347]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (77.5ms)
Completed 200 OK in 98ms (Views: 92.5ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.0ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3.rxHzdvAuT91r20n7cRs.qBQ/oKntj0FXQU6w.DImIrff4cCBisC"], ["created_at", "2018-11-18 22:44:01.737721"], ["updated_at", "2018-11-18 22:44:01.737721"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 54ms (Views: 53.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VROORI/JWcRtg/oemfvtGDcis0Xwdh6uP0RvZIOn3h777PYEcVkVgSLsrpho8ADzoAAZs83dT9Yx/fxBfwkEKA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 161ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:01 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:02.024663"], ["updated_at", "2018-11-18 22:44:02.024663"], ["user_id", 128]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 348], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 348], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 348], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (24.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.7ms)
Completed 200 OK in 96ms (Views: 89.1ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 348]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.4ms)
Completed 200 OK in 79ms (Views: 70.6ms | ActiveRecord: 1.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$H13YVcwWxhbW73vRC6A0g.w3h9qHIciG9wSkXnFF/c3LD0PYnMW9y"], ["created_at", "2018-11-18 22:44:02.375337"], ["updated_at", "2018-11-18 22:44:02.375337"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kQGmfFzBGkOvhNblcySHWLlzDKwHqOFt/DTy3TjwOkAngMQCexk5HHh5qrW2FJ3fntFsd7coHcQB6slMDICDsw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:02.642033"], ["updated_at", "2018-11-18 22:44:02.642033"], ["user_id", 129]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 349]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.6ms)
Completed 200 OK in 96ms (Views: 87.8ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:44:02 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (5.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.6ms)
Completed 200 OK in 106ms (Views: 96.1ms | ActiveRecord: 1.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (3.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (2.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$f4L./nUwXovNVWZv15WFV.q4HssQE2ch7F7aA2gS9Vkr32XI/0pAa"], ["created_at", "2018-11-18 22:44:03.086794"], ["updated_at", "2018-11-18 22:44:03.086794"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 80ms (Views: 78.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"oQ2NKI38sN0IG4EJXy88A2HPycui0ygxGu8CflkMpF8PqubLdywLvWa3xqiRkmI+AVKOi8qrR/khq/NawD5uDg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.6ms)
Completed 200 OK in 53ms (Views: 49.1ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:03.431680"], ["updated_at", "2018-11-18 22:44:03.431680"], ["user_id", 130]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.5ms)
Completed 200 OK in 79ms (Views: 74.4ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"doB6x1EC5iDeMNYXC1aqZBuxMvg9X4DQyTTtSe8K3M6FQHGhjf/erMWhoPE1sahf6sbyoiWWOSPHypXxRLGFow==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.9ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 350], ["created_at", "2018-11-18 22:44:03.554062"], ["updated_at", "2018-11-18 22:44:03.554062"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 17ms (ActiveRecord: 3.5ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 350]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.3ms)
Completed 200 OK in 85ms (Views: 66.5ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$wJ6FfkjbNd1YVIaa1803KOb0n0IiV5TvL16vj5mBcosEe/Z4k.OL2"], ["created_at", "2018-11-18 22:44:03.812252"], ["updated_at", "2018-11-18 22:44:03.812252"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 50ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:03 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"A+25I3fCqqSX8bel/ojlmM6oxjFp+GxwxCCo2EsMrr2V+1bqeRnpILbR8VS1QRAzYe2izcdH8viF1LQzwVboIg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 182ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.6ms)
Completed 200 OK in 67ms (Views: 64.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:04.150627"], ["updated_at", "2018-11-18 22:44:04.150627"], ["user_id", 131]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 351], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 351], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 351], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (22.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.5ms)
Completed 200 OK in 102ms (Views: 94.2ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (1.0ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 351]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (9.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.8ms)
Completed 200 OK in 98ms (Views: 83.7ms | ActiveRecord: 4.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HAM7H4yUN1RHjsVbwEF49uJOoq4jC2QltTpandI8QdFuk1pMvsZSa"], ["created_at", "2018-11-18 22:44:04.559333"], ["updated_at", "2018-11-18 22:44:04.559333"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 65ms (Views: 63.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bw5bUOaa6ufaLyESuNAgneX+xHB2+Pu8sH5LwOq4Oyfdmdaks842DzeYLI7GUzuLGEunjKYILNdeRWruF9Sumw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 208ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.6ms)
Completed 200 OK in 62ms (Views: 56.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:04.929252"], ["updated_at", "2018-11-18 22:44:04.929252"], ["user_id", 132]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:44:04 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 352]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.9ms)
Completed 200 OK in 107ms (Views: 95.6ms | ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (85.6ms)
Completed 200 OK in 115ms (Views: 109.4ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$X/M24AsbRhxzTdrY/jfsH.OMvfuKaH/a031iL7ugzQU4HbziGvoiy"], ["created_at", "2018-11-18 22:44:05.354328"], ["updated_at", "2018-11-18 22:44:05.354328"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 67ms (Views: 65.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vCl0m+8vta2WNs5FjHPm4pS1zkCFugD7gQvyQHqp8ZbZx2sOfhbj5u4yquRDvTpcSxUb0tz4lXmOYwF+qNnTSA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.5ms)
Completed 200 OK in 63ms (Views: 58.9ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:05.686906"], ["updated_at", "2018-11-18 22:44:05.686906"], ["user_id", 133]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.1ms)
Completed 200 OK in 67ms (Views: 59.1ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HBQFwW5yfgCrY0OYswQYA576bpeIcVUFgyBCkefiimg7hM6I6W+FOfzrVhWL0+ppBFaCa4AgyDPBgRYy+QAZUw==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (5.0ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 353], ["created_at", "2018-11-18 22:44:05.800837"], ["updated_at", "2018-11-18 22:44:05.800837"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 27ms (ActiveRecord: 8.1ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:44:05 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 353]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.4ms)
Completed 200 OK in 88ms (Views: 75.9ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$l4CxHKv4lHy3479YJ8oaPuQ7ISjRPUSToYceVHVNrimm3Hufs2urG"], ["created_at", "2018-11-18 22:44:06.085654"], ["updated_at", "2018-11-18 22:44:06.085654"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"L/iBfFDO6DEBAEaVPAjSp65hWXIZYm9d3dF1WKGIm8g9ZCU8RV6YzNjd6AeGDzcsWE8YSk1ULilMsLc1FJIrFA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.4ms)
Completed 200 OK in 44ms (Views: 40.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:06.367511"], ["updated_at", "2018-11-18 22:44:06.367511"], ["user_id", 134]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 354], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 354], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 354], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (18.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.8ms)
Completed 200 OK in 90ms (Views: 84.6ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (2.6ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 354]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (14.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.4ms)
Completed 200 OK in 106ms (Views: 85.8ms | ActiveRecord: 7.3ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kSUi/Vrm0XSsfXDKUBW4NOdABy.5j3blfNfCfYy6PLIqjyjQE9lLm"], ["created_at", "2018-11-18 22:44:06.783412"], ["updated_at", "2018-11-18 22:44:06.783412"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 73ms (Views: 72.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3+HiEyRFFYFIGG7slGp3fYUQwEdcvvzymHqsNhxCNf0nn74PiYVWp/HOGTMrMLTqWV6cZnZNs3WW3jlbwyhifw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 184ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.5ms)
Completed 200 OK in 50ms (Views: 46.4ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:07.136921"], ["updated_at", "2018-11-18 22:44:07.136921"], ["user_id", 135]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 355]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.3ms)
Completed 200 OK in 96ms (Views: 85.0ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.3ms)
Completed 200 OK in 102ms (Views: 91.3ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$CRrcTZOOowTMKWVS1FxgdOiw7JbkWZPZsjUM039qGtW9.UWE9BcsK"], ["created_at", "2018-11-18 22:44:07.529108"], ["updated_at", "2018-11-18 22:44:07.529108"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 51ms (Views: 49.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3sQvjf4Z3OLGp5LE23yrafJ4WpELeUOq+9Sy6E5wgiq6OQw9IA5S8PGEsuebdq0ZyDFkT1KSS/x8ymrgeaawVg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 56ms (Views: 52.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:07.829537"], ["updated_at", "2018-11-18 22:44:07.829537"], ["user_id", 136]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:44:07 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (81.2ms)
Completed 200 OK in 160ms (Views: 132.5ms | ActiveRecord: 1.2ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"R70yRL+n5TOlk3vbSvaBfKM/4/RFbCsQZUv4E3zxmq4bfTA40UN+6IAIhrw+ly1YHSTIM+bq4yE7hIYgDMtMXg==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (24.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (2.6ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 356], ["created_at", "2018-11-18 22:44:08.124829"], ["updated_at", "2018-11-18 22:44:08.124829"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 65ms (ActiveRecord: 31.8ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 356]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.9ms)
Completed 200 OK in 63ms (Views: 55.8ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$V/cbct.5QZC/Bc5l/KSd8.oSP5DqDAM927BUUma/NO7XIQNg/Rynm"], ["created_at", "2018-11-18 22:44:08.362642"], ["updated_at", "2018-11-18 22:44:08.362642"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 45ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EONGnqiYDwcMeLro0u5uGVZMxn3PqfY1qWB1O/TDq2jP3q79dVmJm6hmYlSfM0Sj8Pjc2TbT5vJ1ZKEKlxNVjQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:08.635556"], ["updated_at", "2018-11-18 22:44:08.635556"], ["user_id", 137]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 357], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 357], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 357], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (20.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 100ms (Views: 92.6ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:44:08 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.7ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 357]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (10.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.0ms)
Completed 200 OK in 99ms (Views: 83.3ms | ActiveRecord: 3.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0.1sd137dGljlZpL/GFf3Ob1CjZY9WbmPm8/X32yZ.PBvf.YKpv7a"], ["created_at", "2018-11-18 22:44:09.021669"], ["updated_at", "2018-11-18 22:44:09.021669"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 51ms (Views: 50.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/RiE5aoieFWEG4ygD8qCDiZW3OgzVp8Fvm5M0AAxXJ1p1bOpFT6rABwRqSD8U+K/NLY04dazb2hG/mV0vR4HDQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:09.301301"], ["updated_at", "2018-11-18 22:44:09.301301"], ["user_id", 138]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 358]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.6ms)
Completed 200 OK in 72ms (Views: 65.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (68.4ms)
Completed 200 OK in 88ms (Views: 82.2ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$pIkb0xr7ugqPbJcza5BveuYNFm0rKKSP8zZQDIK/f0E95muQOBv0q"], ["created_at", "2018-11-18 22:44:09.632990"], ["updated_at", "2018-11-18 22:44:09.632990"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 56ms (Views: 55.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bENYzDNRPGgzjEezDiAJKrUVk7qRct2CYtn4HN0mKFmukeBA93A6v8bzzJ7sbquJ0tkAjy2FqPHGdmunyE/sWg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (11.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (97.2ms)
Completed 200 OK in 128ms (Views: 124.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:10.015785"], ["updated_at", "2018-11-18 22:44:10.015785"], ["user_id", 139]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (1.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (84.5ms)
Completed 200 OK in 154ms (Views: 142.4ms | ActiveRecord: 1.1ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Xn2L7ismiCCuQooZ6x4i1GvVRvTDCcLugRhhcA6XI9YNos02xeWg31K77X1elXnIz0m5Nvk5PdTsqSko3h/WQA==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.9ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 359], ["created_at", "2018-11-18 22:44:10.225701"], ["updated_at", "2018-11-18 22:44:10.225701"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (7.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 26ms (ActiveRecord: 11.0ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.4ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 359]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 83ms (Views: 69.0ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ixsG/ImOvzL7RFFfkKbt9ONdY8s0pHFql3ixr5JI1l1ABGyQW55NK"], ["created_at", "2018-11-18 22:44:10.498022"], ["updated_at", "2018-11-18 22:44:10.498022"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 56ms (Views: 55.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/k5MPTr9+U03Vl+qvkn8Vk3SZrbnPDy82DWXuzhFscs40QXEGjxDLIxtkEqbzjmZ9Pflz7VvbNSTrAsvyUXlGg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:10.781794"], ["updated_at", "2018-11-18 22:44:10.781794"], ["user_id", 140]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 360], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 360], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 360], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (20.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.9ms)
Completed 200 OK in 96ms (Views: 90.7ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:44:10 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.7ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 360]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.8ms)
Completed 200 OK in 98ms (Views: 80.0ms | ActiveRecord: 4.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/howhte3JuFQNjvHRtmqxeSQpjx79De.D370MmNGKtNIGLq5DQ332"], ["created_at", "2018-11-18 22:44:11.151116"], ["updated_at", "2018-11-18 22:44:11.151116"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qEB7Qfl/mJOA44QelCKKjF4kTJMw2f6/UP6XnBiWgcjrQTCcupzeW6oFmxHdsbQfdyXgPzVqj5fgDkL3dJ10LA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 203ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (68.1ms)
Completed 200 OK in 87ms (Views: 83.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:11.517942"], ["updated_at", "2018-11-18 22:44:11.517942"], ["user_id", 141]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.7ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 361]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.3ms)
Completed 200 OK in 93ms (Views: 79.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (9.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.6ms)
Completed 200 OK in 94ms (Views: 84.7ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$65uuqPbU70IwhhdJegdNpOO7IVeCZMlFZuWe.q2TQNri4uMBsGSC6"], ["created_at", "2018-11-18 22:44:11.889168"], ["updated_at", "2018-11-18 22:44:11.889168"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 61ms (Views: 60.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"U/+5SAxWAVXuk/OF/m8uu2F8Zeti7pg9NKLkI/PlBgmZCt2nRwgUAzlAwn5nF2C+cRHoRUX2Hnas1ydwnGpsNA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.0ms)
Completed 200 OK in 51ms (Views: 48.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:12.201979"], ["updated_at", "2018-11-18 22:44:12.201979"], ["user_id", 142]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$egi.G6lYVNA.4u/zguUjP.1jS0eR8H.SSabS2dDC9expUyGu83nJq"], ["created_at", "2018-11-18 22:44:12.368709"], ["updated_at", "2018-11-18 22:44:12.368709"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 160ms (Views: 159.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mu/SFNSe9qz3OAyDEurAXZ/3pr6H3Qaf6UbnZGKKgtRTCl/JWHkAYTSLFMkDtnZTm63GMv705vRFBlZGzjMBdQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 193ms (ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 71ms (Views: 65.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:12.862572"], ["updated_at", "2018-11-18 22:44:12.862572"], ["user_id", 143]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.8ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 363], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 363], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 363], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (14.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.0ms)
Completed 200 OK in 86ms (Views: 76.1ms | ActiveRecord: 2.4ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:44:12 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.6ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 363]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (7.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.5ms)
Completed 200 OK in 72ms (Views: 58.9ms | ActiveRecord: 4.0ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5womBWRykdzpckdYQ1Gy7.LU3Aog.TqeV5sCqGrQpD09rZ5fSXTr."], ["created_at", "2018-11-18 22:44:13.208673"], ["updated_at", "2018-11-18 22:44:13.208673"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 56ms (Views: 54.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Chl9pGbArWuLcUiiXGxnyUit8aZViQSH4ZdyirvulvHyGxMB0ygsgBwl7hE25t6PyGO5589XxS8MtKzUA9yxcw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:13.489153"], ["updated_at", "2018-11-18 22:44:13.489153"], ["user_id", 144]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 364]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 57ms (Views: 52.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.1ms)
Completed 200 OK in 75ms (Views: 69.4ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$IJwtnzhx2YXPAvi8l1QhP.wBXMUJmEOlClI9gukOBe.Adn1JTyjOW"], ["created_at", "2018-11-18 22:44:13.809581"], ["updated_at", "2018-11-18 22:44:13.809581"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"p4E/DUdunJd23Loi+LRFYXiMkznNd/qBmf8TXV4YXo0RaWgcTHRrj6kr6JZy/osll1V0Z4IHRvi4WrlGpgDR8g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 208ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.5ms)
Completed 200 OK in 63ms (Views: 57.9ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:14.153599"], ["updated_at", "2018-11-18 22:44:14.153599"], ["user_id", 145]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (8.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 95ms (Views: 81.8ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"34g/n/RA33rI6vr/oIKV8tQ5Ogvfu/4ZYOESZhalA9yR27J3O16NjfgCpbvnCyfDkQ5xf9V9bBKqkKMXiNGLaA==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"44"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.5ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 20:44:00"], ["profile_id", 365], ["created_at", "2018-11-18 22:44:14.328159"], ["updated_at", "2018-11-18 22:44:14.328159"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 19ms (ActiveRecord: 4.6ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 145], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 365]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.5ms)
Completed 200 OK in 88ms (Views: 78.0ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Er0z2qWZG5qM/uu6XwERw.xERGG8JRhqtXSOGea5VJfAZOBr2FCku"], ["created_at", "2018-11-18 22:44:14.608258"], ["updated_at", "2018-11-18 22:44:14.608258"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bPGnt65wLMpTlhhqIC1+5Ux82h+4Z8r78jDH8XyEEx/LhMzTcjNyBlC94dt1ZjJmQq9oS+ekXMka9Te/gfJFzQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.3ms)
Completed 200 OK in 58ms (Views: 54.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:14.890509"], ["updated_at", "2018-11-18 22:44:14.890509"], ["user_id", 146]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 366], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 366], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 366], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (16.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.7ms)
Completed 200 OK in 92ms (Views: 86.8ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:44:14 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 146], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 366]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.5ms)
Completed 200 OK in 88ms (Views: 78.2ms | ActiveRecord: 2.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$KFEqaxN1mf9yiZqIWckREOK9nQVFIkQ5NOaiO6b.BSckDiMfB.wCq"], ["created_at", "2018-11-18 22:44:15.241236"], ["updated_at", "2018-11-18 22:44:15.241236"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RVn8MgHTfPdKvRx9mVDKiweckV4mRd5xLEcza7wT0NwTg81sGoOLQGFXJCTgVkIdDxXfq1mkvziBM+rs7AIM3A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:15.512420"], ["updated_at", "2018-11-18 22:44:15.512420"], ["user_id", 147]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 367]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 68ms (Views: 63.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 147], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.5ms)
Completed 200 OK in 86ms (Views: 79.3ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$KHVk4zI6/xxiWRq3zBAureRaJ0OM7xW9I4AUY1ISxGVBhHCDROAIG"], ["created_at", "2018-11-18 22:44:15.844344"], ["updated_at", "2018-11-18 22:44:15.844344"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (9.0ms)
Completed 200 OK in 53ms (Views: 51.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HERmdpYYAL2VSzZfJkpq4sxpAOHtG2V7juGPa3kXWR1/sjoZTWT4H7ewAJgF5QgX1wXWqLTY74lzbhI/ABdFeQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.1ms)
Completed 200 OK in 50ms (Views: 46.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:16.131705"], ["updated_at", "2018-11-18 22:44:16.131705"], ["user_id", 148]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.3ms)
Completed 200 OK in 77ms (Views: 73.1ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8nwzEkycL6Vib5me6JsuNCl7/Dt+yy+Z6IWGbusGyvqpI/RorwGiPrs+2bNzy0GL+iELCQWKwM6vbd8IYXDfNw==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (0.8ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 368], ["created_at", "2018-11-18 22:44:16.256109"], ["updated_at", "2018-11-18 22:44:16.256109"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 23ms (ActiveRecord: 3.8ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 148], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 368]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.4ms)
Completed 200 OK in 81ms (Views: 65.2ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kaxxzaO1thFVH/WZk6lLY.W0K5k4iTAsZKW98xiZVjaOmmSIi2bPu"], ["created_at", "2018-11-18 22:44:16.521543"], ["updated_at", "2018-11-18 22:44:16.521543"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 48.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pYQFTppTOSnfncFX1SbmQz6VZgMouq+5pkVyD6E4BgzPo295f1WEjsmtiddRLuw167Nhz4CcbWBklIvJMJIa8w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.4ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:16.813864"], ["updated_at", "2018-11-18 22:44:16.813864"], ["user_id", 149]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 369], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.2ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 369], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 369], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (24.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 101ms (Views: 91.9ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:44:16 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 149], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.7ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 369]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.3ms)
Completed 200 OK in 106ms (Views: 90.6ms | ActiveRecord: 3.8ms)


  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rW4F6E./vd7a1zsuWVhrxeuXY6Afe9bTgdkDu1EoDm2l4qPE6Jlqe"], ["created_at", "2018-11-18 22:44:17.237751"], ["updated_at", "2018-11-18 22:44:17.237751"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HSOwftVsD0k2ypWTS25/wtnqY/RWgKTyQSsQSJ9KXm3az0ULGc8SRBLZGITCVonSz6JBlTQRIiBzvIlCgAntpw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:17.506900"], ["updated_at", "2018-11-18 22:44:17.506900"], ["user_id", 150]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 370]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 67ms (Views: 62.4ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 150], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.4ms)
Completed 200 OK in 74ms (Views: 67.8ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$LcN5D72KSUObSYFhFbqLXObiFuBUe2SR7382xnSshbVrvEN98CAnu"], ["created_at", "2018-11-18 22:44:17.833552"], ["updated_at", "2018-11-18 22:44:17.833552"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 48ms (Views: 47.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"o2y4L9m65cS8f8QjZbUVDK+BNWk3Hw2JpEeCXajMo/Cmf+VPxQs0S+HaTRKutDmzhr8fEjaq4wD8zSEcyCfB2Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.6ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:18.131391"], ["updated_at", "2018-11-18 22:44:18.131391"], ["user_id", 151]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 74ms (Views: 69.1ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"me/M9uHqJvvkF0wLdDMa1s5N3r363k30qG0ptKiduhYByLcxU7sIIY3Z3BW8UH1k8YaocVbxzPU3j/F1SEAvsw==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.6ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 371], ["created_at", "2018-11-18 22:44:18.238394"], ["updated_at", "2018-11-18 22:44:18.238394"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 15ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 151], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 371]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.1ms)
Completed 200 OK in 88ms (Views: 78.0ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 75ms (Views: 69.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 91ms (Views: 89.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 76ms (Views: 71.7ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 83ms (Views: 81.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 83ms (Views: 82.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 20:44:18 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ifuVaL2ptqRhmgGACBLioKIp9Hj0iXbo5IICXO850ce8ParfUVpVmxkQFFlQHrvnOngpaHH+8898XnbNsgG0kQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zGmhCnW15Q4OBeoA9yQVl.3w8x7PCUBDugoPOJnmoWoBJpi1dj6DG"], ["created_at", "2018-11-18 22:44:19.124517"], ["updated_at", "2018-11-18 22:44:19.124517"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 152], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:44:19 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 75ms (Views: 74.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$61rtNO767bS9j7iKyZ.bzOi7Xv/FJGribnp6Sfj6t9tRfAVREZ34K"], ["created_at", "2018-11-18 22:44:19.427772"], ["updated_at", "2018-11-18 22:44:19.427772"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 20:44:19 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MIiop/VRDLS6CIHmpRvN6s6zRsBZx5aKHtiW7LnemTA3NgILStPFEhdZW0QcySxkGLCVk8+4xHB2x5L2tzhnSg==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 207ms (Views: 58.1ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$y3vabgiCUn3Av8bGCFXVSO/8sIuAqM3Zc.bFMfHOccRszoAQgKWpG"], ["created_at", "2018-11-18 22:44:19.810634"], ["updated_at", "2018-11-18 22:44:19.810634"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 45.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Mfw7d51KJjZrVF/XthJW7ki8B5N8Rd30887HX98Xz8Zz5Lz0FADwdi09OgrT09u0kit35w8QmNcNsawZ7GLb+Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 154], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DdM78zsu13TswC6/0tYJSeM8cvNwnWm2rsAJZGm1DVR.P56xCu0I6"], ["created_at", "2018-11-18 22:44:20.244213"], ["updated_at", "2018-11-18 22:44:20.244213"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 66ms (Views: 64.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BYaerO3rcpguWT0adnJjGATuYpSmHpwTrLyUgPUdeHJcscPyCJdd/CpcbZCdlQhn3Wif8bLuW9sLa/rduiO++Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 48ms (Views: 43.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.3ms)
Completed 200 OK in 91ms (Views: 83.8ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bNLu4cyt3rMJGC7eEFb1PPjvAM+KCDwVSSkpxHqJCq+5UvzEkIWIAdwgIlCO7gRwpcDchi94bKBfuDxe9+wv0g==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 155], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.8ms)
Completed 200 OK in 93ms (Views: 85.8ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$O7hWh4jRPG3ny1.06k5M4.oJsDKYagFNGfVeQyNDoaxD6wY.ouABa"], ["created_at", "2018-11-18 22:44:20.928106"], ["updated_at", "2018-11-18 22:44:20.928106"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JlEfa9TB39EsaN1qw6WpXeps7Eoj8B4r1HQ5+Ne7iLUoQKn3JoSH1nW0sz5r8rISraeh+/VegNYP8rbSHrmpCw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.9ms)
Completed 200 OK in 74ms (Views: 70.3ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6fhaSbUtu9LkH6CgVmMxGIzOp/tfCLRpvbHb8t7GKvycJgVfRpJ/8uz9/P4HEnKlIbVOEt1ue6Yq+gg3eymnkw==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 22:44:21.301460"], ["updated_at", "2018-11-18 22:44:21.301460"], ["user_id", 156]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 8ms (ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 156], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 372], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.5ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 372], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 372], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.4ms)
  Rendered profiles/show.html.erb within layouts/internal (26.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.9ms)
Completed 200 OK in 110ms (Views: 100.2ms | ActiveRecord: 1.7ms)


  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (1.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5BAh1FrqHax9r4ublQ3YdOia61tO90xipglbpf8xt.GmLVQ9eTA3m"], ["created_at", "2018-11-18 22:44:21.598146"], ["updated_at", "2018-11-18 22:44:21.598146"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 55ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+0VEMQfBa7eW/KoE/cKsQVPTVJzCBaCABSV6oAxFhE0d+k5abJbfyoGxDcTT7Brcqog3z5tw5Mkx1kEoqwRKVA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.4ms)
Completed 200 OK in 53ms (Views: 49.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:21.898727"], ["updated_at", "2018-11-18 22:44:21.898727"], ["user_id", 157]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 20:44:21 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.4ms)
Completed 200 OK in 91ms (Views: 82.5ms | ActiveRecord: 0.7ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:22 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3ZhkTzZCR4pquO0wZaNmzLSVLpbDKP0YdQny5hsxNadqfpLh6XqyKQy5OkDupSqHkg6D+JTC1hNCE5cOjOYJbA==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 157], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 373], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.6ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 22:44:22.030761"], ["id", 373]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (5.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.3ms)
Completed 200 OK in 84ms (Views: 68.3ms | ActiveRecord: 2.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$m8PT/P2lQhzKpT85TkDRHOr4CYVXbKllOxjC0hDLRk.l6EeVx637y"], ["created_at", "2018-11-18 22:44:22.295295"], ["updated_at", "2018-11-18 22:44:22.295295"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 50ms (Views: 49.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zwVFT9i9ApFJbLUUqxGl8bOjvNpc1dVrQq/FmdKQTYK7OyQJEwmrGjXdiMDXV2NTb5Y22F0yzxa7g1vpUWKTcQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:22.583442"], ["updated_at", "2018-11-18 22:44:22.583442"], ["user_id", 158]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$1s7urEEWVNJOMaPUTFZsRONn6I1mFYA.866CTtm.VteYKpv318GKy"], ["created_at", "2018-11-18 22:44:22.738590"], ["updated_at", "2018-11-18 22:44:22.738590"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:22.880378"], ["updated_at", "2018-11-18 22:44:22.880378"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 20:44:22 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 158], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.4ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 86ms (Views: 84.0ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$geuG5bb4uWGCWMAhEEFare6vyW7SQt71QjZ31VGawUyB9P9PX2soW"], ["created_at", "2018-11-18 22:44:23.126168"], ["updated_at", "2018-11-18 22:44:23.126168"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 53ms (Views: 52.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rK8DgKRyeziit1PiDTqFqPehiGtmmfWvL1F2hhAJz+UrfWSwNZkXSGS3Np4l5dj9USs5TWifMf+B5xSX+p10Gg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 178ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (6.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.5ms)
Completed 200 OK in 57ms (Views: 53.1ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:23.457160"], ["updated_at", "2018-11-18 22:44:23.457160"], ["user_id", 160]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 376], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 376], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 376], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (28.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (74.2ms)
Completed 200 OK in 137ms (Views: 121.7ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 160], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (1.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.6ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 376]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (12.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (74.9ms)
Completed 200 OK in 124ms (Views: 105.6ms | ActiveRecord: 4.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DVBSEKd/VyNsRsapTZ7CGukERnfDJZ5LOp4tXHwZREMs5oRytAYia"], ["created_at", "2018-11-18 22:44:23.977124"], ["updated_at", "2018-11-18 22:44:23.977124"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 59ms (Views: 58.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bOmZsGhVHLF8TavkYJ/Xyc5mkgIQyJXUHhnXyMUifBBfQhWSlzLL/MtnT6ju95yNblzHjTZVSzhlnnfOytxmJQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 202ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 77ms (Views: 72.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:24.352933"], ["updated_at", "2018-11-18 22:44:24.352933"], ["user_id", 161]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 377]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (78.9ms)
Completed 200 OK in 113ms (Views: 100.7ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 161], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.4ms)
Completed 200 OK in 81ms (Views: 72.9ms | ActiveRecord: 0.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3Itq.D7hVI7pYnbwaCOZkOM2rHOSN343KJGOlDoV69S13.fqJcT12"], ["created_at", "2018-11-18 22:44:24.730990"], ["updated_at", "2018-11-18 22:44:24.730990"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2ucIfV2ygOI84P0H3lqFyUPe7rDJo3zCiCzQ8pX5yXGQNAsObaRCUtxZ/uw2sCxAHJGwIyFM9nv5WF4yxOq+Kg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 47ms (Views: 43.7ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:25.004357"], ["updated_at", "2018-11-18 22:44:25.004357"], ["user_id", 162]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.8ms)
Completed 200 OK in 78ms (Views: 72.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PrUmx6fMR6YwK5A7NJY6Pnu5Xc7s6WS2gUMosj7CEb8q6w3Q525q1ngFm8D35JOMlvLw42o2R1tvXi8V+LCaog==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 378], ["created_at", "2018-11-18 22:44:25.114297"], ["updated_at", "2018-11-18 22:44:25.114297"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 15ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 162], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 378]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.5ms)
Completed 200 OK in 89ms (Views: 69.4ms | ActiveRecord: 1.1ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$9AGpVbM28xYVqN9VE6t15.7Zgwt66SCj7J0BD32FEdPuSOh5m8wWG"], ["created_at", "2018-11-18 22:44:25.375973"], ["updated_at", "2018-11-18 22:44:25.375973"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 55ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7UtxwY9VkjsPi3IYhPE+ymO9Sd8Ymnhpk5oRbvbptCNUg2CNhQ/hGvw8ZOjT8qMGl99g5Z0Z606NaDiP3KH5aw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:25.660526"], ["updated_at", "2018-11-18 22:44:25.660526"], ["user_id", 163]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 379], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 379], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 379], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (22.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.1ms)
Completed 200 OK in 92ms (Views: 86.7ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:44:25 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 163], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 379]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.5ms)
Completed 200 OK in 81ms (Views: 74.2ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$KQ1SPks3joasQV8Uiky6.eJLMZl2hTyohXhTw5sSg1eaNk75YJUwS"], ["created_at", "2018-11-18 22:44:26.004723"], ["updated_at", "2018-11-18 22:44:26.004723"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 54.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4WmBNTdwG3FLsRQ3beM+cpYOoPN8kANYJDRJo9BZMTmFvesYve5yHj8ZvumzcJ5FQvW3ObkuUGr3XHQlMKvlcA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.2ms)
Completed 200 OK in 52ms (Views: 48.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:26.305761"], ["updated_at", "2018-11-18 22:44:26.305761"], ["user_id", 164]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 380]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.2ms)
Completed 200 OK in 76ms (Views: 69.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.0ms)
Completed 200 OK in 77ms (Views: 69.7ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$2i2GTvdZ7EKEGMel1.gNm.O3M3EjZH2ztvBtTLIcG9pWrwfvI92zu"], ["created_at", "2018-11-18 22:44:26.629710"], ["updated_at", "2018-11-18 22:44:26.629710"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Nb3ew7RS/uM3LtAAdn8s+S8ih069al9pjDjXPTCUQcK/AQ1ZBrsX0J5I2Ny+7ES66kODG2FIJZWktYK2TxDCrg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 57ms (Views: 53.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:26.914633"], ["updated_at", "2018-11-18 22:44:26.914633"], ["user_id", 165]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:44:26 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 73ms (Views: 65.7ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3GfBD28TKa2tVyzbOV/F4D9G81uqHaxOUtbqPpAZE3U52RKWzzJvzuocrfT3syKyS8Tru64Z7IO7V8bBjcZGXw==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.7ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 381], ["created_at", "2018-11-18 22:44:27.027543"], ["updated_at", "2018-11-18 22:44:27.027543"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 20ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 381]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.7ms)
Completed 200 OK in 71ms (Views: 63.4ms | ActiveRecord: 0.9ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.CUWgT/7A9fQn2x33nEcturox.52ru3HixvxiOijwUbPYlOAEtv3O"], ["created_at", "2018-11-18 22:44:27.293125"], ["updated_at", "2018-11-18 22:44:27.293125"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 51ms (Views: 50.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LFW56OFyd8D475cHBSJICGBJTuTU1ZLha2dw07MylosL1uYTGD9t0nVJLpRMmfSbTHbxJkHHS/+ymsPj2qswlQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.0ms)
Completed 200 OK in 55ms (Views: 51.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:27.596212"], ["updated_at", "2018-11-18 22:44:27.596212"], ["user_id", 166]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.6ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 382], ["created_at", "2018-11-18 22:44:27.603505"], ["updated_at", "2018-11-18 22:44:27.603505"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 382], ["created_at", "2018-11-18 22:44:27.608725"], ["updated_at", "2018-11-18 22:44:27.608725"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 382]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 382], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 382], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 382], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (20.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.2ms)
Completed 200 OK in 103ms (Views: 92.2ms | ActiveRecord: 1.7ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Z/nise6.CE87NY4t/4JuI.C9KXJgLT3QezUPrCyWU6NWAYfVbkp.q"], ["created_at", "2018-11-18 22:44:27.904911"], ["updated_at", "2018-11-18 22:44:27.904911"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kUHcHfj8bwEsD01DIPZ/f0uFXfcj830kzesHmrrqmiASPXvzRJZfg9jZWbdi+gkjdxTJZ+PW7z5OJ1MA+UlVhg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:28.191863"], ["updated_at", "2018-11-18 22:44:28.191863"], ["user_id", 167]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 383]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 383], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.3ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 383], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 383], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (25.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.6ms)
Completed 200 OK in 96ms (Views: 87.4ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (1.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$F1wVyuSoNCjWdn3RO3tWseqJT51SFty1bfNhMF7jyyFm4VWkuWysC"], ["created_at", "2018-11-18 22:44:28.477333"], ["updated_at", "2018-11-18 22:44:28.477333"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.9ms)
Completed 200 OK in 109ms (Views: 107.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"W1bUfy/jamWrzFAUFmygd7gMGVWBN0ZVcmwqeBtuFpq5Y9lXEiQ4/lX0k6bG5IimYtGEAhrZEGkz5xpAzuo97A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (6.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 212ms (ActiveRecord: 6.2ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.7ms)
Completed 200 OK in 61ms (Views: 57.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:28.925917"], ["updated_at", "2018-11-18 22:44:28.925917"], ["user_id", 168]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 384], ["created_at", "2018-11-18 22:44:28.931648"], ["updated_at", "2018-11-18 22:44:28.931648"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (2.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.7ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 384], ["created_at", "2018-11-18 22:44:28.939542"], ["updated_at", "2018-11-18 22:44:28.939542"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 384]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 384], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 384], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.3ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 384], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 384], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (37.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 110ms (Views: 99.4ms | ActiveRecord: 2.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YHFkCl3c85VQTW2BdwvpZe43mDaAPyN3A.9f17fhX7PjdNVK5IW9e"], ["created_at", "2018-11-18 22:44:29.286309"], ["updated_at", "2018-11-18 22:44:29.286309"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 73ms (Views: 71.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yFTYC+oeMrUj1LfAJRqhS0+M9BjdLBcKFejQF6CgAtJTBwx+4p1eodJXO8O0YCaTysYR2vA2TUQ+8Nymqm/KTA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.7ms)
Completed 200 OK in 49ms (Views: 45.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:29.624340"], ["updated_at", "2018-11-18 22:44:29.624340"], ["user_id", 169]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 385]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 385], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 385], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 385], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (33.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.5ms)
Completed 200 OK in 118ms (Views: 112.3ms | ActiveRecord: 1.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xEap81omzvIme..EUEHQoOyUkysvbpZOpC6SAa7pUCo1nLm0vMA1O"], ["created_at", "2018-11-18 22:44:29.990472"], ["updated_at", "2018-11-18 22:44:29.990472"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 65ms (Views: 64.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gwjqUdQt1g20fddxKGGUomOMpWOJ620AMuQhsJdQbPSco3adfMgWfgBfiduJlRcgtblnNPIF2q4JKlTC7yBOCA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 214ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.1ms)
Completed 200 OK in 65ms (Views: 61.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:30.391699"], ["updated_at", "2018-11-18 22:44:30.391699"], ["user_id", 170]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 386], ["created_at", "2018-11-18 22:44:30.395817"], ["updated_at", "2018-11-18 22:44:30.395817"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 386], ["created_at", "2018-11-18 22:44:30.398484"], ["updated_at", "2018-11-18 22:44:30.398484"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 386]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (1.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 386]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 386], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (3.3ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 386], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.2ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 386], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 386], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 386], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 386], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.0ms)
  Rendered profiles/show.html.erb within layouts/internal (45.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.7ms)
Completed 200 OK in 126ms (Views: 118.1ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (4.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$LyBXlUjC92r.i2In5fxYsOCkmmzAt649VQ2ORnp5Ri/b0BLsNg8nC"], ["created_at", "2018-11-18 22:44:30.750376"], ["updated_at", "2018-11-18 22:44:30.750376"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 57ms (Views: 56.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rE5SeH2CWF/k/SpHAlHPjRf4gIQNSkk10gLPUgWmotSTmAR+bRf/dn5xLuNcUDZm0ZwWrSOFV69tuJgMxli/lA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 203ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (6.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (72.0ms)
Completed 200 OK in 97ms (Views: 92.8ms | ActiveRecord: 0.9ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:31.155397"], ["updated_at", "2018-11-18 22:44:31.155397"], ["user_id", 171]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 387]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (10.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (1.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 387], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 387], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (4.3ms)
  [1m[36mCACHE Height Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 387], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (30.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (99.9ms)
Completed 200 OK in 172ms (Views: 150.4ms | ActiveRecord: 14.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$sIHr4tr/X5./sWx6rqxyler9feLJuZuyDRTDa01s93Q5zIVApYj8e"], ["created_at", "2018-11-18 22:44:31.562032"], ["updated_at", "2018-11-18 22:44:31.562032"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 63ms (Views: 62.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"96cFmfdTfrp/6IqxBrnCmBbBp0khPEfiT0sgwOJLRMBghd23wq3ueNzBS1/kXqe5YKj/8cDqIZSrBxRnk4B9Uw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 215ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.6ms)
Completed 200 OK in 62ms (Views: 54.8ms | ActiveRecord: 1.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:44:31.938448"], ["updated_at", "2018-11-18 22:44:31.938448"], ["user_id", 172]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 388]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:44:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (2.8ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 388], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 388], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 388], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.8ms)
  Rendered profiles/show.html.erb within layouts/internal (36.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (83.8ms)
Completed 200 OK in 168ms (Views: 157.1ms | ActiveRecord: 3.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:45:20 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.5ms)
Completed 200 OK in 64ms (Views: 54.5ms | ActiveRecord: 1.9ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:45:54 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (13.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.5ms)
Completed 200 OK in 79ms (Views: 69.8ms | ActiveRecord: 1.6ms)


Started POST "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:46:33 -0200
Processing by PlateletsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"X/UtKFDYkbN4Lp+TPuJEprWg3MIbHRcw78WKD3NvUU82gxi4+qAut4oOVO3dIPDBx+kiZ4VAyP0Tm6Dd2BIdog==", "platelet"=>{"erythrocyte"=>"11", "hemoglobin"=>"2", "hematocrit"=>"3", "vcm"=>"4", "hcm"=>"5", "chcm"=>"6", "rdw"=>"7", "leukocytep"=>"8", "leukocyteul"=>"8", "neutrophilp"=>"9", "neutrophilul"=>"9", "eosinophilp"=>"999", "eosinophilul"=>"9999", "basophilp"=>"999", "basophilul"=>"9999", "lymphocytep"=>"9999", "lymphocyteul"=>"9999", "monocytep"=>"9999", "monocyteul"=>"999", "total"=>"999999"}, "commit"=>"Save platelet", "profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ app/controllers/platelets_controller.rb:25
  [1m[36mPlatelet Create (2.7ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "11.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "999.0"], ["basophilp", "999.0"], ["lymphocytep", "9999.0"], ["monocytep", "9999.0"], ["leukocyteul", 8], ["neutrophilul", 9], ["eosinophilul", 9999], ["basophilul", 9999], ["lymphocyteul", 9999], ["monocyteul", 999], ["total", 999999], ["profile_id", 229], ["created_at", "2018-11-18 22:46:33.452208"], ["updated_at", "2018-11-18 22:46:33.452208"]]
  â†³ app/controllers/platelets_controller.rb:25
  [1m[35m (1.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ app/controllers/platelets_controller.rb:25
Redirected to http://localhost:3000/profiles/teste@gmail.com/platelets
Completed 302 Found in 66ms (ActiveRecord: 8.6ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:46:33 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (6.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.7ms)
Completed 200 OK in 92ms (Views: 86.1ms | ActiveRecord: 1.3ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:47:03 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (8.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.9ms)
Completed 200 OK in 78ms (Views: 69.9ms | ActiveRecord: 1.2ms)


Started GET "/" for 127.0.0.1 at 2018-11-18 20:50:32 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 83ms (Views: 78.3ms | ActiveRecord: 0.0ms)


Started GET "/rails/info/routes" for 127.0.0.1 at 2018-11-18 20:50:39 -0200
Processing by Rails::InfoController#routes as HTML
  Rendering /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/railties-5.2.1/lib/rails/templates/rails/info/routes.html.erb within layouts/application
  Rendered collection of /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/actionpack-5.2.1/lib/action_dispatch/middleware/templates/routes/_route.html.erb [137 times] (56.5ms)
  Rendered /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/actionpack-5.2.1/lib/action_dispatch/middleware/templates/routes/_table.html.erb (2.2ms)
  Rendered /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/railties-5.2.1/lib/rails/templates/rails/info/routes.html.erb within layouts/application (107.7ms)
Completed 200 OK in 142ms (Views: 127.7ms | ActiveRecord: 0.0ms)


  [1m[35m (1.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zAcKFPEskPXSctR5Dr81ke7LVqhWnEXwR6p77YhaMJPi9QxoEnwwS"], ["created_at", "2018-11-18 22:54:59.840341"], ["updated_at", "2018-11-18 22:54:59.840341"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:54:59 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (24.9ms)
Completed 200 OK in 545ms (Views: 529.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AbSbTQ4gubz631GfWTXn6+l3igw+jFI0swY2uV+UGUrJYQ+FNT7Uz5JndyCnA08iiAg0t8w+1taDfq/6ZWHE+Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (5.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 208ms (ActiveRecord: 5.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.9ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 82ms (ActiveRecord: 5.3ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (98.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.7ms)
Completed 200 OK in 186ms (Views: 167.3ms | ActiveRecord: 3.1ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:01.017496"], ["updated_at", "2018-11-18 22:55:01.017496"], ["user_id", 173]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 389], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 389], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 389], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (47.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (89.9ms)
Completed 200 OK in 165ms (Views: 147.2ms | ActiveRecord: 5.9ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.6ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 389]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (9.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.6ms)
Completed 200 OK in 106ms (Views: 89.0ms | ActiveRecord: 4.0ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$IqwwZ58ljh9f/vOqlj8TreGRj1LUqyG4rFwjuTHH8VxZ4MEwE7uIO"], ["created_at", "2018-11-18 22:55:01.482101"], ["updated_at", "2018-11-18 22:55:01.482101"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JzOCWeA956q/1CpUQcCL4WzzC/NBkyYPh7LdSpR2rmhK6PJfGY8XUMSO/LJIN9I0bN9UqsJdDknmXJ2Ae0pw5w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:01.750166"], ["updated_at", "2018-11-18 22:55:01.750166"], ["user_id", 174]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 390]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.2ms)
Completed 200 OK in 82ms (Views: 76.6ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:55:01 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.1ms)
Completed 200 OK in 76ms (Views: 71.0ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xVigErqk71ZyTKFWyNjMZuctLFAw1ZYUVDN1QNo62AoIkERAblj2S"], ["created_at", "2018-11-18 22:55:02.088904"], ["updated_at", "2018-11-18 22:55:02.088904"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 51ms (Views: 50.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zH/OQDTeSeVo4pjy+n0aShlwWsRBH8ptFlNHOvR5eeR2Czj7ZCtk2MfJYCWThJjlEQPxylg4RHmUe/H5x5uAGQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.6ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:02.375529"], ["updated_at", "2018-11-18 22:55:02.375529"], ["user_id", 175]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.8ms)
Completed 200 OK in 81ms (Views: 73.4ms | ActiveRecord: 0.8ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7ZsOPfTn+p2EMdoS3+rS1Hl0zKaGs5/c10WUj/TzdT4k2MXxzrmmAxl5HXUXYvDa087cUreWoSUzmXoxSggLng==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.7ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 391], ["created_at", "2018-11-18 22:55:02.485841"], ["updated_at", "2018-11-18 22:55:02.485841"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 391]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.0ms)
Completed 200 OK in 93ms (Views: 84.9ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WY7RMttjgi8cdOdld6MM6./kBopdx/bvCwjaAQqRPipJduMyix90G"], ["created_at", "2018-11-18 22:55:02.757446"], ["updated_at", "2018-11-18 22:55:02.757446"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 50ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IW4VCJXZYHr3g7+p6YGLABRLZzPdEUoy7Z+7qVkU/JiLd+d8Z+4KM+pUpXv7xK3CvqovZ1dUwO7ebRPSZ5oMEA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:03.032525"], ["updated_at", "2018-11-18 22:55:03.032525"], ["user_id", 176]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 392], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 392], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 392], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (13.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.1ms)
Completed 200 OK in 86ms (Views: 80.6ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 392]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (5.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.2ms)
Completed 200 OK in 86ms (Views: 74.7ms | ActiveRecord: 2.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Fc925Ky9mWE8j/vhdFtLrOz6HHOoV0v0OMNpPNrSivgz3nwNVtG6m"], ["created_at", "2018-11-18 22:55:03.377611"], ["updated_at", "2018-11-18 22:55:03.377611"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 50ms (Views: 49.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qzppzQeDMq9++DyXcHqJ9u3z3GnUOL9Q/loJW3ZoVhVGqdYuX5uFBY1QSw5rZFPj4CV0/9VS4KhJncLSHVfyqw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.8ms)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:03.665859"], ["updated_at", "2018-11-18 22:55:03.665859"], ["user_id", 177]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 393]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.6ms)
Completed 200 OK in 73ms (Views: 66.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.6ms)
Completed 200 OK in 76ms (Views: 69.8ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$8Yz6mGkJLvnzEzWoYK6IkeU9ksSwnS4tX9Lc/nqj4fWB3uiGVNlX."], ["created_at", "2018-11-18 22:55:03.995270"], ["updated_at", "2018-11-18 22:55:03.995270"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gcrVMiQoLLXrhSdKI1r4vmq+HU6Pb/9gH98kT9AYUqyBCZ4aGN/DlmN8HTZb1bbTY5d75zr5Fbl2m9A38X2iDQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:04.278092"], ["updated_at", "2018-11-18 22:55:04.278092"], ["user_id", 178]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.7ms)
Completed 200 OK in 64ms (Views: 60.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Khq12en+IjfzwgRmXzraY/mhj0zvhIT9ZoY1Qv88U4V9mwj3pp8+H/0c/l7xClQzdNUDmzS9NXFVTfYriDKFBw==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 394], ["created_at", "2018-11-18 22:55:04.387653"], ["updated_at", "2018-11-18 22:55:04.387653"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 15ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 394]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.0ms)
Completed 200 OK in 57ms (Views: 52.3ms | ActiveRecord: 0.9ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$bGWj4jYOy.WcXpt0o7ITiuRZr1D5X46FqEqEeZk52oC4Gb3nvq/E."], ["created_at", "2018-11-18 22:55:04.613959"], ["updated_at", "2018-11-18 22:55:04.613959"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"N94Vm1LMZ1SZ+VgDWZ3cWvL9fs8joX9cziYrO+YZn59ZAOOHJKt2wJ1SsxyWf2iAmz5ynTBGVHDHxtliu5Icsg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.3ms)
Completed 200 OK in 54ms (Views: 50.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:04.908320"], ["updated_at", "2018-11-18 22:55:04.908320"], ["user_id", 179]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.8ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 395], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 395], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 395], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (27.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.5ms)
Completed 200 OK in 102ms (Views: 94.2ms | ActiveRecord: 2.1ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (2.6ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 395]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.8ms)
Completed 200 OK in 87ms (Views: 71.8ms | ActiveRecord: 5.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$V1.VM/gukGhYRQrVtdiUjeCShr8gMQF.n/5.3sw33CNN9UuTyXKoy"], ["created_at", "2018-11-18 22:55:05.275218"], ["updated_at", "2018-11-18 22:55:05.275218"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 57ms (Views: 55.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"eQqLYh6VAdN3lKAH/EL/ckz/qYOVc5LYtZjAWIa0NTKnwn47Emxk1DrRjSSsMW4GqaVfetg6ow8obx8IYy56lg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.5ms)
Completed 200 OK in 49ms (Views: 45.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:05.577832"], ["updated_at", "2018-11-18 22:55:05.577832"], ["user_id", 180]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 396]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.1ms)
Completed 200 OK in 78ms (Views: 71.4ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.2ms)
Completed 200 OK in 85ms (Views: 78.0ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$eQGqAkiJNpzecqA8zglL5OYy5DOVYsreyeJIiRcBYqJd8okdCROYK"], ["created_at", "2018-11-18 22:55:05.915164"], ["updated_at", "2018-11-18 22:55:05.915164"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 50ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GwBhx+dFeTvohz/PEVLn+8i4hrzokq06TG0Pc/PFGyOAMHlJFJGxMc5Pv43dXOv5VxNevdM0a3h8x5dcxjAUvw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:06.199838"], ["updated_at", "2018-11-18 22:55:06.199838"], ["user_id", 181]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (6.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.8ms)
Completed 200 OK in 79ms (Views: 70.6ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3Jejeb6tG7CvS0DFEwaoa0hvp2/73qeEwDbKQG0Ch0dp0CWF683PCO4YOQBX2MPjieoGoLJzkoGi8ZJA3YS7cg==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"55"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (1.0ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 20:55:00"], ["fasting", true], ["profile_id", 397], ["created_at", "2018-11-18 22:55:06.344657"], ["updated_at", "2018-11-18 22:55:06.344657"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 30ms (ActiveRecord: 6.1ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 397]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.4ms)
Completed 200 OK in 70ms (Views: 59.9ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$FXli5g1tF0HGBgSpTzJ6TO8k8K3Z7PbjnaJkWbjI2thvpKJKZkjWq"], ["created_at", "2018-11-18 22:55:06.586512"], ["updated_at", "2018-11-18 22:55:06.586512"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 53ms (Views: 51.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5k8KJlFxZSVmmh1ZhCRDuBpdt3NL3uQAoWL0cpymawrJlOTs5t2J5Q8EleLZoJUMddpkPVyZEeMrpXVIBz/QEQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.4ms)
Completed 200 OK in 50ms (Views: 46.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:06.876248"], ["updated_at", "2018-11-18 22:55:06.876248"], ["user_id", 182]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 398], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 398], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 398], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (23.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 92ms (Views: 81.3ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:55:06 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 182], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (1.0ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 398]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.9ms)
Completed 200 OK in 113ms (Views: 97.6ms | ActiveRecord: 4.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kjBIWz52QaJKp9hU/oBv6eeMih6T2vyRHCmFINo5mJaxo8i7u3I2i"], ["created_at", "2018-11-18 22:55:07.263735"], ["updated_at", "2018-11-18 22:55:07.263735"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WqeLJXY+/4oYxwgALpY1C6EX7IziDfFQULXCuN0nJAEPxphDQWCkbEsBXQlaIISJb69izaDQy/6rSWS5kxV+ig==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.8ms)
Completed 200 OK in 56ms (Views: 52.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:07.550093"], ["updated_at", "2018-11-18 22:55:07.550093"], ["user_id", 183]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 399]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.9ms)
Completed 200 OK in 67ms (Views: 58.2ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 183], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.2ms)
Completed 200 OK in 79ms (Views: 72.3ms | ActiveRecord: 0.5ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5NWAhreB3sZ0CLCK7k7SqOx6lVnt0lEO9OKcykO.DqDUyZn/qdIcS"], ["created_at", "2018-11-18 22:55:07.872103"], ["updated_at", "2018-11-18 22:55:07.872103"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"x/j7aX6Sv9+v6i1Vo2sApesmLv1bbTTX087gBIRTqY19s7CD4nzHkbMl1HITTy9cvNWjy6C+9PrlXXHtldGXpw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:08.144340"], ["updated_at", "2018-11-18 22:55:08.144340"], ["user_id", 184]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 82ms (Views: 73.3ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zH30DzaEafNzO2tgh956BsFU833XISlTCRZ8P8dUn4jlKtA6+HwMaTsbeYB+87ZHKRdHAgg+pdaDHMlfl9uhxQ==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.7ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 400], ["created_at", "2018-11-18 22:55:08.278513"], ["updated_at", "2018-11-18 22:55:08.278513"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 33ms (ActiveRecord: 4.9ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 184], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (1.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.9ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 400]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.9ms)
Completed 200 OK in 77ms (Views: 64.9ms | ActiveRecord: 3.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GXgFCg5qolK4bg6qAoQ2de3PxMil8IkBL.tyyvEaKGn42eDyRsGrK"], ["created_at", "2018-11-18 22:55:08.532683"], ["updated_at", "2018-11-18 22:55:08.532683"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jilnZzK2/SiYxCdIMvuL5NbFrthnD8ER8Bo+oEA6rE0ga8WKQgm6S4Y7dnuGHgbWSmiw3QjMuDJNejTrp1WcPA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.8ms)
Completed 200 OK in 48ms (Views: 44.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:08.805332"], ["updated_at", "2018-11-18 22:55:08.805332"], ["user_id", 185]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 401], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 401], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 401], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (24.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.2ms)
Completed 200 OK in 97ms (Views: 87.2ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:55:08 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 185], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 401]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (7.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.6ms)
Completed 200 OK in 82ms (Views: 73.1ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$iil53gOSz5ChUnu1ySQzBeMLB6aSkYhUIgLWKd39M.DeJbzmx0Nc2"], ["created_at", "2018-11-18 22:55:09.172683"], ["updated_at", "2018-11-18 22:55:09.172683"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 66ms (Views: 64.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6VlS+zQnLB6bQphb0p5als+PlPxSF8WU/5i12rQbKgPI+DgM1XUOmiNQvLoDHO+eO+XneMCqRLGdHy0alwDtEQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.4ms)
Completed 200 OK in 49ms (Views: 45.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:09.481407"], ["updated_at", "2018-11-18 22:55:09.481407"], ["user_id", 186]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 402]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.0ms)
Completed 200 OK in 85ms (Views: 66.5ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 186], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.3ms)
Completed 200 OK in 89ms (Views: 80.0ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$9ajDEIOA.XaXsHWcHoUDCeeQqjsHCLYUwlXXSae3UJhs..EAuwrYq"], ["created_at", "2018-11-18 22:55:09.838515"], ["updated_at", "2018-11-18 22:55:09.838515"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 47ms (Views: 46.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"M5DbUcSthVhjTA86lQr6nLSjAODzzUJjBoKQAW5IclKBwi2Tn01+DSqG9NeJxfboilXmKqbadv/F0qLi2Z2t9Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 177ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.4ms)
Completed 200 OK in 60ms (Views: 55.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:10.161373"], ["updated_at", "2018-11-18 22:55:10.161373"], ["user_id", 187]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.4ms)
Completed 200 OK in 72ms (Views: 64.9ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VwuZu/1YITvjoqc8vQ2BvFYuIN8iY0kOrnAFa087372xa2Q7//0DVI3KJ5syEdPND+hrtCbMKmLwdiwTRe45tg==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.7ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 403], ["created_at", "2018-11-18 22:55:10.269404"], ["updated_at", "2018-11-18 22:55:10.269404"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 17ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 187], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 403]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.0ms)
Completed 200 OK in 74ms (Views: 63.0ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ftPj9Q71C/k8x2UKF6A.quR6O.E8TXo/t58okMXfLmvtr6841MQiy"], ["created_at", "2018-11-18 22:55:10.528368"], ["updated_at", "2018-11-18 22:55:10.528368"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 77ms (Views: 75.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"e8WKWwYB6t2o7yXl/waI9zaCV3BVw207thCH6GHr7IlPCSl1+Fd0fttSPYUtE7+hRJNqBKf3l6GuCCkKpGW0cQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 48ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:10.861095"], ["updated_at", "2018-11-18 22:55:10.861095"], ["user_id", 188]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 404], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (2.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 404], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 404], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (27.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 98ms (Views: 86.7ms | ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:55:10 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 188], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.7ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 404]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (7.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.2ms)
Completed 200 OK in 83ms (Views: 66.7ms | ActiveRecord: 3.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$M8UpB0tJTxHouCn5fjl4DutbllCZ/oZBBSArnlbFCfTvJu5Tm.1gO"], ["created_at", "2018-11-18 22:55:11.226765"], ["updated_at", "2018-11-18 22:55:11.226765"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1zwvxhYx1Pj7aPmkFoQ5jayUgx7jkbUmC6XavO7z+n8MpFNIZlmu/7nLjiaWFcBFwq06jax+tTmdV/HZzAViHQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:11.507233"], ["updated_at", "2018-11-18 22:55:11.507233"], ["user_id", 189]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 405]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 66ms (Views: 61.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 189], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.9ms)
Completed 200 OK in 84ms (Views: 76.2ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ElKfnInMO6IVE2G976i2Be/aOMf7tMOKRnpr0aL.Wi2CaKzkIsldm"], ["created_at", "2018-11-18 22:55:11.838343"], ["updated_at", "2018-11-18 22:55:11.838343"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 52ms (Views: 51.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GejBMrYHLtLkG4S+wfS5zudzfmUvb9k33oMBWF1qk1R4e2GNjeJ02FQ9Mw8tCuGPH5GbFh48bEYAgOHCfOlg2Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.2ms)
Completed 200 OK in 50ms (Views: 46.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:12.122091"], ["updated_at", "2018-11-18 22:55:12.122091"], ["user_id", 190]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 70ms (Views: 66.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"cNO1lQfaC6EEUCmi4B1yBWnQhJtgaWa0q3Zk72APrLQMomrbg3M76nFA1p6oMb92D940JiOc6j0xVdnmk7dJCw==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (0.5ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 406], ["created_at", "2018-11-18 22:55:12.225771"], ["updated_at", "2018-11-18 22:55:12.225771"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 14ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 190], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (1.0ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 406]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (5.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.9ms)
Completed 200 OK in 84ms (Views: 78.1ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GFCf5SwPHqPDqVia4yq.Ser9scjojdTcJLkMD8Q0eda2aiH81d/f."], ["created_at", "2018-11-18 22:55:12.474661"], ["updated_at", "2018-11-18 22:55:12.474661"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 45ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mVzBe9OF37uH6PWoRB1G6xJSzf4Zuz4lJulr2mRLDTI3iTa7qY0zCtDo7mR4oF/pieJsrSTjzisSpbgRVwLqVw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:12.748474"], ["updated_at", "2018-11-18 22:55:12.748474"], ["user_id", 191]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 407], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 407], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 407], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (25.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.1ms)
Completed 200 OK in 111ms (Views: 101.3ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:55:12 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.7ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 407]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (9.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.2ms)
Completed 200 OK in 89ms (Views: 71.9ms | ActiveRecord: 4.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$b1K/05GIVbnw2xTBnEU.NuuSDCNXtY8pXevTI.lqchTa5xfVGndVO"], ["created_at", "2018-11-18 22:55:13.132626"], ["updated_at", "2018-11-18 22:55:13.132626"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9g9fGobeMlNY9J2xQCnoRS9ZjHPIKG8eY15lDuHP4qFQBXvfOJ9adCu0XENBPUDPHixgzf9sNCGL9pE2WRq3WQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.9ms)
Completed 200 OK in 48ms (Views: 44.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:13.406553"], ["updated_at", "2018-11-18 22:55:13.406553"], ["user_id", 192]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 408]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.6ms)
Completed 200 OK in 65ms (Views: 60.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 75ms (Views: 67.0ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EYB9CbfZZG2l8rk2.fIQyu6HRAYe2QX7G0fSVry6XhChl7IGfPQDC"], ["created_at", "2018-11-18 22:55:13.723335"], ["updated_at", "2018-11-18 22:55:13.723335"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 47.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B2vCeh6B/xZEZvcYmyJzcxlZQeB0ZaqWGwTNQZy+84WKZJ0ccn+z1zdUWLoWJxlmgypPmazGm6xK/DFWTFvXsQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 175ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 58ms (Views: 54.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:14.033046"], ["updated_at", "2018-11-18 22:55:14.033046"], ["user_id", 193]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.8ms)
Completed 200 OK in 80ms (Views: 74.0ms | ActiveRecord: 0.8ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9gBmpJS7qlPwLs6C1Odq4SpuxfCF2B4/anBhMXv9LanJp1WBVq77sW4hi8xPkK8+9vj4fyo7FYXbwz2ibslQTQ==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (0.8ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 409], ["created_at", "2018-11-18 22:55:14.166430"], ["updated_at", "2018-11-18 22:55:14.166430"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 27ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.5ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 409]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.7ms)
Completed 200 OK in 77ms (Views: 70.7ms | ActiveRecord: 1.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EF7BOehkQN02iG9LZsul9O/SWk1sXVtNwQCRADXHb7fRz25xaD3Au"], ["created_at", "2018-11-18 22:55:14.425824"], ["updated_at", "2018-11-18 22:55:14.425824"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 51ms (Views: 50.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MqR3U0qbDQP5duz+Q3GeYC3bXEElc/BNm4bk1AU+DCMKAjVXNzcn+aNNPVTm0vRbiL4qFIF9No/EBHaERmW3WA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 2.2ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.9ms)
Completed 200 OK in 50ms (Views: 46.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:14.718075"], ["updated_at", "2018-11-18 22:55:14.718075"], ["user_id", 194]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 410], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 410], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 410], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (27.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.2ms)
Completed 200 OK in 99ms (Views: 88.8ms | ActiveRecord: 2.1ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:55:14 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.7ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 410]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (9.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 91ms (Views: 76.4ms | ActiveRecord: 3.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Mj1dbTUt1eO/5yJ14TO9YuRGqbxEyu4AVxhFoHdFwh4oKkwY/o97W"], ["created_at", "2018-11-18 22:55:15.095241"], ["updated_at", "2018-11-18 22:55:15.095241"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LyxOs0EI7W9/cRQTgU85jAr6RJFUvfwTYrYuGKFNOR8YXP273iEER8WLoCTF4nC4MGPUr3KY44jG6PHczLYAjw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.6ms)
Completed 200 OK in 49ms (Views: 45.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:15.395910"], ["updated_at", "2018-11-18 22:55:15.395910"], ["user_id", 195]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 411]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.3ms)
Completed 200 OK in 67ms (Views: 61.5ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.6ms)
Completed 200 OK in 74ms (Views: 67.2ms | ActiveRecord: 0.8ms)


  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PeSlv98MGSxUVb0hTVfG0eRPtGKRHJU/22rsntA0WJpWMqc81iILu"], ["created_at", "2018-11-18 22:55:15.727092"], ["updated_at", "2018-11-18 22:55:15.727092"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Hxx9RI8Y1nRY4V4e66cZ3Ssc0AgBg21z7EM0ryhfUq/UqSa8IcsOIPlPPFv6sAjd7Xzj9gJurW69/oG/hLn9mA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.3ms)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:16.017565"], ["updated_at", "2018-11-18 22:55:16.017565"], ["user_id", 196]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 72ms (Views: 67.6ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ymy8GU1zXD2B/xRpjRPli7a9WuIIpcewueC1Mil+7cXaC59maIuRNaXCdlZyXFnQKDjAovLSyDVGZslNhlCnhg==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.5ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 412], ["created_at", "2018-11-18 22:55:16.122385"], ["updated_at", "2018-11-18 22:55:16.122385"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 14ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 412]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.0ms)
Completed 200 OK in 78ms (Views: 73.0ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$mFKkR/0j9why0TdlMjktdeok1fX8bHhpqsyQ3bCC0R91q/Qo8SXCC"], ["created_at", "2018-11-18 22:55:16.371714"], ["updated_at", "2018-11-18 22:55:16.371714"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ljX/HEXKzx6bWEdwsfH5spD1G7VX9LbhWNzUAOvpXPQTqhGLwMB4VLH5gZydBEAT1zBW+74QymIZmOcuZAlxXA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.5ms)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:16.645504"], ["updated_at", "2018-11-18 22:55:16.645504"], ["user_id", 197]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 413], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 413], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 413], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (14.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.3ms)
Completed 200 OK in 90ms (Views: 84.3ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:55:16 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.1ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 413]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (11.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.2ms)
Completed 200 OK in 92ms (Views: 79.3ms | ActiveRecord: 4.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$t7pdSkTWUPBojZKAqf0am.jeD4nazIIXGBNnektz6fod4R2tzHXha"], ["created_at", "2018-11-18 22:55:16.999076"], ["updated_at", "2018-11-18 22:55:16.999076"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vkJgB8qzxMhV1hjHn0B6AoFsFFaFbEh2gJ57i10hjNqC3/LcYSzxJNhA3DMt+AxNaf6iBjqAjFrHSUpceOeZyQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.0ms)
Completed 200 OK in 53ms (Views: 49.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:17.288994"], ["updated_at", "2018-11-18 22:55:17.288994"], ["user_id", 198]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 414]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.5ms)
Completed 200 OK in 71ms (Views: 64.5ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (10.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.8ms)
Completed 200 OK in 94ms (Views: 84.1ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YrFz609LzXEqbQSabtLL9e3xmwFQ2JA7aFZPWHVLAkYseIavE1onS"], ["created_at", "2018-11-18 22:55:17.654725"], ["updated_at", "2018-11-18 22:55:17.654725"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vonCoL81pT5gWEKhV3UaFGcgsCZIeE6PgMRS8hwcFLiC0E7tzl3awkNUJ2Eyb9xCurwMzjJF8W1ubg7TxVS3dw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.0ms)
Completed 200 OK in 49ms (Views: 45.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:17.930834"], ["updated_at", "2018-11-18 22:55:17.930834"], ["user_id", 199]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$oJUEspWyzHmr1ZyYAYnQj.tgP35dyf3QGbgV2/.6HG.2VOhbRiIa6"], ["created_at", "2018-11-18 22:55:18.091091"], ["updated_at", "2018-11-18 22:55:18.091091"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 46ms (Views: 45.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JV5ipTfw306OpK9Qyl28N8y6mUuUB6Lq2WKZcPALHk+bSkCO2FZBHKkZRLhCbBEQgKGfviypzWLAeSoGM+o8sw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.8ms)
Completed 200 OK in 58ms (Views: 53.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:18.393258"], ["updated_at", "2018-11-18 22:55:18.393258"], ["user_id", 200]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 416], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 416], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 416], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (21.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.4ms)
Completed 200 OK in 96ms (Views: 91.1ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 416]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.8ms)
Completed 200 OK in 92ms (Views: 79.8ms | ActiveRecord: 3.3ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$C.VEP.EdJWFR63MzICFf2u3BRk4.4C9oJl52SpQhJzXwWshwokWBK"], ["created_at", "2018-11-18 22:55:18.778676"], ["updated_at", "2018-11-18 22:55:18.778676"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 56ms (Views: 54.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kdReRsukJvDN8scm+HD+mJ/spJ/ZnP2E3XCfcvGfL2BzOWI/8xBhmn0gMS91NlkpkG8oWz5w8EqtpNt+KxZaEw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.6ms)
Completed 200 OK in 53ms (Views: 50.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:19.090061"], ["updated_at", "2018-11-18 22:55:19.090061"], ["user_id", 201]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 417]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.0ms)
Completed 200 OK in 73ms (Views: 66.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.7ms)
Completed 200 OK in 109ms (Views: 100.6ms | ActiveRecord: 0.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$teRgjBV.CEKJQBKZCb1sHOU8iWA50z59lXLAU5lXZqe0vGqoeLhWe"], ["created_at", "2018-11-18 22:55:19.464135"], ["updated_at", "2018-11-18 22:55:19.464135"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HGb4ut9iWGxGT2hvqGnxTOvwuvI1pjywCOYawiki1zchko6Fv1odTl5QnST04SWtJX+RWEJbq06qpEZAXyUmzw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.4ms)
Completed 200 OK in 56ms (Views: 52.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:19.747797"], ["updated_at", "2018-11-18 22:55:19.747797"], ["user_id", 202]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.5ms)
Completed 200 OK in 78ms (Views: 69.1ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Q2BF04tXsPFPTKrrAtGzs/Du4gu4zE7YKEy/fUO5UmtY62PYPsA8d8fYZBkDnUr7gUmQbgDtNyfrTtqcoKA1YA==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"55"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.6ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 20:55:00"], ["profile_id", 418], ["created_at", "2018-11-18 22:55:19.898028"], ["updated_at", "2018-11-18 22:55:19.898028"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 22ms (ActiveRecord: 4.5ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:55:19 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 418]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.7ms)
Completed 200 OK in 77ms (Views: 66.4ms | ActiveRecord: 1.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$mSb/jsrjEMomr7wR3G6fBOCBvHaFlU6Z.HPy4L8VHKyFfFz5oFeqm"], ["created_at", "2018-11-18 22:55:20.153235"], ["updated_at", "2018-11-18 22:55:20.153235"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qeg73sd+dfJUxPjkfXW9HTDt54j8YqOZG9otGduvA0r0+L2b4/xtN1Jrzk0oXNmriRJZWB1QL3BIByfZTw29/g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.2ms)
Completed 200 OK in 67ms (Views: 63.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:20.465591"], ["updated_at", "2018-11-18 22:55:20.465591"], ["user_id", 203]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 419], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 419], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 419], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (25.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.4ms)
Completed 200 OK in 109ms (Views: 96.7ms | ActiveRecord: 1.9ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 419]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (11.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.8ms)
Completed 200 OK in 95ms (Views: 77.5ms | ActiveRecord: 6.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$uAdWWIQSTnSg.6MbB.sNEOYpREcjnoABeIyTVrqpBhZ3hgk/ZR48a"], ["created_at", "2018-11-18 22:55:20.863429"], ["updated_at", "2018-11-18 22:55:20.863429"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 57ms (Views: 55.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RoGbgW6P69Ecg+6vaDFCR1NA6FSGESJvM6ZCY1aGBhw37AvuJk9YI5HAORbbXXJa4N5MLrf7AxODYBp5lsVYsw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 161ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.2ms)
Completed 200 OK in 49ms (Views: 44.4ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:21.160516"], ["updated_at", "2018-11-18 22:55:21.160516"], ["user_id", 204]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 420]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 81ms (Views: 72.3ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (74.8ms)
Completed 200 OK in 107ms (Views: 98.2ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Et8FOgtPhopJut/adiVMHeHYBEydUTJQ27Lz98oaibADSlKyyWlOq"], ["created_at", "2018-11-18 22:55:21.533059"], ["updated_at", "2018-11-18 22:55:21.533059"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 47.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VmalRayA64nUgz8u5eVLWC3u2wUNjtth91+rd+qx8toWipcUtkW2edt6XvK2m/arG3nSSKyJkouJJK7jRn8bQA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.2ms)
Completed 200 OK in 49ms (Views: 45.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:21.812734"], ["updated_at", "2018-11-18 22:55:21.812734"], ["user_id", 205]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 74ms (Views: 69.8ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"86HVT84XqyYwZsRoBZW5nL8QE4+g361WXqJVc/VtiyCYcpxo0PfNuj+nvsjWhY6GjhL0w2gLaax5vKqfntnHqQ==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (0.9ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 421], ["created_at", "2018-11-18 22:55:21.930904"], ["updated_at", "2018-11-18 22:55:21.930904"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 21ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:55:21 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 421]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.5ms)
Completed 200 OK in 80ms (Views: 68.3ms | ActiveRecord: 2.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VgnictbOzha0Vvxy9Of1nOeE9jdg.jQYYuVl4Qnr5n6CFVuCvxche"], ["created_at", "2018-11-18 22:55:22.193762"], ["updated_at", "2018-11-18 22:55:22.193762"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 58ms (Views: 56.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TGfvTOXCZrU9S1o70qHIHTWiQO1nHh1RHqxmW5LAXPYqEzZD7pbJNXsIEj8cqmQ7z2R+NjPOYmjbfDxvMF/Flw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.8ms)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:22.514967"], ["updated_at", "2018-11-18 22:55:22.514967"], ["user_id", 206]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 422], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 422], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 422], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (15.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.7ms)
Completed 200 OK in 95ms (Views: 89.5ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.6ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 422]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (8.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 91ms (Views: 79.4ms | ActiveRecord: 3.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$f0nVgWJtz6xP9YoqUp14VeFYtPxMN.Ju7qssTOakshftz.WBKDHDi"], ["created_at", "2018-11-18 22:55:22.872376"], ["updated_at", "2018-11-18 22:55:22.872376"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/utmG0REpoOzbOz1xvBjoL9J0D5JYp6TtNoJn7PyKILWmTMHTzmIlM35jM7p6aAO7t9EL/MxSBGdXkHqoAY9SQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.2ms)
Completed 200 OK in 48ms (Views: 44.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:23.148948"], ["updated_at", "2018-11-18 22:55:23.148948"], ["user_id", 207]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 423]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 77ms (Views: 69.2ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.6ms)
Completed 200 OK in 91ms (Views: 86.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$6I1BLbGSPaGwSXMYNT2QoO5y1kGZsVwV6imd18eCTmmwTgBG9vnSu"], ["created_at", "2018-11-18 22:55:23.491487"], ["updated_at", "2018-11-18 22:55:23.491487"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 45ms (Views: 44.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8uzhGB7HFTnMfNfXeur+28Gzn0O8ql7RARO5AMHS5G5+OtUUORd3x+Bz470VeRZkntR9JfEVhutHuL6npOn1zA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:23.765775"], ["updated_at", "2018-11-18 22:55:23.765775"], ["user_id", 208]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.8ms)
Completed 200 OK in 79ms (Views: 70.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uonYOZSck9Xhwi518WMwMwlv2VKSwg53FzVr00s6nm4seH96Geog8++NRH7vJ0Y+vwip7xjRriftrKAMCECW7g==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.7ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 424], ["created_at", "2018-11-18 22:55:23.880151"], ["updated_at", "2018-11-18 22:55:23.880151"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 18ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 424]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (4.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.3ms)
Completed 200 OK in 79ms (Views: 69.8ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:55:23 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 85ms (Views: 79.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 93ms (Views: 90.8ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.9ms)
Completed 200 OK in 79ms (Views: 73.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 83ms (Views: 82.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 88ms (Views: 87.8ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lCSagPTzuJ+tzDmGQs7nAobmsb/a4qHNr7FIgwQ34UTsv62OZQRUV7oTFucTpAcfO4hpDz/K3KoHQC6pBF4QGA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$AKA8E1n46lvJLcD.WQA/EuuqAM8ygdAsUBS/nYMDIB7DLkWaz2zju"], ["created_at", "2018-11-18 22:55:24.753891"], ["updated_at", "2018-11-18 22:55:24.753891"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 151ms (ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 209], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.3ms)
Completed 200 OK in 49ms (Views: 44.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:55:24 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 73ms (Views: 72.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$b4kIBH7AsiaxDsSs22yBxuJfl6XYLYmQ.3PDTjcAYZwCpo9LvZcYa"], ["created_at", "2018-11-18 22:55:25.059442"], ["updated_at", "2018-11-18 22:55:25.059442"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CBbJuMqMu5qxbOXRrIcsMrM6hOu/UsAa8osLUYDYo+x4xH1gVPWGVkIPvjbqraBrdwDLcDK8sCe8P2vPuTEy8Q==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 205ms (Views: 53.9ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ygweJ6.JOrglpF81vPeGYeapxhFuntrXqiunUAiC4IRPUTJE8l0M6"], ["created_at", "2018-11-18 22:55:25.444459"], ["updated_at", "2018-11-18 22:55:25.444459"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 50ms (Views: 49.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8WuFNpZRg81xpoQG/ERPi/358TWC8LkDY4bCyXxxkrqoU1yBBQuGdZpuHmSzrzjNDvX3Mco/H9VORqFoudoQYQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 211], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.2ms)
Completed 200 OK in 48ms (Views: 44.5ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$uD51JXS/tLFR2.IRfcXVEenEyiqJ5Gpa0b3j3lktdSS9a3cfP4sxS"], ["created_at", "2018-11-18 22:55:25.884933"], ["updated_at", "2018-11-18 22:55:25.884933"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"nqdEpp37q5K5z8symtF9KpQTPB83b00fU9WJ7le9qJNAkUIh4Yi7DTY9ayd1+94j1XM6bsidEc3fihy2PDSE/A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 49ms (Views: 45.0ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.8ms)
Completed 200 OK in 92ms (Views: 85.2ms | ActiveRecord: 0.5ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lD4NHfDGuMS2uUD90o26Tmr/N0f6MO09TuzBmihCkrYDvC3ZB2hgh3wPeLC93DHOpHniCL03WeKSPzYZoq5wQw==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 212], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.0ms)
Completed 200 OK in 93ms (Views: 84.6ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ApRfwM6.toMsOxvBzLQsEu11Od/SAg5/nwYFGinXmli.ghOY2WxOe"], ["created_at", "2018-11-18 22:55:26.535258"], ["updated_at", "2018-11-18 22:55:26.535258"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6qmsik8Zo7AQnaeVUW5+4z84Q3Vco4tGWzVaEr+UQsofykznmMCaW6R+eH3/L1v7pybG12WMhF/HmjUpUTKFkg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.7ms)
Completed 200 OK in 69ms (Views: 65.1ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"THnqMoX4Uk78X4MgSMP7ngjRqyX85O+JNfKE9TtgcJ9b0BuioVKVEP8JfpV68gf4pgyTzAIHJSQaqPI4ClJm3A==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 22:55:26.916632"], ["updated_at", "2018-11-18 22:55:26.916632"], ["user_id", 213]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 425], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 425], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 425], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (28.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.2ms)
Completed 200 OK in 105ms (Views: 95.6ms | ActiveRecord: 3.1ms)


  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (6.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EYXq7X86T.GKqSAy1pkYwOLrQafLvZ9DbgwqiJ27jC6z//F05M0fK"], ["created_at", "2018-11-18 22:55:27.213895"], ["updated_at", "2018-11-18 22:55:27.213895"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 46.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wK/fALh1GpWBkMsVviPhH1d+zdtOlWXXuwrAkxQgTKwDZWA/Ik3Kv2oBrgdrkUalIx6apbsXzmd8/F6LBEiXmg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.1ms)
Completed 200 OK in 53ms (Views: 48.7ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:27.508557"], ["updated_at", "2018-11-18 22:55:27.508557"], ["user_id", 214]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.2ms)
Completed 200 OK in 83ms (Views: 75.9ms | ActiveRecord: 0.5ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"14ziWsosgxwGLGmq6ewy7ewSRJBSqlaw5byCvEh5u+wTHGbMtGdVyDqC3tYggSo/xRSitLZM24I++DND2VZnuw==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 426], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.6ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 22:55:27.634117"], ["id", 426]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (9.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.1ms)
Completed 200 OK in 96ms (Views: 81.3ms | ActiveRecord: 2.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0txV0OvTBccztE5wvkjVHeQi.PfdztVlVyg3SYe0u0rr99sIFQlsO"], ["created_at", "2018-11-18 22:55:27.901688"], ["updated_at", "2018-11-18 22:55:27.901688"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ivBvqtuEq+ZopXOUPHoIhaSBQcO4V6iiwReG4lETldyu+V64VzQ7jS5kj1y1nyUY16cndLp6h/vg75y0rCjYVA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.1ms)
Completed 200 OK in 51ms (Views: 46.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:28.196367"], ["updated_at", "2018-11-18 22:55:28.196367"], ["user_id", 215]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$RSBGVbjdlRp3gk6i/mpZMObG3pEFY0R65NdLlwhgjbrWGukp16Vye"], ["created_at", "2018-11-18 22:55:28.345648"], ["updated_at", "2018-11-18 22:55:28.345648"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:28.485445"], ["updated_at", "2018-11-18 22:55:28.485445"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.4ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 85ms (Views: 82.8ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$uUYoo4PCQk.GoNf.rMpPeupjhmzrRL1e2nl5VSww/FpZrta862Wbm"], ["created_at", "2018-11-18 22:55:28.722364"], ["updated_at", "2018-11-18 22:55:28.722364"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 53ms (Views: 51.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uimIJe54BazjmbENFxu+caVHzpcdFNijB0+r2Vo7URu+QMqVWbj4/KUpAmkU+s+6bvrBR5owbW5QG9uUt8Jx/Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:29.003965"], ["updated_at", "2018-11-18 22:55:29.003965"], ["user_id", 217]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 429], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 429], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 429], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.0ms)
  Rendered profiles/show.html.erb within layouts/internal (27.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.6ms)
Completed 200 OK in 109ms (Views: 100.5ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.7ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 429]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (10.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.7ms)
Completed 200 OK in 88ms (Views: 73.2ms | ActiveRecord: 4.2ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$99qLJkLMqVk3Wfx/t8Qgcu5B8cWVOQQPcErYBI36v6EpOioTxGtNy"], ["created_at", "2018-11-18 22:55:29.400271"], ["updated_at", "2018-11-18 22:55:29.400271"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 45.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BFf/Jb/rEK2d/MSHsUB5ZarSsrvuF8Pit/zMgoo/dQcQ8gNcoV0RClv8swKNmG7CXD8MZaWULpY/YKPRnGyU9w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 27ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.1ms)
Completed 200 OK in 84ms (Views: 75.7ms | ActiveRecord: 0.8ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:29.742825"], ["updated_at", "2018-11-18 22:55:29.742825"], ["user_id", 218]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 430]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.9ms)
Completed 200 OK in 72ms (Views: 64.7ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:55:29 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.6ms)
Completed 200 OK in 90ms (Views: 83.0ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$BgLamVIJO7j8up2vno6dQeEFKthq4NQgGp7vgE97KIunyzcnWsQRu"], ["created_at", "2018-11-18 22:55:30.078104"], ["updated_at", "2018-11-18 22:55:30.078104"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 47ms (Views: 46.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZRVrn/UipgBvoM3sjPqzG5Ci7DvWJYCBEn20odq9HYJQIuuSoMHuqYHwg0sld84gr6lCyOkCqUtU11qPlUoxbA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.8ms)
Completed 200 OK in 49ms (Views: 45.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:30.355764"], ["updated_at", "2018-11-18 22:55:30.355764"], ["user_id", 219]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.1ms)
Completed 200 OK in 77ms (Views: 70.1ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vFYbK28o01MoOZJDHnPSxQc+QAc2WGkLU+bhs/wkxFeKkffHd8MnxepYe5Lb9lRCuLhNGzmByePQRZgGB8TBLA==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.8ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 431], ["created_at", "2018-11-18 22:55:30.482714"], ["updated_at", "2018-11-18 22:55:30.482714"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 33ms (ActiveRecord: 3.9ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (1.2ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 431]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 83ms (Views: 73.3ms | ActiveRecord: 2.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$s7KB0YFSh528ggF0gHXZiuRXA8qe1VDkn8Xa/i/VJcU54uVwgnM2O"], ["created_at", "2018-11-18 22:55:30.740316"], ["updated_at", "2018-11-18 22:55:30.740316"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3Vr8PtdYXcpMce9qXcntGxaCl6ufoYpeqLpT4fdQeyvbXmlanyRhLkLQ4zAZjC4CIEm5jhb5iyI2UB5gPLizfQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.7ms)
Completed 200 OK in 49ms (Views: 45.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:31.017525"], ["updated_at", "2018-11-18 22:55:31.017525"], ["user_id", 220]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 432], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 432], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 432], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (26.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.2ms)
Completed 200 OK in 103ms (Views: 92.6ms | ActiveRecord: 2.1ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 432]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.2ms)
Completed 200 OK in 80ms (Views: 71.8ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$9zMfWLHeO623X0jy4GYkcuq/KWkZGozr2/HkbqV4uFQKB96Udu.ye"], ["created_at", "2018-11-18 22:55:31.389558"], ["updated_at", "2018-11-18 22:55:31.389558"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 54.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"iadQfJ3Z047Vk4sKCzEtLzZfgSxlUmklwkmhwtKb7XYep9Z9oVRWMk8hJRtg5j1DeDNEY08do8ZuFPfWA2EHWg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (1.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:31.685577"], ["updated_at", "2018-11-18 22:55:31.685577"], ["user_id", 221]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 433]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.8ms)
Completed 200 OK in 78ms (Views: 70.8ms | ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:55:31 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.7ms)
Completed 200 OK in 84ms (Views: 79.4ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3bV54bZtFnX3GGeOntyEcORlFBSTZU7RPs272Jx5qoblREW0zQBHi"], ["created_at", "2018-11-18 22:55:32.024226"], ["updated_at", "2018-11-18 22:55:32.024226"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vWAbm4hqRimQeXQu6LEMqYLirdQOvWzXyJyH6QmA6KdRGQD3a0oqreDEeNOWtHCpWsazr8FjYD+b5DeMOZkvqQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.8ms)
Completed 200 OK in 58ms (Views: 54.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:32.311005"], ["updated_at", "2018-11-18 22:55:32.311005"], ["user_id", 222]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 75ms (Views: 68.1ms | ActiveRecord: 0.8ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sNe/wZtU4gmg3YdxOVnusGtr60cfPdDbihNumWdXPeOfV9jVbbelYRVlHpGFkZN6FBzsuSivPRy5YFJsGfCQ0w==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.7ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 434], ["created_at", "2018-11-18 22:55:32.423689"], ["updated_at", "2018-11-18 22:55:32.423689"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 18ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 434]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (5.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.8ms)
Completed 200 OK in 88ms (Views: 78.8ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YClEVxqxU7BQ2qJnj5yPfO16sRA4gd90lqjQYH3f.dbLtIRQLQjwi"], ["created_at", "2018-11-18 22:55:32.687224"], ["updated_at", "2018-11-18 22:55:32.687224"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 46.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"T0t22z6ffcPyxfu2SvDSWVaIb4l3tc61Yc3YDiv8Yn1WpUXFOcmm3qA+Fvq5DDwjk1BVZKRWYm20JFSZWu8c2Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.1ms)
Completed 200 OK in 49ms (Views: 45.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:32.964548"], ["updated_at", "2018-11-18 22:55:32.964548"], ["user_id", 223]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 435], ["created_at", "2018-11-18 22:55:32.969658"], ["updated_at", "2018-11-18 22:55:32.969658"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 435], ["created_at", "2018-11-18 22:55:32.972466"], ["updated_at", "2018-11-18 22:55:32.972466"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 435]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 435], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 435], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 435], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (26.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 111ms (Views: 101.6ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$UKScFP0GxbmtdTdBZoOOJeWFwrGo/NJnslnWydYxHW95dWuREo/22"], ["created_at", "2018-11-18 22:55:33.257516"], ["updated_at", "2018-11-18 22:55:33.257516"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"iTQKXlpk0UlkEqCMlP5BH2nsdOEdkoPZFKRV3b0eHpkzvAIpzazEAzsy58RLdqHKbGY1bMJY9qOvepczLtKq2g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.6ms)
Completed 200 OK in 49ms (Views: 46.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:33.534452"], ["updated_at", "2018-11-18 22:55:33.534452"], ["user_id", 224]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 436]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 436], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 436], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.3ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 436], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.4ms)
  Rendered profiles/show.html.erb within layouts/internal (23.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.6ms)
Completed 200 OK in 100ms (Views: 92.5ms | ActiveRecord: 1.5ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.9ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rxHl8flVo3xSqSENVTioz.gC50Y1k/OmgmIQ.ffU9zUH5vCNjPpw2"], ["created_at", "2018-11-18 22:55:33.813397"], ["updated_at", "2018-11-18 22:55:33.813397"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 45.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DX3I2ttNHNWfp73eaCrvlNb0cSvRU3d8H2PtQlKHF0/qHA0cuB429M/HNBOn1aLz7RemZKsl90ogKc2eo81JcA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.9ms)
Completed 200 OK in 57ms (Views: 53.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:34.097717"], ["updated_at", "2018-11-18 22:55:34.097717"], ["user_id", 225]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 437], ["created_at", "2018-11-18 22:55:34.102368"], ["updated_at", "2018-11-18 22:55:34.102368"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 437], ["created_at", "2018-11-18 22:55:34.105655"], ["updated_at", "2018-11-18 22:55:34.105655"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 437]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 437], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 437], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 437], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 437], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (25.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.3ms)
Completed 200 OK in 98ms (Views: 88.0ms | ActiveRecord: 1.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$P5eiwzSMj9cVpN9vNNV.dO65eu2.tuYL5KrAkRiBkwFVck4jJ8O06"], ["created_at", "2018-11-18 22:55:34.379026"], ["updated_at", "2018-11-18 22:55:34.379026"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 50ms (Views: 49.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TlcqA1xofq2RzbB6a7kZY0gQvvDH52kFjIbETaIfAwt7zTkYFTF7IxK5P9VHPQ0Buq8OBtCGCS7Qhwyi0Zcpyg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:34.657765"], ["updated_at", "2018-11-18 22:55:34.657765"], ["user_id", 226]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 438]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 438], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 438], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 438], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (20.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.6ms)
Completed 200 OK in 99ms (Views: 93.4ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$sDcTUAdhnNJEOUzGJyOPa.9cBuC0u4EcXTbx40ecuR906hqaeL3v2"], ["created_at", "2018-11-18 22:55:34.921977"], ["updated_at", "2018-11-18 22:55:34.921977"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 54ms (Views: 53.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rYKWE4EIjMzSUN62xcCbFpOsmqfeT40PR7a8FVpY3a8bEYauurIqWwUvadlPF5Q9PyQYOT6XhTXwaE/7cE6DJQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:35.224715"], ["updated_at", "2018-11-18 22:55:35.224715"], ["user_id", 227]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 439], ["created_at", "2018-11-18 22:55:35.229862"], ["updated_at", "2018-11-18 22:55:35.229862"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 439], ["created_at", "2018-11-18 22:55:35.232620"], ["updated_at", "2018-11-18 22:55:35.232620"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 439]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 439]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 439], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 439], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 439], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 439], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 439], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 439], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (28.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.4ms)
Completed 200 OK in 116ms (Views: 105.3ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VSxBEdvXQAA6RgFg4XJQBOoDvRyeiLKnHP15JRm9utnxbViyQYzQq"], ["created_at", "2018-11-18 22:55:35.524770"], ["updated_at", "2018-11-18 22:55:35.524770"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 44ms (Views: 43.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"On/qUbsOcx13Wrp5LDxinzQq21TSJCY0aSmzyluBVHycnbDzZa40U1lussI7QlPNuJ/0lP4HcyxcZ/LwspreuQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:35.795401"], ["updated_at", "2018-11-18 22:55:35.795401"], ["user_id", 228]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 440]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 440], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 440], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 440], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (22.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (74.0ms)
Completed 200 OK in 116ms (Views: 110.8ms | ActiveRecord: 1.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$m02IrfxsLkTY4krmvcnY2Oe/lN0hiW7fPs07QAo5IDt4cUYrZicQ6"], ["created_at", "2018-11-18 22:55:36.104714"], ["updated_at", "2018-11-18 22:55:36.104714"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 50.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:55:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5PvmhAwymS9QbVU3SzsK272/YBIN4SFgteY+3oGWzd1QQNXbFbdHYl3qiB5MyvR0LHuV7YBuLgAf3Z72I/RUVw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:55:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:55:36.400839"], ["updated_at", "2018-11-18 22:55:36.400839"], ["user_id", 229]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 441]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:55:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 441], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 441], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 441], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (11.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.8ms)
Completed 200 OK in 91ms (Views: 85.6ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 20:57:13 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.7ms)
Completed 200 OK in 71ms (Views: 59.4ms | ActiveRecord: 2.8ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 20:57:58 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (14.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.0ms)
Completed 200 OK in 82ms (Views: 73.4ms | ActiveRecord: 1.5ms)


  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$B3ur6pwcixyoB3/YbAW/4eMT4SY5X137Kl9djSBlFJvv/ipgiXKgq"], ["created_at", "2018-11-18 22:59:21.802780"], ["updated_at", "2018-11-18 22:59:21.802780"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:21 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (5.9ms)
Completed 200 OK in 407ms (Views: 394.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NTtRvH4pG0YACdQAXsS19iQZ3cBJiu3ck+Sl35YAT9VqDw3SifxgNupecjn+dFWS2MSknpyzxkCkvdpRu32tyw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 201ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 94ms (ActiveRecord: 4.9ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (158.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (77.3ms)
Completed 200 OK in 280ms (Views: 249.2ms | ActiveRecord: 4.8ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:22.885683"], ["updated_at", "2018-11-18 22:59:22.885683"], ["user_id", 230]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (1.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (2.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 442], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (2.3ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 442], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 442], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (57.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (111.8ms)
Completed 200 OK in 203ms (Views: 180.6ms | ActiveRecord: 9.9ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (1.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 442]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (10.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.8ms)
Completed 200 OK in 100ms (Views: 86.3ms | ActiveRecord: 4.7ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WH4.ag8jZBhbbad9IoV5x.ISM.YlTZPaMTGn0NgasubHcFzdv3baG"], ["created_at", "2018-11-18 22:59:23.386815"], ["updated_at", "2018-11-18 22:59:23.386815"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 59ms (Views: 57.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dJ8zAQYxSHO5ekT4hM3Af3nOsndsff4c5WAZi7ymynTCra09AvkB9eRuxSd6Y8IhxqMDygktFzHjm3RGH/w99g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.3ms)
Completed 200 OK in 44ms (Views: 40.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:23.687554"], ["updated_at", "2018-11-18 22:59:23.687554"], ["user_id", 231]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 443]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.6ms)
Completed 200 OK in 65ms (Views: 60.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:59:23 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 80ms (Views: 71.4ms | ActiveRecord: 0.9ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.B73A7mZA4xtoDRmkdV/auoFskiFXxOLd.gqORyZvlakfjUrk3apS"], ["created_at", "2018-11-18 22:59:24.030059"], ["updated_at", "2018-11-18 22:59:24.030059"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fbqLxTOvnMJNoPtgJfbjMbEmvnwwLW/C8ppKsM2b+c4njZKwQHOAEiUtDprf//DADYg1FPf7Ns0KhF1G8Ry6HA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.4ms)
Completed 200 OK in 44ms (Views: 40.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:24.311839"], ["updated_at", "2018-11-18 22:59:24.311839"], ["user_id", 232]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (69.0ms)
Completed 200 OK in 82ms (Views: 77.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"M+wWB9oGYlcyQkoiGb7PJ388sydL8OzofW/RCug5jsXz4OpEmtX3MHaU5Vroeqfg+xnZgtDdPJScknIFvdJjWA==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.6ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 444], ["created_at", "2018-11-18 22:59:24.426234"], ["updated_at", "2018-11-18 22:59:24.426234"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 13ms (ActiveRecord: 3.3ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.5ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 444]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (5.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.1ms)
Completed 200 OK in 84ms (Views: 75.9ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$94enpDVJI2aW0SOu4ZrsXudKm9S6byr6dTGy8bN5oZ.6NaDLpvSCq"], ["created_at", "2018-11-18 22:59:24.673483"], ["updated_at", "2018-11-18 22:59:24.673483"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MBgfj6+InN2g0vsGyNfbPl4rySNdgTvc0lykfM4BUkp6GSN0VKKQwszVqhaurt4zE3O9R1ZcEdqtBEJAfqfFjw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:24.938736"], ["updated_at", "2018-11-18 22:59:24.938736"], ["user_id", 233]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 445], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 445], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 445], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (14.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.9ms)
Completed 200 OK in 89ms (Views: 83.4ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (1.0ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 445]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (6.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.8ms)
Completed 200 OK in 83ms (Views: 71.8ms | ActiveRecord: 3.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$4pHBjyWJI86NHx.CEdCViOJC62IZ80.k2IXcoxNMU1grkyOKUmrQ6"], ["created_at", "2018-11-18 22:59:25.282242"], ["updated_at", "2018-11-18 22:59:25.282242"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SiHpNzwy7Fp95KgmvTYPHYoqPZ32PGoOScW68j7MSUnNShpWAXTrF13e6tzMKKsunXV4KuRu07sz6fOBe8J/xA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.3ms)
Completed 200 OK in 48ms (Views: 44.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:25.567757"], ["updated_at", "2018-11-18 22:59:25.567757"], ["user_id", 234]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 446]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.7ms)
Completed 200 OK in 84ms (Views: 74.7ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.6ms)
Completed 200 OK in 73ms (Views: 68.7ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$QwRPRZJzFNHb5s7FrUcv6.M3LWD0UHLct4j7LXLtGL65E7Hs1ciCu"], ["created_at", "2018-11-18 22:59:25.901840"], ["updated_at", "2018-11-18 22:59:25.901840"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lzuZz4eTghcxYbgoVmSX6ELUI1sDsW5EBnYPn8itv/0U2hM9WAIzpOam9BCoLBadM4ZHRcslZkptxDzfVBRVzw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.6ms)
Completed 200 OK in 57ms (Views: 52.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:26.205548"], ["updated_at", "2018-11-18 22:59:26.205548"], ["user_id", 235]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 80ms (Views: 71.6ms | ActiveRecord: 0.9ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"X2lTmmx5v1q68HEkbwyYG0QmfLvzWvWlblF9zzey07unN4RQMZJrk4KCot6pxtum+z/hFvckkI7rciqUtVLX+Q==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.7ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 447], ["created_at", "2018-11-18 22:59:26.325265"], ["updated_at", "2018-11-18 22:59:26.325265"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 19ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 447]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.3ms)
Completed 200 OK in 70ms (Views: 59.9ms | ActiveRecord: 1.0ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/kcXa8Hywp4ytawUKTTNeujsInJCsKByTkY2sFsbpv.dz8z9RjE7G"], ["created_at", "2018-11-18 22:59:26.576010"], ["updated_at", "2018-11-18 22:59:26.576010"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 49ms (Views: 47.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hxC3WKga6YWsDGODazWMLWp9IKoVyVihQPlsWKhR6NovDYatGgN5tL4EcMDKo4AcbKqHoqZ4Hpt1dLhpVCDsZw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 53ms (Views: 49.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:26.857857"], ["updated_at", "2018-11-18 22:59:26.857857"], ["user_id", 236]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 448], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 448], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 448], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (10.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.3ms)
Completed 200 OK in 80ms (Views: 75.0ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:59:26 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 448]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.4ms)
Completed 200 OK in 81ms (Views: 69.4ms | ActiveRecord: 2.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$t284I3/oG9XIy.rQBC.Mi.Hb3ZVN.27wdNwWr.ib2lo2VvgY3l8Jm"], ["created_at", "2018-11-18 22:59:27.191942"], ["updated_at", "2018-11-18 22:59:27.191942"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3N4uQZl0lucnBlNKLzDs3LN5hTc91QVteDzVF1l9X3TZ+bKydMNG8ive7EiiUHu7TO6vZfWbDT/CXDbfkSbNKw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:27.483219"], ["updated_at", "2018-11-18 22:59:27.483219"], ["user_id", 237]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 449]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.0ms)
Completed 200 OK in 73ms (Views: 68.8ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.3ms)
Completed 200 OK in 77ms (Views: 71.6ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Lc42RK2tLLFbyv0YXAMJL.JAtDrNa1mU35Bfw9CAtoJ6fAgMYQoN."], ["created_at", "2018-11-18 22:59:27.805317"], ["updated_at", "2018-11-18 22:59:27.805317"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wOp23okvoU6AnCoijPwFJZ1EnRqzfcDvnWLSCGuMr3EDjh3T4hZOge7LSs1fesjkkFaI19dv32QDzqxDR6iCCQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 161ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:28.093189"], ["updated_at", "2018-11-18 22:59:28.093189"], ["user_id", 238]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.6ms)
Completed 200 OK in 61ms (Views: 56.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"iA3ej92pJWR+CiY8Px4/Fx3kn9ols8wLQmm1ZMOBI9pmDyi2mpBjJg97qGHl8/yM7WxHE1l5duEHReaeTIQshg==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"59"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (0.6ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 20:59:00"], ["fasting", true], ["profile_id", 450], ["created_at", "2018-11-18 22:59:28.213504"], ["updated_at", "2018-11-18 22:59:28.213504"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 20ms (ActiveRecord: 3.5ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 450]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 77ms (Views: 70.3ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PVvSYhXlGQfFQ5D.qZqeseDvysowsE5LZWHe7pDSFj6K8jlGQS3UW"], ["created_at", "2018-11-18 22:59:28.450889"], ["updated_at", "2018-11-18 22:59:28.450889"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 41ms (Views: 40.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zrvOTc5Mg0tm3soPMrZZA+Zo4NnYjmU0mDKoAj9c3G/AoZxKGbIOy7k6J3guubsRBxyJG8mlpI4q27AbZZdLxA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.4ms)
Completed 200 OK in 44ms (Views: 40.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:28.712852"], ["updated_at", "2018-11-18 22:59:28.712852"], ["user_id", 239]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 451], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 451], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 451], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.3ms)
  Rendered profiles/show.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.9ms)
Completed 200 OK in 77ms (Views: 72.0ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:59:28 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.6ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 451]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (5.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (73.9ms)
Completed 200 OK in 104ms (Views: 90.5ms | ActiveRecord: 2.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VYwUvDayCs08FP4xXuoK7ekFZb/KfHskXF1VczUoNBYKgQBSdsiv2"], ["created_at", "2018-11-18 22:59:29.063983"], ["updated_at", "2018-11-18 22:59:29.063983"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wxbGxCUchDrKYQuT8ro7EUE9F9m99/S3jBbLHX1JBIXI1MYisqo/mVEgODhNIci8/j5Kdd3cIAP+3/IWbH3sHg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:29.348988"], ["updated_at", "2018-11-18 22:59:29.348988"], ["user_id", 240]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 452]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 63ms (Views: 59.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.6ms)
Completed 200 OK in 72ms (Views: 64.3ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$M4R8l7mubN5twDRFzbDq7O2XkjSc/EvJT/Nw8f5shhYJslYL5BfLm"], ["created_at", "2018-11-18 22:59:29.665512"], ["updated_at", "2018-11-18 22:59:29.665512"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IHV0TLBGK2WOVLf83RkLoi5N+MDV0dg1pKvURjBFYrM3tRX0ob4iTKeK3jH9jPisP/lT0HDDomySnVzEBYqkQQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:29.929236"], ["updated_at", "2018-11-18 22:59:29.929236"], ["user_id", 241]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 20:59:29 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.2ms)
Completed 200 OK in 67ms (Views: 63.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"xES79NUipK+dCZ6fyln4wXY7oyuCZaAsbVtY6mDXZ0uYbN4ZuTMMH4HTf7XsvcMny4H5F//LmyONK/Q2DMJ0RA==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.6ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 453], ["created_at", "2018-11-18 22:59:30.041344"], ["updated_at", "2018-11-18 22:59:30.041344"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 22ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.9ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 453]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.8ms)
Completed 200 OK in 71ms (Views: 59.6ms | ActiveRecord: 2.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$T5xuzp1tF7.DIssp9R6I2eV26Vs1Be/o250UtZ.i0x.Mk6pFPR81S"], ["created_at", "2018-11-18 22:59:30.279275"], ["updated_at", "2018-11-18 22:59:30.279275"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 42ms (Views: 40.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yC+z8uwSx9JRsc+d/wQDPRK75/bozZ6sWwgr9lftebMhSbV3lzAjsf6Ssb6JwOJafPRHL0GUoTd/UGZ5FaHy4w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.0ms)
Completed 200 OK in 44ms (Views: 40.3ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:30.542060"], ["updated_at", "2018-11-18 22:59:30.542060"], ["user_id", 242]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 454], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 454], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 454], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.1ms)
Completed 200 OK in 77ms (Views: 71.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 454]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.8ms)
Completed 200 OK in 67ms (Views: 58.8ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VJXcRLQin548HFrtlbD8gu3g7/ZZ3rQADjiisCCCql/eHzPVXyjU2"], ["created_at", "2018-11-18 22:59:30.865531"], ["updated_at", "2018-11-18 22:59:30.865531"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5etHuocBg++rnDOj8nhKdbxNwQiIMLVCVf4+Uc07UmCTSHGTLyGBPoSLmwtkUm5MLTjtsSOe5vkIZYmhjBwxiA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:31.132752"], ["updated_at", "2018-11-18 22:59:31.132752"], ["user_id", 243]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 455]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (13.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.1ms)
Completed 200 OK in 80ms (Views: 71.2ms | ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.9ms)
Completed 200 OK in 74ms (Views: 70.2ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Nhopzka7kYNT21nVrO8UfuxZjW2Q2QYswmOStKsowvde2yD68EwVe"], ["created_at", "2018-11-18 22:59:31.460764"], ["updated_at", "2018-11-18 22:59:31.460764"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 49ms (Views: 47.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gXx9bzlhJM24d8heJS+R/oAPuRWsw6+fDXNhjJEl4oxMSAmwMhS35eG/2NvP7sIV/KVhSzPlsqollXx1+1wMzw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 45ms (Views: 41.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:31.749187"], ["updated_at", "2018-11-18 22:59:31.749187"], ["user_id", 244]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.7ms)
Completed 200 OK in 64ms (Views: 60.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XhlqA+27qWvdVZqVkbrMj6xHVlarjEDQu+1mBDFU3iT2eCJgx7sq5isGBK/1UVeHXQtE1aDfgeTzNbG67kTZCQ==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 456], ["created_at", "2018-11-18 22:59:31.848465"], ["updated_at", "2018-11-18 22:59:31.848465"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 20:59:31 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 456]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 71ms (Views: 65.9ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rcUk7H052TEExT369NyZRel801EMgC/dblXqV.g/5x3tuWCArSxS2"], ["created_at", "2018-11-18 22:59:32.085139"], ["updated_at", "2018-11-18 22:59:32.085139"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 45.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"39R+7LVEyMoHiWRkJ89jg5gdz5RVla8N+S6Uhk/q7y0Mh/Fu5hKl8cwqg6+tUTpWs+Wo0QH795l8/gSBrDmlKQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:32.377312"], ["updated_at", "2018-11-18 22:59:32.377312"], ["user_id", 245]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 457], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 457], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 457], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (25.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 110ms (Views: 100.8ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.6ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 457]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.4ms)
Completed 200 OK in 112ms (Views: 92.8ms | ActiveRecord: 4.9ms)


  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (2.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (3.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WZkZQc.vUGhpAY9kRpmAJO37ZGyV4ZT1C/y./6YEDENwrHyE2VE/."], ["created_at", "2018-11-18 22:59:32.810206"], ["updated_at", "2018-11-18 22:59:32.810206"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 48ms (Views: 47.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QGCilvPv/cStt45Sj3kCRMkYK1KVI/ujkMJykRD/612P7PazjhH01+RQjRp2z+LBNk+odYKkTqHQ6hlDuGnSBQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:33.088005"], ["updated_at", "2018-11-18 22:59:33.088005"], ["user_id", 246]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 458]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (67.3ms)
Completed 200 OK in 87ms (Views: 82.8ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (74.9ms)
Completed 200 OK in 93ms (Views: 88.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/zwsRNepyZqxCXSJopO4Q.DYfeyv6NeRWHlYEHib9Buau2qMyeCNy"], ["created_at", "2018-11-18 22:59:33.450912"], ["updated_at", "2018-11-18 22:59:33.450912"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 51ms (Views: 50.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Rh1HAiwMUJjtJvhBCYd7OPNzlB+ctWpPCZSCx3ocxmajEMr4Y8HjTCdD9SJR72j4OVDFm1wT5aRitqemFQXCaw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:33.749500"], ["updated_at", "2018-11-18 22:59:33.749500"], ["user_id", 247]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.9ms)
Completed 200 OK in 67ms (Views: 62.1ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"f684HAOhDhagN43TaIjGAE2Gd3s4rDc5I1MULhZgcUSDKGL0GYNqKmuJM67aQLKkJniN0D7dOGMmLsAw2brXww==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (1.1ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 459], ["created_at", "2018-11-18 22:59:33.857434"], ["updated_at", "2018-11-18 22:59:33.857434"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 19ms (ActiveRecord: 4.9ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 20:59:33 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 459]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 78ms (Views: 70.6ms | ActiveRecord: 1.5ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0Krd2xdaN7BPx.QNBxk9J.AZPSYKYO9onFX8p2HikA2zfI/9CSygy"], ["created_at", "2018-11-18 22:59:34.127068"], ["updated_at", "2018-11-18 22:59:34.127068"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 45.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2PcJNLzzv+SLAly3IuHvdqo9Pxticl1cArEI69HdNw9Nt0bpCfUEub09FfRWZeNDOKxoBUlN+jYIHxd+rVXKcQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 192ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (11.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (119.8ms)
Completed 200 OK in 151ms (Views: 147.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:34.562806"], ["updated_at", "2018-11-18 22:59:34.562806"], ["user_id", 248]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 460], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 460], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 460], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (35.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.8ms)
Completed 200 OK in 115ms (Views: 106.7ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (1.2ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 460]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (9.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.6ms)
Completed 200 OK in 95ms (Views: 81.8ms | ActiveRecord: 3.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$efOW7zhKzCNTLdtYsiBxP.rw9grrtgO22gLIaD3LOPZSVWiLQmpC6"], ["created_at", "2018-11-18 22:59:34.969155"], ["updated_at", "2018-11-18 22:59:34.969155"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CCZZo9tX1mu5gXC2S3VyQiBhja/OxVOta5q3yThAH9WSphbA2RQzp6OLMSkSmn0oKJuZJ2lGtYibh6DvPc43eg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 48ms (Views: 44.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:35.242734"], ["updated_at", "2018-11-18 22:59:35.242734"], ["user_id", 249]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 461]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.3ms)
Completed 200 OK in 75ms (Views: 64.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 249], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.2ms)
Completed 200 OK in 84ms (Views: 77.8ms | ActiveRecord: 0.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$fnRkmUx5L11xPMAYYRgOPuhuFcEklF57qjFJP/PjGts6behECHGne"], ["created_at", "2018-11-18 22:59:35.580673"], ["updated_at", "2018-11-18 22:59:35.580673"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TaohaIfRKp60BDud0Ov+8NpUWO0FNyz9I0ZjTRShnvAMTJf7933K82YA1YPmWZbx2g/E+wP3tJ01yLOTjWDYlA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.2ms)
Completed 200 OK in 64ms (Views: 59.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:35.868440"], ["updated_at", "2018-11-18 22:59:35.868440"], ["user_id", 250]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.1ms)
Completed 200 OK in 77ms (Views: 70.7ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:59:35 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B9Wvs7AUTPtzIDMtLBJU10NESoSUtDjSs2XsPm7rbmO1PGkO65v7wSwykAOIa7kwQ0raepNyJYhJZE4gSys0MA==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (0.9ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 462], ["created_at", "2018-11-18 22:59:36.002055"], ["updated_at", "2018-11-18 22:59:36.002055"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 26ms (ActiveRecord: 3.6ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 462]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 74ms (Views: 63.5ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$6ul/0LDgdgQALc7wyoZ3dORoAi7ftCGsIVCqjW.grWz/Lq2WPuJqq"], ["created_at", "2018-11-18 22:59:36.253897"], ["updated_at", "2018-11-18 22:59:36.253897"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 53ms (Views: 51.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6oN3lZvllEb+6qjiZcFO/0SlqPtPnQ/dAte+npPIbpW0L0RRpH4yH/v3+7JKqP4k42lVLXpa7DjZfHJYZw7/4Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.2ms)
Completed 200 OK in 51ms (Views: 47.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:36.549104"], ["updated_at", "2018-11-18 22:59:36.549104"], ["user_id", 251]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 463], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 463], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 463], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (23.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.2ms)
Completed 200 OK in 101ms (Views: 91.3ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.7ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 463]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (8.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.6ms)
Completed 200 OK in 90ms (Views: 75.2ms | ActiveRecord: 4.3ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZZ9pYjunmlzaZKnyoPWTxuZzR.tfFRyDgB3xM4w/ZObuLTVfddKYy"], ["created_at", "2018-11-18 22:59:36.953440"], ["updated_at", "2018-11-18 22:59:36.953440"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (9.7ms)
Completed 200 OK in 73ms (Views: 71.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"f1DVQR98/2IAF2tdzSmaO3VXRIdjsrR6diWHk3jW2nMs+8EbHbHbmKvVNzDwIvtG70f0hBgAtHUmVqhFU/gLAQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.3ms)
Completed 200 OK in 58ms (Views: 54.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:37.284513"], ["updated_at", "2018-11-18 22:59:37.284513"], ["user_id", 252]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.4ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 464]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.3ms)
Completed 200 OK in 62ms (Views: 53.6ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.1ms)
Completed 200 OK in 110ms (Views: 101.5ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$CuW.OrK80zLJkuXVdTcPKOpnHCz1BaFBfdVzhuV3QgXCdgUeDG3Bm"], ["created_at", "2018-11-18 22:59:37.670766"], ["updated_at", "2018-11-18 22:59:37.670766"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 46.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P4qPsmPXeZ8BQrkwZdfdomHqZuZtqn5pxSpAgGE+lLKopvSB5O0ozhjT4FynDMFX7kVEGMrjO9laXE/ma4kmDQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 180ms (ActiveRecord: 2.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.3ms)
Completed 200 OK in 58ms (Views: 54.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:37.989642"], ["updated_at", "2018-11-18 22:59:37.989642"], ["user_id", 253]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 20:59:37 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.0ms)
Completed 200 OK in 82ms (Views: 75.9ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sdYlNsK8uvgs5bEaxzYBMTsrA0fBo9tzt5Io9KoS4HZG/bd5nlaYpXbbS8qLTTUgjTRd+319Ty+c25ZpM88X1g==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.9ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 465], ["created_at", "2018-11-18 22:59:38.117343"], ["updated_at", "2018-11-18 22:59:38.117343"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 23ms (ActiveRecord: 4.8ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 465]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.2ms)
Completed 200 OK in 76ms (Views: 65.5ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$JEPQjoZQu8gZNoPvgNpsXehmG2mpJqesTCefo92VHvVI8TBMCFB52"], ["created_at", "2018-11-18 22:59:38.368560"], ["updated_at", "2018-11-18 22:59:38.368560"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PWJOIg038FSDhBbXv/GUqZuJZnKklhfksi7WRCW3huyKAMDA/A+FbA72hxWeR0bsYJDHNDWMmT7yuIbhyoX40A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:38.639737"], ["updated_at", "2018-11-18 22:59:38.639737"], ["user_id", 254]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 466], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 466], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 466], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (22.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.2ms)
Completed 200 OK in 96ms (Views: 90.3ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:59:38 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.8ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 466]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (10.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.6ms)
Completed 200 OK in 96ms (Views: 77.0ms | ActiveRecord: 4.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$l8HOC5T0Q5wBSQ8v4tli1uZ3HCjXAnRIZciM6axQ.3aC1rMTNwY7S"], ["created_at", "2018-11-18 22:59:39.036379"], ["updated_at", "2018-11-18 22:59:39.036379"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 51ms (Views: 49.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ld7fbyp3ZbisjD2Dq22LCMSZa6Vxb7Vo9mMW/ILAwT5Lpqr1KXyK+YNn0GVHF9CRmgZbpTprVUq9DzCn4eifpA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 49ms (Views: 45.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:39.340532"], ["updated_at", "2018-11-18 22:59:39.340532"], ["user_id", 255]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 467]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.1ms)
Completed 200 OK in 73ms (Views: 68.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.4ms)
Completed 200 OK in 102ms (Views: 91.7ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$tUAR.KIqO.7dzj3sIVJJ6u1Wus.n6jl7OVkvhy9wIVbRCWns5H92."], ["created_at", "2018-11-18 22:59:39.722735"], ["updated_at", "2018-11-18 22:59:39.722735"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HQgrKzOLy3yBIYa3uYq8Pu/k9ii7yZawhs/qeWHZ+reBg35KMNLb8Tzi77eRH3jObAJwJ+sep8U44j6i0pORNQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:39.994566"], ["updated_at", "2018-11-18 22:59:39.994566"], ["user_id", 256]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$tXHTLMmbC5EKoFJxXmH6iOd5R46AA8EZqBsSZ5NL8PJCg.mp6F2Qa"], ["created_at", "2018-11-18 22:59:40.161914"], ["updated_at", "2018-11-18 22:59:40.161914"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1yFgx/tWjo+xoF0dbXblQfDObFmKmbNJKnEnPjcO0cPFHRoygpSykkrZjGRUlriyPIzP0Tvu71jmKindh9X+2A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.2ms)
Completed 200 OK in 63ms (Views: 59.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:40.459036"], ["updated_at", "2018-11-18 22:59:40.459036"], ["user_id", 257]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.1ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 469], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 469], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 469], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (31.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.4ms)
Completed 200 OK in 126ms (Views: 114.2ms | ActiveRecord: 2.4ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.7ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 469]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (11.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.2ms)
Completed 200 OK in 117ms (Views: 100.3ms | ActiveRecord: 4.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dC8hy1HqxhbZfCbMy6xtIeGujuW1mJJxiOaPZYq1KKAOSmJHvlbpu"], ["created_at", "2018-11-18 22:59:40.909381"], ["updated_at", "2018-11-18 22:59:40.909381"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2ylw7rnU6qK9BH/MfpqbYGVRZSyhcqtvJC73z4qFHr9+xMVwX3wbG5Iu3MhAZ9vV3+ITjP2qZiYdAWOIkxIoZg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 202ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:41.227533"], ["updated_at", "2018-11-18 22:59:41.227533"], ["user_id", 258]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 470]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.9ms)
Completed 200 OK in 75ms (Views: 67.4ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.3ms)
Completed 200 OK in 91ms (Views: 86.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rtyYFW3eCe.4Cg8nCAu0POWtNsZEQuhxIxbzd2/zd7yBB5OODf1.e"], ["created_at", "2018-11-18 22:59:41.565608"], ["updated_at", "2018-11-18 22:59:41.565608"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qTIqxAtliGwSYIV3UZmZzAhxPJ0HtdWG8pTgkTLcgz/iYjcAaJeILxGRmMYkJTAqP8C6H1FrkGq1v+32gm4t/Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 194ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.1ms)
Completed 200 OK in 54ms (Views: 49.9ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:41.883527"], ["updated_at", "2018-11-18 22:59:41.883527"], ["user_id", 259]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.4ms)
Completed 200 OK in 66ms (Views: 62.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:59:41 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zof3NxTMxPAejwvtly5dLybWpfls6+XXuciaQ3/F2xpKbSuvb6RkZ3Z68bBvCXdW3N7vHU1+w3A7D4mziyqy6g==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"20", "date(5i)"=>"59"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (1.2ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 20:59:00"], ["profile_id", 471], ["created_at", "2018-11-18 22:59:42.004644"], ["updated_at", "2018-11-18 22:59:42.004644"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 21ms (ActiveRecord: 4.7ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 471]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.0ms)
Completed 200 OK in 86ms (Views: 76.8ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.4MXObfgOeRCskJ2CPdNYuR42Z/UGWo4dh4IM2gLm/EqPoJ2u7p3S"], ["created_at", "2018-11-18 22:59:42.267013"], ["updated_at", "2018-11-18 22:59:42.267013"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 54ms (Views: 53.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HKBuRVRj0FMJbnXDOZIDjmTuK3WYw3w5gO9QPlWpfVJCTIDa4/uwHh/ZFAZrw1M3uu3F55zH0/9y/msmG59phw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (7.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (68.0ms)
Completed 200 OK in 89ms (Views: 84.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:42.620736"], ["updated_at", "2018-11-18 22:59:42.620736"], ["user_id", 260]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 472], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.2ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 472], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 472], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (19.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.0ms)
Completed 200 OK in 96ms (Views: 87.9ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:59:42 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 472]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.9ms)
Completed 200 OK in 90ms (Views: 77.9ms | ActiveRecord: 2.4ms)


  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YJMrwyZ2buN25E6dSBQzbe02t77OwLSciqSsz.JH3vL7P3vP6rPQm"], ["created_at", "2018-11-18 22:59:43.063000"], ["updated_at", "2018-11-18 22:59:43.063000"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 71ms (Views: 69.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"A9CpacP03DJJscpIxm1aI1BeZnMi2OLx7xE0kfFtJiFSlqdCGG+tgfGXMQubAWQtz4fNxgHIBV0mUHqsPiReDA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 203ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (97.8ms)
Completed 200 OK in 117ms (Views: 110.9ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (2.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:43.490818"], ["updated_at", "2018-11-18 22:59:43.490818"], ["user_id", 261]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 473]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (89.2ms)
Completed 200 OK in 148ms (Views: 140.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (88.4ms)
Completed 200 OK in 108ms (Views: 103.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$niqkyPqh7x.bvLGq/plW8Ow66XBZU1J4eFRtXem3PqGScbRczKA9i"], ["created_at", "2018-11-18 22:59:43.933118"], ["updated_at", "2018-11-18 22:59:43.933118"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 50ms (Views: 49.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:43 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"t6gTy0UX1BI/ySAb5C/GSfwV+iEV3R/W2rN6jOGvDYiW21T71oNx1CbuLK7JcQSrL1fr1OlUOC3okado1LXCiQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 202ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (6.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.9ms)
Completed 200 OK in 60ms (Views: 56.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:44.277502"], ["updated_at", "2018-11-18 22:59:44.277502"], ["user_id", 262]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.6ms)
Completed 200 OK in 106ms (Views: 97.4ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"xClRhOdWHa28OcdfK/0gsIhPIY3vWgLPtfHGBrU+RXz1nP/APJR0FRU6cNtWbGXbfMD6sVgV1LecHYyOSdGEEA==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (0.7ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 474], ["created_at", "2018-11-18 22:59:44.464297"], ["updated_at", "2018-11-18 22:59:44.464297"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 37ms (ActiveRecord: 4.7ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 474]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.5ms)
Completed 200 OK in 92ms (Views: 86.3ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3BVas.pdLY22EOexoYe.jexCb.TVKYYc95grs0zCIEk4y9KnOSTrq"], ["created_at", "2018-11-18 22:59:44.750118"], ["updated_at", "2018-11-18 22:59:44.750118"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.3ms)
Completed 200 OK in 63ms (Views: 61.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uKZJbCOx9jcfXXwvABiQXmMpvG9IOa8MVJyNAp92LbyHXP8IJFiVr2Fb9WWoN3ioimRusxe4Bwxcpwvx3N5BoQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.8ms)
Completed 200 OK in 57ms (Views: 53.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:45.061132"], ["updated_at", "2018-11-18 22:59:45.061132"], ["user_id", 263]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 475], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (3.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 475], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 475], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (43.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.7ms)
Completed 200 OK in 125ms (Views: 112.9ms | ActiveRecord: 5.2ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.8ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 475]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (6.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.4ms)
Completed 200 OK in 86ms (Views: 73.6ms | ActiveRecord: 2.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5MT82tw/ldiQK9kv9juJLOYQ95PvJU4TShI01bxQJ13RL0wPI3ayO"], ["created_at", "2018-11-18 22:59:45.528069"], ["updated_at", "2018-11-18 22:59:45.528069"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 62ms (Views: 60.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"CinDBc2Gf3z9w1rSFJE2bO9aEY0oW3UC3czXZb6t93+RHtIq4r6C7GEjOqOmz6b9IiSIyuCwdXEhFws9RiSy/w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:45.823951"], ["updated_at", "2018-11-18 22:59:45.823951"], ["user_id", 264]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 476]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 80ms (Views: 71.3ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:59:45 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (86.7ms)
Completed 200 OK in 122ms (Views: 112.3ms | ActiveRecord: 0.9ms)


  [1m[35m (1.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$OiON9VcUUToSiEagacsAWe3khURVp1v0jsbIS/8ZNvk9GZ/cgay06"], ["created_at", "2018-11-18 22:59:46.255954"], ["updated_at", "2018-11-18 22:59:46.255954"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 54ms (Views: 53.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JeRmxsIfseq4lRDdu1M2L+r3am9aszKu+SgcaLUUnRBMYiJzqvtTjVQhENrHiNaVwcwOgfxa6JkqZp3QpB6gPQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 199ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.3ms)
Completed 200 OK in 54ms (Views: 49.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:46.596958"], ["updated_at", "2018-11-18 22:59:46.596958"], ["user_id", 265]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.0ms)
Completed 200 OK in 89ms (Views: 80.2ms | ActiveRecord: 0.8ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OWOjRWk0N31lcLtnUS09Dt2nQ0oySVZGPrOmiZp7hkklXrF3/3hPFohh8ZqMey1LiFOejKGvSb3tMrCQgZzYXA==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (1.0ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 477], ["created_at", "2018-11-18 22:59:46.748349"], ["updated_at", "2018-11-18 22:59:46.748349"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (1.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 29ms (ActiveRecord: 5.0ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 477]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.0ms)
Completed 200 OK in 80ms (Views: 72.4ms | ActiveRecord: 0.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 69ms (Views: 66.0ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:59:46 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 102ms (Views: 101.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 93ms (Views: 86.9ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.5ms)
Completed 200 OK in 113ms (Views: 111.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 120ms (Views: 118.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"wbWOxJ32VxZDneQhoI8tC4dI3ibdeF/b9vopqINhgi+tujmr3Fl74/4aAZhRsq/L60rgNeOHhUPxY8SqfOBZcQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$heG2abDoS.Bw4t1QxyojIOlPgihQnGtXaahB3LVVf0Hkf4A8/02E."], ["created_at", "2018-11-18 22:59:47.756866"], ["updated_at", "2018-11-18 22:59:47.756866"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 66ms (Views: 62.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 20:59:47 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 98ms (Views: 96.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$N8u9UzzPtfG/nYnp.WxMEOYEKTArzW8BEm8IJosWDvdc01PkbYJPy"], ["created_at", "2018-11-18 22:59:48.133178"], ["updated_at", "2018-11-18 22:59:48.133178"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 20:59:48 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"r2UHzTi1OxDy/r6u3AOzMuWP7Hn1KScyqZSAuPyMATneB30Rob9qT3djw2TxOvyAS7kU5mKBWAfXXowFDsE31g==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 246ms (Views: 90.3ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5N4WMx9HD/jEgjCGp/ws.eDR0g2OcOqIDJxd4QBNebP52QrXIEnMm"], ["created_at", "2018-11-18 22:59:48.578699"], ["updated_at", "2018-11-18 22:59:48.578699"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:48 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.2ms)
Completed 200 OK in 90ms (Views: 88.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:48 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4N8468M//aP1z+t6JSCwn7my5RoI3y0kQJfr08f6dvsyShd4dpjo57EMuSh2/SxeWkkELqUIRkL8StiR50YG5A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 220ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:48 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 268], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.5ms)
Completed 200 OK in 52ms (Views: 49.0ms | ActiveRecord: 0.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZPoFrxsXAnOMN6wHIxisnOWe07HSEGSPnPMcx0PVkpbkbBELsb9C2"], ["created_at", "2018-11-18 22:59:49.148882"], ["updated_at", "2018-11-18 22:59:49.148882"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JMYN5EHJQu/u9rPBC/M/gORQIkWrorZeAuYYn9N8lpz259pwFnVD7IGidFum0TiKTuFZDYwJw9FkXEletvIVfg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.2ms)
Completed 200 OK in 57ms (Views: 53.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.9ms)
Completed 200 OK in 102ms (Views: 97.6ms | ActiveRecord: 0.3ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lC5OCRuXHjWkgFbLYAkZ5AcwNu5rJEXfMcI5q7LmAzg2GDLnVcXr7Go/tttwJ99B1afa5CQxQfsC3CMCvm8JkQ==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 269], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (8.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.1ms)
Completed 200 OK in 97ms (Views: 86.7ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/iYH5V7NrC7qBVq9Wr/yHuuX5Ps9bT0cBm0jM5pt/JIPdYr5TfY0G"], ["created_at", "2018-11-18 22:59:49.830584"], ["updated_at", "2018-11-18 22:59:49.830584"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 49ms (Views: 48.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:49 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AkXCjC7svCV7VneW3B2iRVNiDf80yp+vs7TwikOkVhFmIgMCk/Btp33BGycRZspjelmmFrv7nkuirhmu3Y76Fg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 178ms (ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.9ms)
Completed 200 OK in 51ms (Views: 46.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.4ms)
Completed 200 OK in 76ms (Views: 72.4ms | ActiveRecord: 0.3ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"cj6ZWMBT9aV80zW6iep0kpD1ZQuilu/pV41ok6UPUB8eJun2s3CZRYPugHGYS/356NXecEiqtBSlcolfO7flpg==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 22:59:50.255043"], ["updated_at", "2018-11-18 22:59:50.255043"], ["user_id", 270]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 12ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 270], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (3.1ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 478], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 478], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 478], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (23.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.5ms)
Completed 200 OK in 114ms (Views: 100.1ms | ActiveRecord: 5.3ms)


  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Scepvtfiejq1jQZe51SYw.KkvbWwDKz/8FdaOrEGBFFkL8OPTeHRS"], ["created_at", "2018-11-18 22:59:50.559553"], ["updated_at", "2018-11-18 22:59:50.559553"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 50ms (Views: 49.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VkmIUHgD9eE9EiaPTu3NDlr5YUbpHxYCjTDn1jQsDtnLXUMNS+dpiOdYKjRN9mAEV6Kuhqzq9QQBmyhe/Vmzgw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 181ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 59ms (Views: 54.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:50.882507"], ["updated_at", "2018-11-18 22:59:50.882507"], ["user_id", 271]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 20:59:50 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (75.6ms)
Completed 200 OK in 115ms (Views: 104.3ms | ActiveRecord: 0.8ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:51 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Q4XL77UeBYWUKhSf9WNzy42RC/cFmByGG5utjS7PdxlUKcjaE57ZGKbSCC2KVTN5CkRC7/BE1pm1IX5u0dGc3g==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 271], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 479], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.9ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 22:59:51.048036"], ["id", 479]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (8.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.5ms)
Completed 200 OK in 111ms (Views: 93.9ms | ActiveRecord: 3.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$X2miNuSa9x2OKn9eYQKekOYsyZMoAyWt8HnYUegpKuPPHJ0nHNZKa"], ["created_at", "2018-11-18 22:59:51.341672"], ["updated_at", "2018-11-18 22:59:51.341672"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:51 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.6ms)
Completed 200 OK in 72ms (Views: 71.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:51 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lPBKbgivZH+3ubjsCQE2d6crZ9ZcSdEBklr0uaXk8BM7wuZybi0lX4d0L3AMcsclcPRc2bEjeaGCfO5qYrZXdg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:51 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:51 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.5ms)
Completed 200 OK in 53ms (Views: 49.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:51.661617"], ["updated_at", "2018-11-18 22:59:51.661617"], ["user_id", 272]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$5hPc2aWCXFx74NIxEkpfiuDxEgfE4E1H0qq.YTmbqXOniB62I7pTm"], ["created_at", "2018-11-18 22:59:51.815402"], ["updated_at", "2018-11-18 22:59:51.815402"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:51.959207"], ["updated_at", "2018-11-18 22:59:51.959207"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 20:59:51 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 272], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.4ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 99ms (Views: 97.4ms | ActiveRecord: 0.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ax7zbCiAK9Yx.t3PapBF..c7s1Q5HMTFTookR7ASHeNq2uPg3Zmty"], ["created_at", "2018-11-18 22:59:52.224158"], ["updated_at", "2018-11-18 22:59:52.224158"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 59ms (Views: 58.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uVL4whRcVR4mX1Xnrxw7BinugyCW5Wy5VR00GkaShiykhv1FOrPEvyGZ2ZydbfGcX1L8KQiq7Bz6ReBZ18asog==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.8ms)
Completed 200 OK in 52ms (Views: 48.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:52.535061"], ["updated_at", "2018-11-18 22:59:52.535061"], ["user_id", 274]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 482], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 482], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 482], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (13.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.2ms)
Completed 200 OK in 97ms (Views: 92.2ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.7ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 482]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (7.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 92ms (Views: 77.6ms | ActiveRecord: 3.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dZfqO01URLSHJDasTLiHs.cEOcnLv8xuMZZVUC81I7EfkfdTG4F.G"], ["created_at", "2018-11-18 22:59:52.910996"], ["updated_at", "2018-11-18 22:59:52.910996"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 48ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:52 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B3a3ySZ2lOX7yop2Jwu0idpOVFm59oSacgebZaJNv2zWvNRwG21GAqwmqQq2ElsJ9lOUk1cZ/Gk6uX/SOeK8ig==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.4ms)
Completed 200 OK in 61ms (Views: 57.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:53.201257"], ["updated_at", "2018-11-18 22:59:53.201257"], ["user_id", 275]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 483]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.1ms)
Completed 200 OK in 76ms (Views: 68.1ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.2ms)
Completed 200 OK in 97ms (Views: 89.9ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$W38TsaKnIIOs.VnNPTG7kuR1loEoE6ja6DEUFWDo9BGN267xQVjqW"], ["created_at", "2018-11-18 22:59:53.590678"], ["updated_at", "2018-11-18 22:59:53.590678"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"urJ9oLicVQBY7tmA1Rubfg7vah7/PpQuNGAMj8r06mYbac3F3eAjd4ga4Ljtfu0bGxaEEzZlTLdm8mtm5ELebQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 210ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.7ms)
Completed 200 OK in 65ms (Views: 59.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:53.940098"], ["updated_at", "2018-11-18 22:59:53.940098"], ["user_id", 276]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 20:59:53 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.8ms)
Completed 200 OK in 67ms (Views: 57.4ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uvjITVNnNShHR8nxzID0n0NT1hh3TqlT884SWsVc1BnVA8xPaSSHMPcsvLMBFHeCTVrzeCOTWigEDnCMvaGLsQ==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 484], ["created_at", "2018-11-18 22:59:54.051385"], ["updated_at", "2018-11-18 22:59:54.051385"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 16ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 484]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 75ms (Views: 65.0ms | ActiveRecord: 1.3ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vkLLVRFT8JjIcyNArF.1wO21j3qgqouV5D8uGdVeW2bG6pLQj8HNa"], ["created_at", "2018-11-18 22:59:54.309488"], ["updated_at", "2018-11-18 22:59:54.309488"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IWWZ2a3S7BdsewT/4LusDd94bIRYAIcSh04beg0AjItw9trIZBqq31Yg0GNfUboOfUO1hu7uVXqn0zP4Iczghw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 47ms (Views: 43.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:54.581117"], ["updated_at", "2018-11-18 22:59:54.581117"], ["user_id", 277]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 485], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 485], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 485], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.0ms)
  Rendered profiles/show.html.erb within layouts/internal (24.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.4ms)
Completed 200 OK in 96ms (Views: 86.6ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 485]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 92ms (Views: 83.8ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$JKph61yhRxIAgKwZqDDi1e0Mm1JUN/OdUXLYRJeLm1Uhu3gi7otoW"], ["created_at", "2018-11-18 22:59:54.964810"], ["updated_at", "2018-11-18 22:59:54.964810"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:54 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 67ms (Views: 66.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"T8uET1jNxVy43SgvXLdwshS3xsm2U0M7XbFhXi6B1UIk9H6qvYJsbFNPWvtbBR4QCGjAWP+Wn7atJVqDx334Rg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 245ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (72.8ms)
Completed 200 OK in 95ms (Views: 90.0ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (1.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (1.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:55.421897"], ["updated_at", "2018-11-18 22:59:55.421897"], ["user_id", 278]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 486]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.8ms)
Completed 200 OK in 77ms (Views: 68.2ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.7ms)
Completed 200 OK in 74ms (Views: 65.7ms | ActiveRecord: 0.8ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$6iK/cgSBaXnKt.VqR9XDQuNzwBm0MuHNbtGwsNVMHeOW.DsXlnpci"], ["created_at", "2018-11-18 22:59:55.759333"], ["updated_at", "2018-11-18 22:59:55.759333"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 47ms (Views: 46.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VDjOYkQr+W40+mEpogu0A4vQpdSnZyygmUyt2MDYxbFsfxm8OpY7itukmyLMApO2A2gPINqcIWdqa6mk/uH6dQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:55 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.9ms)
Completed 200 OK in 59ms (Views: 54.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:56.058047"], ["updated_at", "2018-11-18 22:59:56.058047"], ["user_id", 279]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.5ms)
Completed 200 OK in 89ms (Views: 82.5ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ze9o6zHuzymo9dksdmW8GHA6rOHW7aTtBFfOt26jcSuMFcwvMyR8r5KjwOU907W/4Jh79YTtMN1qfzTy1YzYQQ==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.8ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 487], ["created_at", "2018-11-18 22:59:56.196645"], ["updated_at", "2018-11-18 22:59:56.196645"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 24ms (ActiveRecord: 6.1ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 487]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.6ms)
Completed 200 OK in 88ms (Views: 76.2ms | ActiveRecord: 1.1ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$IVyvWFTCsevjdtGSSCfWFe7hnV00wy.tHcEqIfqe.2g6gMFONimka"], ["created_at", "2018-11-18 22:59:56.495765"], ["updated_at", "2018-11-18 22:59:56.495765"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 50ms (Views: 49.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"y4T3o5gBNOn+7nZtUp5Ywfsxjuq17PAlkMi4sEmHBPTRAJoKSmzwT0uECaonk86k+eQWqGNpm4fPVdYmOLvHrw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (8.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 65ms (Views: 60.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:56.797306"], ["updated_at", "2018-11-18 22:59:56.797306"], ["user_id", 280]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 488], ["created_at", "2018-11-18 22:59:56.804370"], ["updated_at", "2018-11-18 22:59:56.804370"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 488], ["created_at", "2018-11-18 22:59:56.807698"], ["updated_at", "2018-11-18 22:59:56.807698"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 488]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:56 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 488], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 488], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (2.2ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 488], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (26.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.4ms)
Completed 200 OK in 121ms (Views: 112.0ms | ActiveRecord: 1.7ms)


  [1m[35m (1.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$woWGXcnn/lS7qDxHaLih5uRwW1mxF9YAwRnZD3aYJNRyvIEdybjOa"], ["created_at", "2018-11-18 22:59:57.122681"], ["updated_at", "2018-11-18 22:59:57.122681"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"l9/p+yD/NfxzrBlbWy/fIC9A+vyZsRs4wT39OXGShQyz54vJSkihQQ3THA9iVlq0Bfk8r7z4k/qAvPyzmOzxww==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:57.409760"], ["updated_at", "2018-11-18 22:59:57.409760"], ["user_id", 281]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 489]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 489], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 489], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.1ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 489], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (30.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 106ms (Views: 97.3ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$oAlWZ4ZpxEk5uYxYyjaYIuQP/PdbLcEJXZDH7I/YvdIcfQZ8curOC"], ["created_at", "2018-11-18 22:59:57.698758"], ["updated_at", "2018-11-18 22:59:57.698758"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8aIaW8F+C6ua/ZBYXyJ49iKuybIBuZucqblUr189sJnoRsL7+/xvA2DBEJa6Qkavp7dLzprw5mUMjeW3qyyeIQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:57 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.9ms)
Completed 200 OK in 51ms (Views: 47.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:58.007343"], ["updated_at", "2018-11-18 22:59:58.007343"], ["user_id", 282]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 490], ["created_at", "2018-11-18 22:59:58.013595"], ["updated_at", "2018-11-18 22:59:58.013595"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 490], ["created_at", "2018-11-18 22:59:58.017652"], ["updated_at", "2018-11-18 22:59:58.017652"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 490]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 490], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 490], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 490], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 490], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (22.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.7ms)
Completed 200 OK in 91ms (Views: 81.0ms | ActiveRecord: 2.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$wYtLSWwtK6OwfRtz/hvV9OMG925aRARd5VBlLdMtSKinbTwDAxnju"], ["created_at", "2018-11-18 22:59:58.305369"], ["updated_at", "2018-11-18 22:59:58.305369"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:58 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 103ms (Views: 102.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:58 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XhLONhwUiBjdURLNBpoDqHfvCdi2c1318cqt8tQOjc8EccSk1oIj2lc/R7BSTIYevaI57cPYHI920psjaV2uvA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 272ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:58 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.3ms)
Completed 200 OK in 99ms (Views: 89.8ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (4.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (2.0ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:58.829137"], ["updated_at", "2018-11-18 22:59:58.829137"], ["user_id", 283]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (2.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (1.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 491]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.8ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 491], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 491], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 491], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.1ms)
  Rendered profiles/show.html.erb within layouts/internal (44.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (80.0ms)
Completed 200 OK in 156ms (Views: 146.0ms | ActiveRecord: 2.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.6ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kqb4HIpdy6mZEIWuLJiBzuFuixz1mNUSU4IaU5CZFTZcrmtnRMC1e"], ["created_at", "2018-11-18 22:59:59.234740"], ["updated_at", "2018-11-18 22:59:59.234740"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:59 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 71ms (Views: 68.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 20:59:59 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6Gj2B4YQ+r3rNE+CwoP5XIYHH7Xre5kgE3Q1e3UusqX+ptAPF6NmhvNsaKA4d0rmbnOcid0GPr8zFIdNOhLnhw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 175ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 20:59:59 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (142.3ms)
Completed 200 OK in 157ms (Views: 153.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:59:59.682142"], ["updated_at", "2018-11-18 22:59:59.682142"], ["user_id", 284]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.8ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 492], ["created_at", "2018-11-18 22:59:59.689443"], ["updated_at", "2018-11-18 22:59:59.689443"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 492], ["created_at", "2018-11-18 22:59:59.694041"], ["updated_at", "2018-11-18 22:59:59.694041"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 492]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 492]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 20:59:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.7ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 492], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (3.5ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 492], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 492], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 492], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 492], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 492], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.1ms)
  Rendered profiles/show.html.erb within layouts/internal (51.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.9ms)
Completed 200 OK in 138ms (Views: 125.2ms | ActiveRecord: 2.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$tFNH0NYWf0GDXYAd6HAQE.QWuHfPvL52cBdemJFuMscUfO4iv6iuW"], ["created_at", "2018-11-18 23:00:00.026280"], ["updated_at", "2018-11-18 23:00:00.026280"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 62ms (Views: 60.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"p7AIwLYroEUPuDUVPF2PCm/A97Vnh35R1iu0/5S1Na870/p0IQps6fN0Ehp/jHXYm4+a4BiQmWXqjgcKZRDmYA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (79.8ms)
Completed 200 OK in 95ms (Views: 91.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:00:00.383898"], ["updated_at", "2018-11-18 23:00:00.383898"], ["user_id", 285]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 493]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 493], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (10.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 493], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 493], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (39.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.3ms)
Completed 200 OK in 121ms (Views: 99.8ms | ActiveRecord: 12.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$712OiTFEZZ7gnAo9lndwW.g5KMA91npUQu/93922raneZib.rM1qq"], ["created_at", "2018-11-18 23:00:00.681683"], ["updated_at", "2018-11-18 23:00:00.681683"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 61ms (Views: 60.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mMEDfylwYpFC8j9MG8nPLi+iHork9y6DtxVDOdcqM5VCKqdzD7vkycMYvluGkxsj4ITBADAcPr38H1CkPtLrag==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:00:00.984092"], ["updated_at", "2018-11-18 23:00:00.984092"], ["user_id", 286]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 494]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:00:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 494], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 494], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 494], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (17.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.9ms)
Completed 200 OK in 92ms (Views: 87.0ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zyVoM5W1O/.G4XP5lRWF5u4n4eA7C2GaAaCVXTEZD7.DwiYPcufb."], ["created_at", "2018-11-18 23:01:07.800415"], ["updated_at", "2018-11-18 23:01:07.800415"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:07 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 351ms (Views: 336.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"eT0Lu2ngTS/BMNEHbmj+jj3/EznvqXwbAVhx/ksrJhmjUyqDSzXDt6zu7ohY4cGNh2yhvti8gZ5xpD3pww4j/A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 216ms (ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 71ms (ActiveRecord: 5.0ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (90.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.8ms)
Completed 200 OK in 201ms (Views: 174.2ms | ActiveRecord: 3.1ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:08.739097"], ["updated_at", "2018-11-18 23:01:08.739097"], ["user_id", 287]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (1.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 495], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 495], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 495], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (44.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (91.2ms)
Completed 200 OK in 163ms (Views: 147.4ms | ActiveRecord: 6.2ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:01:08 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 495]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.9ms)
Completed 200 OK in 75ms (Views: 64.0ms | ActiveRecord: 2.3ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DANTaXWmk/G3PyZLRtwiROe/mQsIzyH6DVtynM61bZVCg0Fi38b9G"], ["created_at", "2018-11-18 23:01:09.166318"], ["updated_at", "2018-11-18 23:01:09.166318"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qfQG2UZGGfTBwUtizHwGibSBq6idylN7gio8trNsahQ/5jMy/SAJUGTH8NAREY3m1YVzL7SEFQM9UeN22kGTAA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.9ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:09.431509"], ["updated_at", "2018-11-18 23:01:09.431509"], ["user_id", 288]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 496]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.9ms)
Completed 200 OK in 66ms (Views: 61.3ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.4ms)
Completed 200 OK in 68ms (Views: 62.3ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rejUVBoTtHo2YQF6iz4.U.yJ18BhtiBGefNGSwuKWZaMtqileipze"], ["created_at", "2018-11-18 23:01:09.741297"], ["updated_at", "2018-11-18 23:01:09.741297"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"4b9Pz1GzfE+ALo1/FYZicwrb5fdbRsh3qEOZoQCAZSSsN5xq/rTBKkHpOFM27rq7nG4xbwiDudz3dGyYtwXqxg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.3ms)
Completed 200 OK in 44ms (Views: 40.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:10.005207"], ["updated_at", "2018-11-18 23:01:10.005207"], ["user_id", 289]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.7ms)
Completed 200 OK in 76ms (Views: 72.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UV0l7ExOFtphaIHeqxOkuEtjBG0f3u+x3o6MExPjrycXuT4Gj666yto3pKvRh6nab2EmCDwUeNKrMlI63Vb5yA==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.6ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 497], ["created_at", "2018-11-18 23:01:10.113537"], ["updated_at", "2018-11-18 23:01:10.113537"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.7ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 497]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.3ms)
Completed 200 OK in 81ms (Views: 75.3ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$byTBFnu2sh.X7XBiZO7HgevOCbfud6V0ZIPLAPFL1jyYX8uW2cLGa"], ["created_at", "2018-11-18 23:01:10.358532"], ["updated_at", "2018-11-18 23:01:10.358532"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"oRW79lj3QSp2rnelL+xTggiZTqsgPwyDcswquj/pQZOJRacoj+rjTz5IvFHrQysLIpNR17CydLGg+eSul4KFyQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:10.622599"], ["updated_at", "2018-11-18 23:01:10.622599"], ["user_id", 290]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 498], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 498], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 498], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (16.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.2ms)
Completed 200 OK in 92ms (Views: 86.5ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 498]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (7.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 84ms (Views: 74.3ms | ActiveRecord: 3.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$7hG4EkzH3Alqtkd0qrN6QevrKCwRcba0kG0z92jP7bNsSw7GXl0aO"], ["created_at", "2018-11-18 23:01:10.966752"], ["updated_at", "2018-11-18 23:01:10.966752"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"gyYGD7tsF25KI2f5aoVS4wolmA9KaUXofTukJTBI3JZoltTSzqCzUUANLciUA9nRtX6rInD9LyDr5Wt7zWHerA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:11.234274"], ["updated_at", "2018-11-18 23:01:11.234274"], ["user_id", 291]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 499]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (8.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.3ms)
Completed 200 OK in 76ms (Views: 70.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.8ms)
Completed 200 OK in 69ms (Views: 62.5ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$nkrhW6YkJcf883mUUGo6vuXfUixPkmi/89VJXUzEK5cLTwYFy0xJW"], ["created_at", "2018-11-18 23:01:11.553018"], ["updated_at", "2018-11-18 23:01:11.553018"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2f35UIFLWVT/gKRpZK0+xp00C5bZVDIeIzfMpb2ekzNqKzRpdsOkXMDJdFc40H9S6MnQeclqr7MPp458H2zZuA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:11.817722"], ["updated_at", "2018-11-18 23:01:11.817722"], ["user_id", 292]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.1ms)
Completed 200 OK in 67ms (Views: 62.9ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PpbIx722HBvRyY7ihaHtubtEqjfkT9Gp+e7czmPc5zgz3OVNToRTU2F00s2QpANzjO57HGtQPL9AeMAyk++o9g==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 500], ["created_at", "2018-11-18 23:01:11.929269"], ["updated_at", "2018-11-18 23:01:11.929269"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:01:11 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 292], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 500]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.0ms)
Completed 200 OK in 71ms (Views: 66.2ms | ActiveRecord: 0.9ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rMzezrIteNJ9tJ84uzDpX.BbZ.lsHkYmNSwDuhB.usFhArvowk2Pq"], ["created_at", "2018-11-18 23:01:12.166381"], ["updated_at", "2018-11-18 23:01:12.166381"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sHCsENqTf7MgqMT79DXeDru6jeClfXesIt9/pRs0kUjOVsqLpy+Jlz8iITCbCA3O3tX8XcNmKGGNCpcmE5M8sw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.0ms)
Completed 200 OK in 54ms (Views: 50.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:12.445040"], ["updated_at", "2018-11-18 23:01:12.445040"], ["user_id", 293]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 501], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 501], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 501], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (28.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 95ms (Views: 90.3ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 293], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.5ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 501]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (5.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.3ms)
Completed 200 OK in 90ms (Views: 79.6ms | ActiveRecord: 2.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$U15qLsbQc/Gxyw1BJi4PO.4Kyk9NHD/8SsP2g9/D4UkKHr6QaaYO."], ["created_at", "2018-11-18 23:01:12.814174"], ["updated_at", "2018-11-18 23:01:12.814174"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 81ms (Views: 80.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"P2NcOpTrpNTiCAzcf/hhUb69JluQyGOB0EXocErIBGGFioifkvQ9s1MzPKk+exNSZCVgFz/e5dcUxuvXC3o9RQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:13.127357"], ["updated_at", "2018-11-18 23:01:13.127357"], ["user_id", 294]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 502]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 78ms (Views: 69.4ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 294], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.8ms)
Completed 200 OK in 81ms (Views: 76.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$66/Jze4bIzdxTuHEFU2bsOhYfGtz1it4W/GW6YXUzoevlz6tGJ5iK"], ["created_at", "2018-11-18 23:01:13.457938"], ["updated_at", "2018-11-18 23:01:13.457938"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9Plg9saymX7zy/c+jYWOOPHzBs/dH5/AXeSvrC4ECQ1hUeVKoqjbO/lT9OznEtgCuzGkua1L7uI5ZiPbD5kUBA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 44ms (Views: 41.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:13.732796"], ["updated_at", "2018-11-18 23:01:13.732796"], ["user_id", 295]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.5ms)
Completed 200 OK in 68ms (Views: 63.5ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kPXfqT2jrSSMW6ZTGuL5HI1zEBrx7k2LcJP+cE0VH2WQcEb8uucvJbnytmE4ycU1qUVow2sWisjsoxCHfLXoRw==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"01"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (0.7ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 21:01:00"], ["fasting", true], ["profile_id", 503], ["created_at", "2018-11-18 23:01:13.850241"], ["updated_at", "2018-11-18 23:01:13.850241"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 16ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:01:13 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 295], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 503]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (8.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.9ms)
Completed 200 OK in 81ms (Views: 67.9ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Y6bjkKkV27Py02w3p0MZpOEFLiyMUwUPETB1ZKk1SfIWnDaIt5.Ry"], ["created_at", "2018-11-18 23:01:14.095442"], ["updated_at", "2018-11-18 23:01:14.095442"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RTxRft5K7i2SNHiEqTWZm2Oq58Ta/7x4lzNEVJeQiDEZbk6s4aOtHnTwTuov9gCWA0K6ezm5fqErBo4q994y2A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:14.362868"], ["updated_at", "2018-11-18 23:01:14.362868"], ["user_id", 296]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 504], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 504], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 504], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (16.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.0ms)
Completed 200 OK in 88ms (Views: 82.7ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (1.0ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 504]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (8.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.3ms)
Completed 200 OK in 98ms (Views: 86.4ms | ActiveRecord: 3.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$cIPruthIiITpZwZByxpaY.oUnr4RJAt.Mh08GDlsk1ctRO6lFsudC"], ["created_at", "2018-11-18 23:01:14.717944"], ["updated_at", "2018-11-18 23:01:14.717944"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ct4EcRyTCso/qXEeZO25LzqS1TB6AWwSk3pGl3gM6eSWrFk6oFNZJxVgqW8UTLUditjbnt1xKFp/XeMDhVIPng==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:14.983378"], ["updated_at", "2018-11-18 23:01:14.983378"], ["user_id", 297]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:01:14 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 505]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.3ms)
Completed 200 OK in 57ms (Views: 52.5ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.6ms)
Completed 200 OK in 76ms (Views: 68.5ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$SLQQCbJ5bopHSoYN1ZR3k..vr02/3z613Ioh1Okz3rGcIRIPXfYve"], ["created_at", "2018-11-18 23:01:15.293699"], ["updated_at", "2018-11-18 23:01:15.293699"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"n/Hqivm/vrCeXS/ORtrQY7y/9UDllnRh/yjJjuUV04PywQSRTgvvASeI6vA+iwAB7Z4dlZOflCE1bgk7cZ0PoQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 46ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:15.559003"], ["updated_at", "2018-11-18 23:01:15.559003"], ["user_id", 298]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (72.5ms)
Completed 200 OK in 86ms (Views: 82.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DU06ARcfOeOCqi3xBiYbJ4k1g0RSpOlTq7XMzDqloQN410ihNgowazFMAZCB78HjjdLu/t5mpkxgdpPpd9rFmQ==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.9ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 506], ["created_at", "2018-11-18 23:01:15.675671"], ["updated_at", "2018-11-18 23:01:15.675671"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 27ms (ActiveRecord: 3.3ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 506]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 76ms (Views: 67.1ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$9GyPCrSZVdTEVrE3gf.TPOC1q7awYSy3rz8Hi4Ss2pV8QwHc4ok56"], ["created_at", "2018-11-18 23:01:15.936423"], ["updated_at", "2018-11-18 23:01:15.936423"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 53.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Hq/cHL9TyYSjDPs36HxhiNxoHAqaHyTGTYCNfx6x03OTlTMk+cMfSahi57usGo+gfPlPa31MxLLhYgkvBSLn3w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.6ms)
Completed 200 OK in 44ms (Views: 41.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:16.232498"], ["updated_at", "2018-11-18 23:01:16.232498"], ["user_id", 299]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 507], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 507], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 507], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (19.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.9ms)
Completed 200 OK in 92ms (Views: 87.0ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 507]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.2ms)
Completed 200 OK in 84ms (Views: 77.9ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VqTDdmnPtCTceMNjAhR6QeQKs7VifFu7Q0m2B49d9eiHMUKz7sWlm"], ["created_at", "2018-11-18 23:01:16.577397"], ["updated_at", "2018-11-18 23:01:16.577397"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 42ms (Views: 41.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"nVXhLWJ5rP+ja4ZndwMnOZuOBFSDLGquCVk/XM/lqv+TQ2sILnP6KhAh3LOewtF1+UTDes/SFnCWmpLlw9aC9w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 47ms (Views: 43.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:16.846705"], ["updated_at", "2018-11-18 23:01:16.846705"], ["user_id", 300]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 508]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.3ms)
Completed 200 OK in 76ms (Views: 70.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:01:16 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.5ms)
Completed 200 OK in 68ms (Views: 60.6ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HHtbw1PhiACS7SVLwD2WD.NTb3YsgAXBEF.y9yJW26EvMW04KPi1O"], ["created_at", "2018-11-18 23:01:17.180605"], ["updated_at", "2018-11-18 23:01:17.180605"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 55ms (Views: 53.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"22hvmHsSICBTEXmuGPD3zpoHND9XkgQB8FyQ6Wry5fxHi4+tnMC6V0bfERwJffcsVvFEpxPahhtDyosg4n2D5A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:17.479090"], ["updated_at", "2018-11-18 23:01:17.479090"], ["user_id", 301]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.4ms)
Completed 200 OK in 75ms (Views: 70.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"L55wBOSWeIT3YlW2zUHHJrtwqhsbY7u3puef+syuAEg9o1mQVkAZCj9EBwfOpYZ1p3MZqCCvNOnLRYidziOhCw==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 509], ["created_at", "2018-11-18 23:01:17.585604"], ["updated_at", "2018-11-18 23:01:17.585604"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 14ms (ActiveRecord: 3.8ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (3.0ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 509]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (7.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.3ms)
Completed 200 OK in 83ms (Views: 75.4ms | ActiveRecord: 3.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$h5UIa1JQM65EatMuc2OgWOFsOhq.sLKihry5iU5hBg6P/jQf95X.S"], ["created_at", "2018-11-18 23:01:17.831783"], ["updated_at", "2018-11-18 23:01:17.831783"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Vz1QYthIaHCWTOWAUOjndKI0So947vwo+l/EgYpgFEVe3nvKzNTcDhjzCGVmtKeZRHaawxXyJkw8RLGGQawrXg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 53ms (Views: 49.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:18.109452"], ["updated_at", "2018-11-18 23:01:18.109452"], ["user_id", 302]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 510], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 510], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 510], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (25.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.3ms)
Completed 200 OK in 96ms (Views: 85.2ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.8ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 510]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (8.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.5ms)
Completed 200 OK in 90ms (Views: 74.5ms | ActiveRecord: 3.9ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$6HnvM2IkdluaJ.FlrG0xIutjBocevPjgdGDuLLNUhdJZBGtpwbw6e"], ["created_at", "2018-11-18 23:01:18.472762"], ["updated_at", "2018-11-18 23:01:18.472762"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 58ms (Views: 57.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VOlfKAhy8Wa5aJbtV71zDp7jpcUmfR8dIBRJzbbUTw3UWEnaARI9xA1aG1KsgxsEKHVJgFGcbynPZqpWXWT3eA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:18.772853"], ["updated_at", "2018-11-18 23:01:18.772853"], ["user_id", 303]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 511]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 68ms (Views: 62.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:01:18 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.4ms)
Completed 200 OK in 75ms (Views: 68.2ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1lVd8oFxboc9A7/HU.kVQuZJMEn7h0htXMmXhk8uNvAm80QdEVc7S"], ["created_at", "2018-11-18 23:01:19.089908"], ["updated_at", "2018-11-18 23:01:19.089908"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 52ms (Views: 51.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"zMc+OtAL9oUgq8Fr9GaK7G/Hc1zeqDZxIJVs8BgC7/nl8CpCQESfuyyNnRXPV5a+KTX7BpCoGiG14/etOTrulg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:19.382545"], ["updated_at", "2018-11-18 23:01:19.382545"], ["user_id", 304]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.2ms)
Completed 200 OK in 61ms (Views: 56.7ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"R91Pdd+MJGQYaVXu/HBOhcCGBkkc1Db4x/timBQu8GaU1DnzUGPXMCpjBd0ZjAvgSOvyNSLexUZJZMfGl1C2VQ==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (0.6ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 512], ["created_at", "2018-11-18 23:01:19.478427"], ["updated_at", "2018-11-18 23:01:19.478427"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 14ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.5ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 512]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.0ms)
Completed 200 OK in 75ms (Views: 68.0ms | ActiveRecord: 1.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$suxPbx/3zHdYvEvpE6.e.utGxa.ehH2YmzEJQrEfv2PedQOjRP1o."], ["created_at", "2018-11-18 23:01:19.726965"], ["updated_at", "2018-11-18 23:01:19.726965"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5bApdwkjUlIsQQf+Ud8KiokYnx5+sDG0hu+NRhpg/hXlz8aZlXlufYcqO4w6ovkli/zUsTpSUEBA4vJc6FbpKw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:19.997095"], ["updated_at", "2018-11-18 23:01:19.997095"], ["user_id", 305]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 513], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 513], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 513], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.8ms)
Completed 200 OK in 89ms (Views: 83.4ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (1.2ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 513]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.6ms)
Completed 200 OK in 86ms (Views: 76.0ms | ActiveRecord: 3.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1HfRq5ldOU5wAEdUg4CvuO6Ew7zlNJnvEOBKJGqJUdTgcz3AKDgSa"], ["created_at", "2018-11-18 23:01:20.350937"], ["updated_at", "2018-11-18 23:01:20.350937"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6YkDSJdO7mLQdRTROObjY0/4QZQI+nvf8twUQ4xuyAsMzzScsP0iMD4H2RUQLseybCyBQdRn8t/2zxH3vOOYCw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:20.622510"], ["updated_at", "2018-11-18 23:01:20.622510"], ["user_id", 306]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 514]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 62ms (Views: 57.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.0ms)
Completed 200 OK in 71ms (Views: 62.0ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/0NjmHBTOYg0z.va4to1OOiVCcZJiSa/JZgul1Z0A3pHcOndpSgV."], ["created_at", "2018-11-18 23:01:20.933693"], ["updated_at", "2018-11-18 23:01:20.933693"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"R2PjIQ/KsnzV3BWHFfqULZNkpWUuQXI8HR3TKNZGAxSYGTnqN2QEcZhzoVCDxy9SWztMj1cnA0ENuTwm2kiYvg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.2ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:21.217786"], ["updated_at", "2018-11-18 23:01:21.217786"], ["user_id", 307]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.9ms)
Completed 200 OK in 72ms (Views: 64.3ms | ActiveRecord: 0.8ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jYpiIcrJZBZOoND9esECeCnSGNlk2cWgtfvZtFrY3Jp8kqFT5+EEfeYlZhyN396GBtnPfoOOO8FWDyu9SQcgpw==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (0.9ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 515], ["created_at", "2018-11-18 23:01:21.351800"], ["updated_at", "2018-11-18 23:01:21.351800"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 32ms (ActiveRecord: 5.1ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 515]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.0ms)
Completed 200 OK in 89ms (Views: 77.7ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Pb04XnIhAWpsMyK6hzJwFu.FbsUheuPDXVTYzYmMXWNgvPdQzTSGe"], ["created_at", "2018-11-18 23:01:21.633011"], ["updated_at", "2018-11-18 23:01:21.633011"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9BqzFaaZtp91Bc1ukJGf6tBvcqkxhFVwnGFe1rf9YA/I8TJ9pm2rnu3OzMDmCj2ci36bB+WvbJlcwk1oTVD9lw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:21.902376"], ["updated_at", "2018-11-18 23:01:21.902376"], ["user_id", 308]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 516], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 516], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 516], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.5ms)
Completed 200 OK in 83ms (Views: 76.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:01:21 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.5ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 516]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.7ms)
Completed 200 OK in 94ms (Views: 80.2ms | ActiveRecord: 2.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Q4lcvv9bTPX05VBJyHTxCeRjIEHJk74iupc5hLuVyPciNPTrxQZl2"], ["created_at", "2018-11-18 23:01:22.257240"], ["updated_at", "2018-11-18 23:01:22.257240"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 67ms (Views: 66.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1DKVTnccp6x9aCIV49NGeEVb9S0qf+HuDlUbfEyDlAXlOJkDqbjcplignCYbY/NOY8aEeMuUUzbZsqHNIdne4A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 48ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:22.560316"], ["updated_at", "2018-11-18 23:01:22.560316"], ["user_id", 309]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 517]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.8ms)
Completed 200 OK in 82ms (Views: 70.9ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 92ms (Views: 83.0ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Kmx433DKjlSWta9yzPglCu5P78fTBhuF0vRPnkauMc9uLtIWZL2M."], ["created_at", "2018-11-18 23:01:22.919837"], ["updated_at", "2018-11-18 23:01:22.919837"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 55ms (Views: 53.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"85G73wtHd5XooB/eP7ubA1Wz4wMEvVIqIp+U26xjzuVuFL3by+f5CJEWTB7UrAIKCV5fVvpVE1DUuILPk6KAAw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:23.201344"], ["updated_at", "2018-11-18 23:01:23.201344"], ["user_id", 310]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.9ms)
Completed 200 OK in 59ms (Views: 55.0ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KWrynXaElgYlsvBehV4zzftMx6aB7Lw3pVfTvTecxyYHIc17gIaycxQaEaAGRS3t//qW8BLd6ISaNM04VKLQUQ==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 518], ["created_at", "2018-11-18 23:01:23.305770"], ["updated_at", "2018-11-18 23:01:23.305770"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 17ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 518]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.9ms)
Completed 200 OK in 70ms (Views: 63.4ms | ActiveRecord: 1.2ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ONUJ9No07AdgewKpfk1y/.lUYIxEriukhzwNGMMl2P2tko2ry6jSi"], ["created_at", "2018-11-18 23:01:23.544686"], ["updated_at", "2018-11-18 23:01:23.544686"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FmsgGrw8ftoC5Hfy/NmqDJUhhSWs53tW3uVCbPuWcEMvgb4O1sS2UBfYL/pF98XYP3P2loS9BKMgEdaUY5/F6w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:23.830872"], ["updated_at", "2018-11-18 23:01:23.830872"], ["user_id", 311]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 519], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 519], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 519], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.7ms)
Completed 200 OK in 85ms (Views: 80.4ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:01:23 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 519]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (6.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.4ms)
Completed 200 OK in 82ms (Views: 70.7ms | ActiveRecord: 2.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kvdvjjmmfAk5xKnrOOpdYuzUsZNus1MgZgtZN14eKS4Ao6k8QTqzi"], ["created_at", "2018-11-18 23:01:24.177646"], ["updated_at", "2018-11-18 23:01:24.177646"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 51ms (Views: 49.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"aMIKm/965QdPfzpPTvqG5olVHBLPWkn7BANQ9HCAPjxzToF+N8F0EHRTMNtM9YqMkwUQLD8jeV2nmd2QzZuJkQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.0ms)
Completed 200 OK in 54ms (Views: 50.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:24.477438"], ["updated_at", "2018-11-18 23:01:24.477438"], ["user_id", 312]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 520]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.2ms)
Completed 200 OK in 74ms (Views: 64.8ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (7.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.6ms)
Completed 200 OK in 78ms (Views: 72.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$AzR4i4YhcnUEPkDKHAMFzulwdga1o0kRmy.VR4/OZChRx4bwrj7nG"], ["created_at", "2018-11-18 23:01:24.805986"], ["updated_at", "2018-11-18 23:01:24.805986"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"h4Ds3cFEnF7YcE50m6Dx9Z5i2gg/ISffuNiJJt3/e6XXcFy8Sw1Jwd/n8v38NJtvYPgVbycMbLau91EjyrvoaQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:25.074203"], ["updated_at", "2018-11-18 23:01:25.074203"], ["user_id", 313]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$72NUGITOHzrS2omKjuD.c.kRsjGWLvIQ5.V2ScFzDtKSwRVGxJQ8O"], ["created_at", "2018-11-18 23:01:25.230106"], ["updated_at", "2018-11-18 23:01:25.230106"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pvu2E8tUW3AM34b2Q7o5lb127zhQGpBhvjh30eLNdWZAsZmheHXzjxiIWaqjrfytJB5UFqnupIXl/G2obWw1VQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 54ms (Views: 50.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:25.507440"], ["updated_at", "2018-11-18 23:01:25.507440"], ["user_id", 314]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 522], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 522], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (2.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 522], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (24.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.1ms)
Completed 200 OK in 94ms (Views: 86.0ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 314], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (1.0ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 522]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (11.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.4ms)
Completed 200 OK in 89ms (Views: 73.1ms | ActiveRecord: 6.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZcbF.WTPf3e2aw3uexSRYOBreKw6Yo0aQv3L1EItEwWeuQRD708em"], ["created_at", "2018-11-18 23:01:25.871898"], ["updated_at", "2018-11-18 23:01:25.871898"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.0ms)
Completed 200 OK in 69ms (Views: 67.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JkmHjW4CL3W76x6JpXh/Fyn9k4Z27LuqLqb4HGWr1m1wKEjZox4aXf4F8CcEwuGLYQ3QSaG/IfDTiDRc0hO+EQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:26.167980"], ["updated_at", "2018-11-18 23:01:26.167980"], ["user_id", 315]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 523]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.7ms)
Completed 200 OK in 65ms (Views: 60.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 315], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.9ms)
Completed 200 OK in 70ms (Views: 63.9ms | ActiveRecord: 0.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$MYRkbQP/zu854zuC2Qlv4eTINQ32Yq03HUlsU2fBDjL3Pjq0NCtsi"], ["created_at", "2018-11-18 23:01:26.489852"], ["updated_at", "2018-11-18 23:01:26.489852"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KkYGQkIpfX0AWkasUL4zVFqy7YrkRKua+eb5uOKwVy3g0OlTg46MSaZmYjKipXw4uiAP1xxfzfDDQZkm+P010g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 49ms (Views: 44.3ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:26.784296"], ["updated_at", "2018-11-18 23:01:26.784296"], ["user_id", 316]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.0ms)
Completed 200 OK in 70ms (Views: 65.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"STfAuUdMSwFz1UYwCY6BTr+Lan8Qg8qnHWaQAA6L3vMH+XEdbY8jAwRp5YsndISMXEzkNJVB4osM4k6s9WK6Mg==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"01"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.6ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 21:01:00"], ["profile_id", 524], ["created_at", "2018-11-18 23:01:26.900982"], ["updated_at", "2018-11-18 23:01:26.900982"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 16ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:01:26 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 316], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 524]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.8ms)
Completed 200 OK in 79ms (Views: 70.6ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HMVhXxUrbKUjFM3GcaYvbuIBMpw6NCdSV8kbOHPyKC1OmqyuBXGyS"], ["created_at", "2018-11-18 23:01:27.149645"], ["updated_at", "2018-11-18 23:01:27.149645"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mTx1Iio9rp8mD9mN89OfByMhuxUJVDpCjFtYe3bj9inbyqaF2w11Qxp7BPIFnY4576awZK/Shkprr/5vdOe5yA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 317], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 317], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.7ms)
Completed 200 OK in 60ms (Views: 56.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:27.436138"], ["updated_at", "2018-11-18 23:01:27.436138"], ["user_id", 317]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 317], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 525], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 525], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 525], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (26.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 103ms (Views: 93.0ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 317], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 525]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (8.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.0ms)
Completed 200 OK in 82ms (Views: 67.0ms | ActiveRecord: 3.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$IaUtaL5/eQeXNDO4TebGZOzPPRD4WtcunFCKIX98vaZdWBzLzUaWK"], ["created_at", "2018-11-18 23:01:27.808544"], ["updated_at", "2018-11-18 23:01:27.808544"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 43.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sgVsMS+G0upw4enTNt4CXWHS7a/RebDpoFYeME0p0Ns1wKWU6Op0Hbfapdrp1esdWBTt0Ji6We6wQAHXOoKS3w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:28.079729"], ["updated_at", "2018-11-18 23:01:28.079729"], ["user_id", 318]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 526]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.2ms)
Completed 200 OK in 74ms (Views: 69.2ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 318], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.1ms)
Completed 200 OK in 86ms (Views: 80.3ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$sbLXUrh6d0OOauFP71CJru21lFW6xnqLGpR2VDRvNYYYWQ5.p9iiu"], ["created_at", "2018-11-18 23:01:28.415740"], ["updated_at", "2018-11-18 23:01:28.415740"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (8.7ms)
Completed 200 OK in 51ms (Views: 50.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fwR9rl5te/azfXxCQD5NTeNQ1rcVvwGvGAFsOqL+gAdLT1wdLUBtpi3rAA5onIslkWvnKl9xY3sYQTLGVnmEVQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:28.692067"], ["updated_at", "2018-11-18 23:01:28.692067"], ["user_id", 319]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.1ms)
Completed 200 OK in 61ms (Views: 56.7ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lnmX8imADS19qH8XzjurlO/wfsAXXkdpll5XkGy2cO3sy9neZGjG/mrH4+A7i9POgMDzrKGOOKNmQ1Mq10w8CQ==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (0.6ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 527], ["created_at", "2018-11-18 23:01:28.804753"], ["updated_at", "2018-11-18 23:01:28.804753"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 20ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:01:28 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 319], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 527]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 77ms (Views: 68.0ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$RtzO1yF4bJi3eqRjDAU7fOTLeYY5ksjIkL54nSXb0Xck74oSyfYNa"], ["created_at", "2018-11-18 23:01:29.046505"], ["updated_at", "2018-11-18 23:01:29.046505"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8BeVfonKw7bvAWVIDr/wz7npdkPB9qsu7GH9wwmk1KWk84ERX8t8GYWbVObHpMCZXM+jHErFmzb2rVYaR+008A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.4ms)
Completed 200 OK in 54ms (Views: 50.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:29.322353"], ["updated_at", "2018-11-18 23:01:29.322353"], ["user_id", 320]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 528], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 528], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 528], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (21.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.2ms)
Completed 200 OK in 98ms (Views: 91.9ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.8ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 528]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (8.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.8ms)
Completed 200 OK in 86ms (Views: 69.8ms | ActiveRecord: 3.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3RpRK7EtZeeV.mijUkmjOe/gVoUOI7B2/pkIdAh7r7z2r47cpfyl."], ["created_at", "2018-11-18 23:01:29.687618"], ["updated_at", "2018-11-18 23:01:29.687618"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/6m3d02BgZPKbkVxDziByGIkt3hGTZ3jUkYouHwL4wlF+qh/fvpvQprmy7q+kWksp4m9VMsMXI6qM2gdr8kPtA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:29.973559"], ["updated_at", "2018-11-18 23:01:29.973559"], ["user_id", 321]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:01:29 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 529]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.7ms)
Completed 200 OK in 68ms (Views: 63.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 76ms (Views: 67.0ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$izznlY/ittODkvP1xaimrObzAxzGxnDgu8kI9L4wH1fKrBrIMpyGG"], ["created_at", "2018-11-18 23:01:30.296093"], ["updated_at", "2018-11-18 23:01:30.296093"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yjdL2/x8XZB+2igLFkVvXXtM9GFXO2mHlWOj3SzCqiBl8NbGQWwKJmXsqtG5ZK3ERvhpxs+sC2pliUNMSh1zNg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 192ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.7ms)
Completed 200 OK in 56ms (Views: 52.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:30.632244"], ["updated_at", "2018-11-18 23:01:30.632244"], ["user_id", 322]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.5ms)
Completed 200 OK in 60ms (Views: 53.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sCKbz2U52yVrEqieeOlnVU6/uUHYU5vuBLJgGyz+FzG6Drdjw/K6RxdYYxKS8l9OXtfOefqm446u0pZ3YK/v7w==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.7ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 530], ["created_at", "2018-11-18 23:01:30.731858"], ["updated_at", "2018-11-18 23:01:30.731858"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 18ms (ActiveRecord: 4.4ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.5ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 530]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.2ms)
Completed 200 OK in 72ms (Views: 62.7ms | ActiveRecord: 1.7ms)


  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 73ms (Views: 69.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:01:30 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.7ms)
Completed 200 OK in 83ms (Views: 82.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 77ms (Views: 72.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.8ms)
Completed 200 OK in 83ms (Views: 82.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 82ms (Views: 80.9ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jclbl5SMnh9NnevmyM5bnxoNUU6E2WBH+x0nNY60UKU2iLZBjRh7R4zkeFfzYuhUAjd2UNn1coAwjwvYFI1cDA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ux2n8kob.8p8sFYDrSGnwubXiHNJo7NXTYiaM.fCuD59sSd2ARZOS"], ["created_at", "2018-11-18 23:01:31.576200"], ["updated_at", "2018-11-18 23:01:31.576200"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 150ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.7ms)
Completed 200 OK in 53ms (Views: 49.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (1.2ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 71ms (Views: 69.7ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$iItHEilMQ5Rf/qFXIvN37.20z9d2.1Ojdfef6dVGIYvQ0gsxwBPwa"], ["created_at", "2018-11-18 23:01:31.888825"], ["updated_at", "2018-11-18 23:01:31.888825"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 21:01:31 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rQCDDthytrpm4b4rST2Lw1N2SdWOr1BDdF5q/AgIdjLWBs3xh247UCfm/InD+r1U2y6JXEl9ueJ7Y4BC1ACgsQ==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 194ms (Views: 44.0ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Uk3XyAGZvagK97NkDGCOK.LnnKt4UoLPS6/rUnygT4Ea7b2quYZXa"], ["created_at", "2018-11-18 23:01:32.256075"], ["updated_at", "2018-11-18 23:01:32.256075"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 57ms (Views: 56.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"W8PKGb23+JwNI4/BLEcjP5CyRerwsGTJc7ad5ZA2cftFzzkvA1d81nXnZfqrSRW3fR3ueSybC+ei+Kk/NsD8KQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$9bFAnhhfZ9qG1YzD8esGNeabwJruFZlzuzD88c.1Uqh2sJemgrl76"], ["created_at", "2018-11-18 23:01:32.700684"], ["updated_at", "2018-11-18 23:01:32.700684"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"15dl5cJCPO1XhtoyYdMyrlBK+eEbvIRz1xvHE9yCmZtXEzPVvylIYsh9KCVWY7RYw/MzMUSi2DOdTKvj7KZTPA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.6ms)
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.6ms)
Completed 200 OK in 82ms (Views: 78.4ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2n/uczTUYnCQvq27j7lHa2UbWxF4/HUDN1jfQ4nUTbIEa8LuqXIDpvhWijWqpsBaQmk1MtwXIB4Douk+8Z454w==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (73.0ms)
Completed 200 OK in 96ms (Views: 89.2ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$lfs6AWeN0NzJbFldUW2rs.aBFOH1POMfO9hQvlZ8S2mOrr8Vjii6O"], ["created_at", "2018-11-18 23:01:33.321780"], ["updated_at", "2018-11-18 23:01:33.321780"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IbwquFvZpYllB4vbBogZiBLtJuAVKxrUoHexZ5jZeTxDmVaEZrFkVHYVFIfc99hEWVXc6EJWiYWdP8/4QE9+Yg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.1ms)
Completed 200 OK in 70ms (Views: 66.3ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sTSX9qC6W9TEGUfs2a20johYggDpnEXP2YPrDVAhzg7yl9FZimlRlTuE3L9IK84DbJ+ppYxgKqEeLx4daFzFkQ==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 23:01:33.698799"], ["updated_at", "2018-11-18 23:01:33.698799"], ["user_id", 327]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (1.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 531], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 531], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 531], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (21.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.3ms)
Completed 200 OK in 95ms (Views: 81.0ms | ActiveRecord: 3.1ms)


  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WaU4LbbSwJsG5VjGnOuAAuwx/6s1I4iyd3TKtN9CUz2dyusloIybS"], ["created_at", "2018-11-18 23:01:33.974408"], ["updated_at", "2018-11-18 23:01:33.974408"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 57ms (Views: 55.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"O755x69kz5xneo8VRBHhIe3PiKcfHing/Nvr7xSThH+cdAAsInCUChv/QD4iXKunbUVH0ETHq/CVlDrrsDta9g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 54ms (Views: 50.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:34.274424"], ["updated_at", "2018-11-18 23:01:34.274424"], ["user_id", 328]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 84ms (Views: 73.3ms | ActiveRecord: 0.8ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"621VpBuo5SPDMU0Ex6gDtee4VD0zIUMBY/qFgEFIFpvJszjg2RR4O5WkKBfu8vB9GD9+/fpR+nz26sHUanNnbw==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 532], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.8ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 23:01:34.403280"], ["id", 532]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.6ms)
Completed 200 OK in 83ms (Views: 67.3ms | ActiveRecord: 2.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$UUk6z8tIawbxnNvskKapF.ofErt12qDn4pw6UjuDT91jTZ9up4REG"], ["created_at", "2018-11-18 23:01:34.652483"], ["updated_at", "2018-11-18 23:01:34.652483"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 44.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bMcHQabiE9vJu2crpm5Qr8NnTorRSYGkwwtYoQ7TUhLtg063a1s8EpzuPBlTwL/sAu9EAuT6Yqz9+BPU/E9a1A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:34.939912"], ["updated_at", "2018-11-18 23:01:34.939912"], ["user_id", 329]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$qpZvjebJmkoghDqhUXZujOmoMzXqfFmcjmwbgyYvS39Ig1l9eEhSu"], ["created_at", "2018-11-18 23:01:35.097788"], ["updated_at", "2018-11-18 23:01:35.097788"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:35.235735"], ["updated_at", "2018-11-18 23:01:35.235735"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.4ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 85ms (Views: 83.4ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$QuSL2NQh8uRdoGOrw0DygOyYLhqa1y9VainepeU.0IvpFuOktJjxC"], ["created_at", "2018-11-18 23:01:35.470922"], ["updated_at", "2018-11-18 23:01:35.470922"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 64ms (Views: 63.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"83jrh+bZ589WLdmI/YAC5Ul41bGvD2Sjwdp+Zp5z89ZBfzG3tAUfrseMO2SZfgIsKW5bTI9rpI+ntgZsZAd3Kg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:35.772450"], ["updated_at", "2018-11-18 23:01:35.772450"], ["user_id", 331]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 535], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 535], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 535], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (19.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.6ms)
Completed 200 OK in 92ms (Views: 86.7ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:01:35 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.5ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 535]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (7.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.5ms)
Completed 200 OK in 89ms (Views: 78.7ms | ActiveRecord: 3.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$wYI1rcgPTDi1uXMfrFjLgOYFnmn/IdT6QsuwIj3AdPG26k83ZLCE."], ["created_at", "2018-11-18 23:01:36.122938"], ["updated_at", "2018-11-18 23:01:36.122938"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"E2aKmEby/C8WA3Ef/lGhdeIHmjJ4UKNpY6gECijAg6dUaKaTz9j/PgwurXXCXlYZ0Qk2KhsjPHGb6rGx1rHxQw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:36.392224"], ["updated_at", "2018-11-18 23:01:36.392224"], ["user_id", 332]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 536]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.8ms)
Completed 200 OK in 75ms (Views: 66.7ms | ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.2ms)
Completed 200 OK in 80ms (Views: 74.2ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$TQshuAuBTxU4X12uVLGtoOYVSfF2JUUBawc0VH4P6OnQ1fOiDoi7O"], ["created_at", "2018-11-18 23:01:36.734794"], ["updated_at", "2018-11-18 23:01:36.734794"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KDLmzUlA7EfY2UKGvDXCej6kE4qn8v99TuOAb/uDvwLxSQhRdP+Ikv5e5k1kECf7Wssa5yltMoBYiK1NLQFAkA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:37.004600"], ["updated_at", "2018-11-18 23:01:37.004600"], ["user_id", 333]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.9ms)
Completed 200 OK in 70ms (Views: 65.5ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KxJFoswZiTNBICBaweTTI8/5MsAUA0rKU/5hFEwcw58b6flhzcNE/LXdedh2v04di9ZNjzhNpUmLUKwG8hX+cQ==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.7ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 537], ["created_at", "2018-11-18 23:01:37.110079"], ["updated_at", "2018-11-18 23:01:37.110079"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 537]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.9ms)
Completed 200 OK in 86ms (Views: 81.0ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$urjwEx2h7P60CDBZddx7KewRGMkftwW/Elf1S7kJCiY22aJCPTRwG"], ["created_at", "2018-11-18 23:01:37.361421"], ["updated_at", "2018-11-18 23:01:37.361421"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"g1/IOfqeaaVJWxd+0/8VfrtzFPZpKTnNScFNGQAyBplGYGCHbpb1VslCVf3X18IuoGCpeDzNqtcFF+4GOhWeqg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:37.631721"], ["updated_at", "2018-11-18 23:01:37.631721"], ["user_id", 334]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 538], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 538], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 538], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (18.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.6ms)
Completed 200 OK in 97ms (Views: 91.9ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:01:37 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 538]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (5.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 81ms (Views: 74.3ms | ActiveRecord: 1.0ms)


  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dxU38IhEOxAKDRzzRj9gL.ZTpHRq03BqfHpNzhv4ELczCi0/9lvDm"], ["created_at", "2018-11-18 23:01:37.998638"], ["updated_at", "2018-11-18 23:01:37.998638"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 57ms (Views: 56.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"agGiTijVPsc2Utd7wNehb4c522mWb/PiK03Xg2MAa8aSxa+hEhWtseiCOlkdOkOTXNdIkLSRfVgEqEfEv9uggg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:38.296512"], ["updated_at", "2018-11-18 23:01:38.296512"], ["user_id", 335]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 539]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.6ms)
Completed 200 OK in 66ms (Views: 61.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 335], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.0ms)
Completed 200 OK in 75ms (Views: 67.7ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HVsx4y/hCxWkePvZecfBV.F5U1DMJKbY32Vp3EtPRgh7YTTR71WQy"], ["created_at", "2018-11-18 23:01:38.613450"], ["updated_at", "2018-11-18 23:01:38.613450"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 45ms (Views: 43.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"LpNRkXj4zhSOMr/52qsQd6U3IAx+4Ef40mlhWDNBi4XW0nY0bmXRkdZHJb1m2lM71u8mWH/kbyXDAgeSlgEt3g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 52ms (Views: 47.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:38.905662"], ["updated_at", "2018-11-18 23:01:38.905662"], ["user_id", 336]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.9ms)
Completed 200 OK in 70ms (Views: 64.4ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:01:38 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TF6fT/J39XBI8wLuG0zeguJSa1yaL0TJ6LKcKLz+jrvktQyAsI/XuI0q0dnRAxl7Pxes5SJEnWelqZgrUEtu1g==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.6ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 540], ["created_at", "2018-11-18 23:01:39.010946"], ["updated_at", "2018-11-18 23:01:39.010946"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 336], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 540]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.6ms)
Completed 200 OK in 69ms (Views: 63.5ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$BU4/EDQSleoCDA/Ty64RB.uCNPrPKzRp1W1VYbGZLAWpY0DN7uJLG"], ["created_at", "2018-11-18 23:01:39.250159"], ["updated_at", "2018-11-18 23:01:39.250159"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 50ms (Views: 48.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qcvtDp5arMzQfZDrwRrIEzK7dcRKV2bRSqoVZhqAhKhGZexRKVWiZUuxBZojQqrdPLyWMXzjReA/0WO13bgYew==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 180ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 337], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 337], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.7ms)
Completed 200 OK in 50ms (Views: 46.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:39.560274"], ["updated_at", "2018-11-18 23:01:39.560274"], ["user_id", 337]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 541], ["created_at", "2018-11-18 23:01:39.567208"], ["updated_at", "2018-11-18 23:01:39.567208"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 541], ["created_at", "2018-11-18 23:01:39.571327"], ["updated_at", "2018-11-18 23:01:39.571327"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 541]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 337], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 541], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (2.1ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 541], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 541], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (22.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.8ms)
Completed 200 OK in 105ms (Views: 94.7ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$BRDI5TDKB.Z4axzK7UKdj.3ltA6HrHPFLBE.QSzAEknEGvyHlqTX6"], ["created_at", "2018-11-18 23:01:39.850119"], ["updated_at", "2018-11-18 23:01:39.850119"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 55ms (Views: 53.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"8lWhSeN/QE+HuflbSmdETGTk339GoMuN5BgVpEZqdqAlgMKd7CiXO+BF19XkN3OHZVzXgMJr8ueO+oiMOGJo+Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:40.146159"], ["updated_at", "2018-11-18 23:01:40.146159"], ["user_id", 338]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 542]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 338], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 542], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 542], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 542], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (19.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.7ms)
Completed 200 OK in 95ms (Views: 89.8ms | ActiveRecord: 1.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$6e7SuF3nhxK4tDY38tXpVu.uu6u6ZBoDSsIHAc6mKAsTwPo344a/G"], ["created_at", "2018-11-18 23:01:40.404719"], ["updated_at", "2018-11-18 23:01:40.404719"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2GqE1GuFT+vCMyz82f4eB0lljzAqvGuvaEWr+C1RUQMXZQ+hzKUmfuiLaq+mNihKHr7Qo3J+/Ar45cAzEOE9ow==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:40.673644"], ["updated_at", "2018-11-18 23:01:40.673644"], ["user_id", 339]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 543], ["created_at", "2018-11-18 23:01:40.678344"], ["updated_at", "2018-11-18 23:01:40.678344"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 543], ["created_at", "2018-11-18 23:01:40.681708"], ["updated_at", "2018-11-18 23:01:40.681708"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 543]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 543], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 543], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 543], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 543], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (1.0ms)
  Rendered profiles/show.html.erb within layouts/internal (21.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.6ms)
Completed 200 OK in 106ms (Views: 98.8ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$m383PkejlQlxJ3kcwzRonO8pnvOv5QTmlpnpr0IM2BvrxCP8GsaLi"], ["created_at", "2018-11-18 23:01:40.962693"], ["updated_at", "2018-11-18 23:01:40.962693"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 48ms (Views: 47.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IO+2/Prwikzpm/Fiahr7flDuog0cqg6v/cI8ImTsAn6J9bpnrbw2q7VdXp/4Qhh2GD1fyry58V3ijdRnTzM3KA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:41.234344"], ["updated_at", "2018-11-18 23:01:41.234344"], ["user_id", 340]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 544]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 544], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 544], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 544], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (13.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 90ms (Views: 84.5ms | ActiveRecord: 1.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gFOx1YwUT4QaicQ1VhxO4uvXmmD0j3NiMY4bZqFnY9i.Wu2vCvwFe"], ["created_at", "2018-11-18 23:01:41.488036"], ["updated_at", "2018-11-18 23:01:41.488036"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NwfxhrZL+AjNzFCwViuFGY7e7m/UgGo2ifCb41LjDgia+jh8TsZIdqUJbw+AE3+e6QQtTCl+dCg08S9XxLCBFw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (11.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 54ms (Views: 50.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:41.765854"], ["updated_at", "2018-11-18 23:01:41.765854"], ["user_id", 341]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 545], ["created_at", "2018-11-18 23:01:41.770204"], ["updated_at", "2018-11-18 23:01:41.770204"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 545], ["created_at", "2018-11-18 23:01:41.773119"], ["updated_at", "2018-11-18 23:01:41.773119"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 545]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 545]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 545], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 545], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 545], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 545], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 545], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 545], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (27.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.2ms)
Completed 200 OK in 101ms (Views: 92.1ms | ActiveRecord: 1.5ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/8DZSF70nqeAjvIJuPD88uhGxRvkxz4OifD3M.NVw4rm6NSJJgJPi"], ["created_at", "2018-11-18 23:01:42.048663"], ["updated_at", "2018-11-18 23:01:42.048663"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Muo1ep2X5CM8etNI3KKbcG9ei2vCX0DzXGqTOb8n8RYCpCD1gnKbr+1ppQ1UCkyRYpljZ7sMi9pGahbthaj3Dw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:42.322962"], ["updated_at", "2018-11-18 23:01:42.322962"], ["user_id", 342]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 546]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 546], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 546], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 546], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (12.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.1ms)
Completed 200 OK in 90ms (Views: 84.8ms | ActiveRecord: 1.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EpiAg8cDZMQ6oSl7a1rvYeiUmxX.tzMtKslBMlFeKWyEkkt2MSmey"], ["created_at", "2018-11-18 23:01:42.583636"], ["updated_at", "2018-11-18 23:01:42.583636"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"g59TWSpxWdTO9wdFUzTRBnKy9Q258ixEPvoCDPouojy4eXSQWNNfLZgz/oat6o3JMOkwVPPo5mo+oTqn/N+nJg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:01:42.850918"], ["updated_at", "2018-11-18 23:01:42.850918"], ["user_id", 343]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 547]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:01:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 547], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 547], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 547], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (23.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.7ms)
Completed 200 OK in 99ms (Views: 93.7ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:06:38 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.6ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (5.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.7ms)
Completed 200 OK in 56ms (Views: 48.4ms | ActiveRecord: 2.4ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:06:39 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.0ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (8.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.9ms)
Completed 200 OK in 82ms (Views: 72.3ms | ActiveRecord: 2.0ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:06:41 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.5ms)
Completed 200 OK in 74ms (Views: 64.1ms | ActiveRecord: 1.5ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 21:06:43 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (14.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.5ms)
Completed 200 OK in 79ms (Views: 70.4ms | ActiveRecord: 1.3ms)


Started GET "/profiles/teste@gmail.com/medications" for 127.0.0.1 at 2018-11-18 21:06:56 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.5ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.4ms)
Completed 200 OK in 67ms (Views: 55.6ms | ActiveRecord: 2.3ms)


Started GET "/profiles/teste@gmail.com/medications/new" for 127.0.0.1 at 2018-11-18 21:06:59 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.6ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.2ms)
Completed 200 OK in 64ms (Views: 56.2ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:07:04 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.4ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (10.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.8ms)
Completed 200 OK in 80ms (Views: 69.6ms | ActiveRecord: 2.3ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 21:07:22 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (2.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (3.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (11.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.4ms)
Completed 200 OK in 97ms (Views: 83.8ms | ActiveRecord: 5.2ms)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$JZAkoTvRMzqkghz081jDW.UCTvx3czZwSEbImsQ5PsSiwEv/wqbZe"], ["created_at", "2018-11-18 23:08:57.643501"], ["updated_at", "2018-11-18 23:08:57.643501"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:08:57 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (7.5ms)
Completed 200 OK in 374ms (Views: 359.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:08:58 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Mu28qtF55NPLGR6xiiDxbridmivKQLxgVy8fHoM5b1ukYbLA6tZ1JcKrvnN3y5hjVs8omaWnlaUk7kxXQfQKgA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (8.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 207ms (ActiveRecord: 8.2ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:08:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 68ms (ActiveRecord: 4.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:08:58 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (168.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (99.6ms)
Completed 200 OK in 310ms (Views: 284.0ms | ActiveRecord: 3.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:08:58.700489"], ["updated_at", "2018-11-18 23:08:58.700489"], ["user_id", 344]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:08:58 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (6.8ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 548], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (2.1ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 548], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.2ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 548], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.5ms)
  Rendered profiles/show.html.erb within layouts/internal (101.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (121.0ms)
Completed 200 OK in 269ms (Views: 242.4ms | ActiveRecord: 15.3ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:08:58 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.6ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 548]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (8.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.5ms)
Completed 200 OK in 110ms (Views: 91.8ms | ActiveRecord: 3.7ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$C2XE2xBD0eaNHhtdpeDzv.WFf937FZ/xzrAD4.NvzNVXDIL93vboS"], ["created_at", "2018-11-18 23:08:59.284271"], ["updated_at", "2018-11-18 23:08:59.284271"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pGvjyqwZ1tct+1mlFoXQVoWGSnDI1yfISPeOcptxencTaZ/NNS8IZwXAHpl073TiMbI8l6Z8Urudxe7dyt3T1w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.6ms)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:08:59.557812"], ["updated_at", "2018-11-18 23:08:59.557812"], ["user_id", 345]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (2.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 549]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 98ms (Views: 77.5ms | ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.4ms)
Completed 200 OK in 78ms (Views: 71.0ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.UA8F9QBxziIrIlZUzEY1.PRoBXZKnMpRejlLcmI4roDv2G17MEOe"], ["created_at", "2018-11-18 23:08:59.932398"], ["updated_at", "2018-11-18 23:08:59.932398"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:08:59 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 59ms (Views: 57.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YEUvlnamaKt8uMYytGW/zuzFoib1r/W1rKSXwSkKdsm6BZAStkF9hLH6P+kqQ1QSg4xg5mYu76MGsoljkAJgrA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.1ms)
Completed 200 OK in 44ms (Views: 41.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:00.231630"], ["updated_at", "2018-11-18 23:09:00.231630"], ["user_id", 346]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.9ms)
Completed 200 OK in 77ms (Views: 73.0ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jue754chI98CtYSHqiK0OuUmiuZfYpDsVcWoI0cboA7A60htG0DlFbwsyN4w4yaAkAOyejCKFWxVNYzekVDxaw==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.5ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 550], ["created_at", "2018-11-18 23:09:00.338496"], ["updated_at", "2018-11-18 23:09:00.338496"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 14ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 550]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 74ms (Views: 68.7ms | ActiveRecord: 1.0ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0pdfhS7anC24tFdUpK0qZ.udyuIR3UZeF6E5sJmNvU4k.2Q2mym0u"], ["created_at", "2018-11-18 23:09:00.579388"], ["updated_at", "2018-11-18 23:09:00.579388"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bcq/bueBZVXolHQytUDe4eyLV5SynFZMOO/7smt5dwMECGcfQQlMa7CgtJH8rbmcQ46p9UVP/dLStBNhxIK51Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:00.848833"], ["updated_at", "2018-11-18 23:09:00.848833"], ["user_id", 347]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 551], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 551], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 551], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (11.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.5ms)
Completed 200 OK in 82ms (Views: 77.6ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:09:00 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 551]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (5.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.1ms)
Completed 200 OK in 86ms (Views: 76.2ms | ActiveRecord: 2.5ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WEzmyGL/ciU3C97FoJJp9OSSlGgHU6UsWu9UBHI64trfXmuznR3V6"], ["created_at", "2018-11-18 23:09:01.194804"], ["updated_at", "2018-11-18 23:09:01.194804"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 54ms (Views: 53.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+UmRrXqFcak9m9UzQBKausFu89wHqb0mnXfxh/a1hvmJT+ZChuIMEc+YZ2SVbc2PlF6KjQGk+754ZGhhkRpUcg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 160ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:01.479931"], ["updated_at", "2018-11-18 23:09:01.479931"], ["user_id", 348]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 552]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 76ms (Views: 71.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (88.9ms)
Completed 200 OK in 108ms (Views: 102.3ms | ActiveRecord: 0.5ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$g7h1LzGlAwT6ULgh2M67BOPJuUxGJLyJLnw36l3cR3qPCSQQKFHnK"], ["created_at", "2018-11-18 23:09:01.830363"], ["updated_at", "2018-11-18 23:09:01.830363"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:01 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6JXzV/7Q9nYHPLXE5mHkp/nB8UFhR9sJLAanUM7KYS9eSVRHZ2Mbx7S5UOwVrrrvOzQ8lRWJhYKW4wPWMUY2kQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:02.095513"], ["updated_at", "2018-11-18 23:09:02.095513"], ["user_id", 349]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 63ms (Views: 58.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"D5JtBRXm3b4331c2VOS1VLAPyuQH64pY4LKTw80A88FI14BgPMGEIy+SrtTSfoyTRu4rXtMxXZSfbf/ab9ydxw==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 553], ["created_at", "2018-11-18 23:09:02.201778"], ["updated_at", "2018-11-18 23:09:02.201778"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 17ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 553]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.9ms)
Completed 200 OK in 68ms (Views: 63.3ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$yszJX4UolcQPI0POs23JYOdEMgTvbk.LXLm3pzOC1SPdYHlJQXsCy"], ["created_at", "2018-11-18 23:09:02.435094"], ["updated_at", "2018-11-18 23:09:02.435094"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0NrTUXQjCkYr6w3SaKbIAReNXzg3KjQImLHRRu2wXjcxUEst2QXpqa4LaDSVmPCcSo1JQUBsVq77Jur6EAnrAQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.3ms)
Completed 200 OK in 53ms (Views: 49.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:02.729103"], ["updated_at", "2018-11-18 23:09:02.729103"], ["user_id", 350]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 554], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 554], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 554], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (24.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.5ms)
Completed 200 OK in 94ms (Views: 84.2ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:09:02 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.9ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 554]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.6ms)
Completed 200 OK in 86ms (Views: 70.0ms | ActiveRecord: 4.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$CwfqgYhNOYkDj12GMeIZseWuBmuYEBTEHDo/XX1MUdHipjlzqjub."], ["created_at", "2018-11-18 23:09:03.090128"], ["updated_at", "2018-11-18 23:09:03.090128"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 51.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"z41q85F9OlBfn4hROMGnkawQMXDTkKYHkCViBUdQK7FkHaio9QLMk/FxjFRW62A18xaDF1PXKf/I4KFlJQUD8A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 351], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 351], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:03.382576"], ["updated_at", "2018-11-18 23:09:03.382576"], ["user_id", 351]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 351], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 555]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.1ms)
Completed 200 OK in 71ms (Views: 66.0ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 351], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 72ms (Views: 65.5ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gD4SfsPVRENLyfFsINlpwO6t1BpL4s5i6r.MA03HcQNy3fBRKoHsW"], ["created_at", "2018-11-18 23:09:03.699212"], ["updated_at", "2018-11-18 23:09:03.699212"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ri4QjULf1bsCrIznigB4ZGGQm7suJLi0Wyd2BWsQwwEdpRho6+CGMkJuPskmXtvyq2YmrplzbECIF1MYpWsxyA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:03.986719"], ["updated_at", "2018-11-18 23:09:03.986719"], ["user_id", 352]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:09:03 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.1ms)
Completed 200 OK in 74ms (Views: 66.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NZrD21zujXJC4TQone7m63LQI7G050Bm0sVzMMjEoVTYXRLsAfqy2zvohkdHc8vtTLg5Fvic1nVOFszaSG2S0g==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"09"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (0.8ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 21:09:00"], ["fasting", true], ["profile_id", 556], ["created_at", "2018-11-18 23:09:04.117675"], ["updated_at", "2018-11-18 23:09:04.117675"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 24ms (ActiveRecord: 4.5ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 556]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (6.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.4ms)
Completed 200 OK in 67ms (Views: 57.9ms | ActiveRecord: 1.0ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$f3SRDMT0sB87ASjqA8VDzu1F2OjBnyUksb9.VHx9R/8H8U0/4uauK"], ["created_at", "2018-11-18 23:09:04.359693"], ["updated_at", "2018-11-18 23:09:04.359693"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"s0f1KhVD+a67wIp93BQorkqdHTvgDLPSzvkG8ShIBU/EfnXXbX4bj4STuEXwhjPgTT0xzk30HUBm0YlgxmgPxQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 353], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 353], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.6ms)
Completed 200 OK in 60ms (Views: 56.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:04.642920"], ["updated_at", "2018-11-18 23:09:04.642920"], ["user_id", 353]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 353], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 557], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 557], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 557], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (24.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.5ms)
Completed 200 OK in 96ms (Views: 87.5ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:09:04 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 353], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.6ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 557]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.5ms)
Completed 200 OK in 84ms (Views: 70.2ms | ActiveRecord: 3.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$80yQyBUiPlO4ddepoeNTJu8w1m6bRiSqKmRsA3RFSw7CAmzzWMyj6"], ["created_at", "2018-11-18 23:09:05.014705"], ["updated_at", "2018-11-18 23:09:05.014705"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 50ms (Views: 49.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BuxxJ7GAuOlur3Ko5vajNP/Mpea5qD9OPRvy/9+UgSMDtq/K0Sg8lvj3jWdTwQpFrN6POx599B/yEtc5P/V9rw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:05.290617"], ["updated_at", "2018-11-18 23:09:05.290617"], ["user_id", 354]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 558]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.8ms)
Completed 200 OK in 65ms (Views: 59.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.6ms)
Completed 200 OK in 75ms (Views: 67.3ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$pCZRAtBeMUzcQrUhN1M.0u.C3p6dO/R59T/TGJDUv6BV87ECmBHoC"], ["created_at", "2018-11-18 23:09:05.600277"], ["updated_at", "2018-11-18 23:09:05.600277"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"O7IAeFYPMT4zBXyDOIe/VPke9EsSTGmQPt5fGu4Vd9+8ueiW3+5JiaeHRpqYeQFoXpejxfMkUAprxRlQAJmErQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 45ms (Views: 41.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:05.867190"], ["updated_at", "2018-11-18 23:09:05.867190"], ["user_id", 355]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.0ms)
Completed 200 OK in 84ms (Views: 79.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AS8cjIVBIQ3v1gqD5nh1uHiCP2S/iPZTsY9T45XF/lmKVS2jCg7bnVTScJY1WSWoBzOjxjgrKAa6zhKV7NtLWQ==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.7ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 559], ["created_at", "2018-11-18 23:09:05.980453"], ["updated_at", "2018-11-18 23:09:05.980453"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 13ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:09:05 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 559]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (14.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 90ms (Views: 83.1ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$m79ptPYtrlXNpDEH4uyANuGKIr3.E9.5Je7E.vQLEBk/GsWIq8Fva"], ["created_at", "2018-11-18 23:09:06.231716"], ["updated_at", "2018-11-18 23:09:06.231716"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"i14f4akIc1JpD3c4zS1Zu/hMC6QIstTY5xZncrYNque5L9H+FKNlFj3LH/Oe38qhSzlIrTpvqzRD2pFtF0DFNA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:06.497995"], ["updated_at", "2018-11-18 23:09:06.497995"], ["user_id", 356]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 560], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 560], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 560], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (16.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.0ms)
Completed 200 OK in 95ms (Views: 87.3ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 560]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.5ms)
Completed 200 OK in 81ms (Views: 71.2ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$v223LvA7YAiCjcH7h51iaO9EFrFbXt0QquwZPcmkrTezN4whgbm1i"], ["created_at", "2018-11-18 23:09:06.841468"], ["updated_at", "2018-11-18 23:09:06.841468"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 53ms (Views: 52.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qjio+NjtvRapkG29T+r+ItkUbup4x8GomXuK2wS04th7h4fG+R1TeU8k+1a6ua+giZYV08njcl5wTW+warRQkA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.9ms)
Completed 200 OK in 51ms (Views: 46.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:07.137699"], ["updated_at", "2018-11-18 23:09:07.137699"], ["user_id", 357]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 561]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.3ms)
Completed 200 OK in 86ms (Views: 75.5ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 357], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.5ms)
Completed 200 OK in 74ms (Views: 66.0ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$LTbie.QTkxCm0Ah9N9oVqeVpsDmmUa8VIwLI4lVqGHsKnLGUltKLu"], ["created_at", "2018-11-18 23:09:07.467677"], ["updated_at", "2018-11-18 23:09:07.467677"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BZgqQzQC/TUyRa4YJHDc/bNixpIeDam2wTWV/DHfiMHnt3hgg6I7cElH69z5grPjdvNLw9zLtBfmHuaj1dOtnw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 45ms (Views: 41.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:07.733702"], ["updated_at", "2018-11-18 23:09:07.733702"], ["user_id", 358]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.0ms)
Completed 200 OK in 66ms (Views: 61.5ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"YTEdGha2LHyrjJrdKv8GgQRQiO1/iZIseNBwiJdindLiUi2c5qemH8Y/5M5nZ8DtLuAGeo+xX3GR+oWRR28tQg==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 562], ["created_at", "2018-11-18 23:09:07.835755"], ["updated_at", "2018-11-18 23:09:07.835755"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 17ms (ActiveRecord: 4.2ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:09:07 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 358], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 562]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.7ms)
Completed 200 OK in 75ms (Views: 69.5ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$MZccxSsULi2HPqHoCm5YOeFEmOxLLlIjkFnSP.4iLpHr2YL0aqL5S"], ["created_at", "2018-11-18 23:09:08.076910"], ["updated_at", "2018-11-18 23:09:08.076910"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 50ms (Views: 49.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UoepxXFA3S3vQJeZO6GYKiLh9ludrUUp++CtxmylRHrQ+lbl3y28AbFYSBpD+UrZYVDhntYEiWbx+EUc5BxUug==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.5ms)
Completed 200 OK in 53ms (Views: 49.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:08.361712"], ["updated_at", "2018-11-18 23:09:08.361712"], ["user_id", 359]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 563], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 563], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 563], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (20.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 94ms (Views: 88.5ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 359], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.7ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 563]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (8.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 89ms (Views: 72.9ms | ActiveRecord: 4.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$R7eDhl483VOayse6nH.6OOhF3kY9lIleI/cWP7OEZFTwH88UxorUq"], ["created_at", "2018-11-18 23:09:08.717195"], ["updated_at", "2018-11-18 23:09:08.717195"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Jf+PdjcKt4fsEuTWMJblmnWX/m5YEUA0bHMtEnNqAJIPAdO4yoEC0hry9O0ZkAETIe2p2tO+zXivi143LqpUxw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 360], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 360], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:08.985365"], ["updated_at", "2018-11-18 23:09:08.985365"], ["user_id", 360]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:09:08 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 360], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 564]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.9ms)
Completed 200 OK in 65ms (Views: 60.2ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 360], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.2ms)
Completed 200 OK in 81ms (Views: 73.5ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1HjLk8riHN8LzNIjxrXQ9e178fSNDov9X2hXNnfZbVfzM.vpA/fR2"], ["created_at", "2018-11-18 23:09:09.303775"], ["updated_at", "2018-11-18 23:09:09.303775"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 53ms (Views: 52.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SXaDfYQlNx+xpr63eGLKs49WSFstPFe6cD4sy0DbRdOaZyhbFMXTMc7+I1rHgGn4kGqGgIecpYY5CO+P3KJqfw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:09.601125"], ["updated_at", "2018-11-18 23:09:09.601125"], ["user_id", 361]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.9ms)
Completed 200 OK in 73ms (Views: 69.3ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"s3rOSR0wfbMBQtkOe/vXoEl2eUSL2fMIM9SKrS1Nd0yTvHl3+21Gr1jkDXzddJneZEAJ7N/TChFUVYnDyfgA7Q==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (0.5ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 565], ["created_at", "2018-11-18 23:09:09.710190"], ["updated_at", "2018-11-18 23:09:09.710190"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 13ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 361], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.7ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 565]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.9ms)
Completed 200 OK in 75ms (Views: 69.1ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$BoRsZJB4.rrnGcJMD9HOM.US15JPu/EX3pfYsOJ4rKW84Op9ShJTy"], ["created_at", "2018-11-18 23:09:09.948283"], ["updated_at", "2018-11-18 23:09:09.948283"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vsQnutsV9ShZLQqyrlAGHp8hbYaCCfrTrQcJUDE4aRuotJG5UtvwQtvi7LI/OTNVyr2egD8Mn/+HNVd+Se2mOg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.9ms)
Completed 200 OK in 45ms (Views: 41.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:10.215421"], ["updated_at", "2018-11-18 23:09:10.215421"], ["user_id", 362]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 566], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 566], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 566], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.2ms)
Completed 200 OK in 82ms (Views: 76.3ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 362], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.5ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 566]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (13.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.3ms)
Completed 200 OK in 93ms (Views: 82.8ms | ActiveRecord: 2.6ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$M2NDHu2ObPzkxxh.ElTl4OdnRzbAXBYh5HQOPwelDlRprL0t2nFwi"], ["created_at", "2018-11-18 23:09:10.567706"], ["updated_at", "2018-11-18 23:09:10.567706"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 57ms (Views: 56.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GuGc7JafjM/EsUEi2yWRrVht6zzW5axl8QOt8UDneG8XJa3/p0gLCLJ1vwO8cePby96gLprfXCXm8ifLFu4BGQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 43.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:10.860191"], ["updated_at", "2018-11-18 23:09:10.860191"], ["user_id", 363]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 567]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 75ms (Views: 67.5ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:09:10 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 363], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.0ms)
Completed 200 OK in 81ms (Views: 76.7ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3WhLjGB5I8pF/LPiBpiua.UdbUIJ77K4BuTSgM0J/KfD8E2Pjo/nK"], ["created_at", "2018-11-18 23:09:11.188970"], ["updated_at", "2018-11-18 23:09:11.188970"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jyGx1KihGUBof+ckLjiJhwndMlrA7jF2QfKq8HuoaYOg3WLXXPEK/GwKL9u89UIPGEAu53Fqsl4AbKtjQPkU1w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:11.463414"], ["updated_at", "2018-11-18 23:09:11.463414"], ["user_id", 364]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 61ms (Views: 57.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UeU0J3OIA1cXl7f4J6Y3di0huddC3Zo8TEW1kYDExcZaWOM1dCOgIXuKSAospYzB7xtF+l/wDu3lJS6RDhk3hQ==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (0.6ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 568], ["created_at", "2018-11-18 23:09:11.577684"], ["updated_at", "2018-11-18 23:09:11.577684"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 18ms (ActiveRecord: 3.8ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 364], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 568]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 79ms (Views: 69.6ms | ActiveRecord: 1.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$in9OzdSFPNo808MddmJKHOcxkU5Hu/.3N7RdL3s7McaHe3dk88txq"], ["created_at", "2018-11-18 23:09:11.821359"], ["updated_at", "2018-11-18 23:09:11.821359"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"afXTSv8uJrxdahGlLNavd1cZzG+qW5gKU/m7a+JHJPKVkZMYs5scX64NDGAsq3NGsDeXgCC5wY/OFkWNWwKBeg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:12.091079"], ["updated_at", "2018-11-18 23:09:12.091079"], ["user_id", 365]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 569], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 569], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 569], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (21.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.0ms)
Completed 200 OK in 95ms (Views: 90.2ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.4ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 569]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.3ms)
Completed 200 OK in 84ms (Views: 74.7ms | ActiveRecord: 2.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$nJIZzSmOusWSVHJhc520UuQ3Hd.gjZF3gOUqeIuniUe7Z9PJvwuCq"], ["created_at", "2018-11-18 23:09:12.439366"], ["updated_at", "2018-11-18 23:09:12.439366"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 51ms (Views: 50.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pqfQG3hbqY/S46zDLV7+MAue3iOpWPEZquj4mIAdrrdS/5MncbgXyf1+5KDmcZbmXoFuwV80AtUST71tP7rplw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 47ms (Views: 44.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:12.726231"], ["updated_at", "2018-11-18 23:09:12.726231"], ["user_id", 366]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.4ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 570]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.3ms)
Completed 200 OK in 69ms (Views: 61.5ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:09:12 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.9ms)
Completed 200 OK in 76ms (Views: 71.5ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.cq4wGAUtT3aAcQKPw7JfOdHrO9D.jrgvFxk6Q7b93099XQou7GhK"], ["created_at", "2018-11-18 23:09:13.043074"], ["updated_at", "2018-11-18 23:09:13.043074"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 50ms (Views: 48.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OBfphMCuxJUvFM2b/zNb5S9eExKlkZMfzlROQS/0xdeyfVlsASAbGHCOrN0nQ3bNu3oyDIGO+ZFVKhNjmA8bBg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:13.332393"], ["updated_at", "2018-11-18 23:09:13.332393"], ["user_id", 367]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.2ms)
Completed 200 OK in 69ms (Views: 64.7ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"buOB3Aoou48hyX6RF/tt+WtzutI9FaDs370DmgAGjzaO0UCjV2Ym1EbQAQrVAqVH2MXyVDo1GgLsmjzk9C/b8g==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.7ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 571], ["created_at", "2018-11-18 23:09:13.442633"], ["updated_at", "2018-11-18 23:09:13.442633"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 21ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.4ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 571]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.2ms)
Completed 200 OK in 83ms (Views: 72.1ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$rlYoQGTqbj7yXLlv3Ini5.VCcjjzdqq6ZPhBO4TWjwInZcTbrjI7W"], ["created_at", "2018-11-18 23:09:13.690333"], ["updated_at", "2018-11-18 23:09:13.690333"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZQzxmiW2f3MHkyAdxCXAtuktOyle/3ahtVaqss15gOBfFMcMYb8XGXMwo2lGwf0kFhyeExyqTIx7VhOXae7GQQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:13.957326"], ["updated_at", "2018-11-18 23:09:13.957326"], ["user_id", 368]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 572], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.4ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 572], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 572], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (18.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.5ms)
Completed 200 OK in 92ms (Views: 86.3ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.8ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 572]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (10.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 89ms (Views: 78.4ms | ActiveRecord: 3.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Ml9SlnrKkcuoaRLcxaTHbORrX7RzrMFXgVfwSApZwCtbfCW0kJvyq"], ["created_at", "2018-11-18 23:09:14.306133"], ["updated_at", "2018-11-18 23:09:14.306133"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 43.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VTUGc7XoO+ArDZ67v0ikp2fg7yyJGLt9YBL18fVxqIntvYq2fMCzT6asCL2vU/i6t2/dPCbljCyfBRyhbEymXg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.4ms)
Completed 200 OK in 55ms (Views: 52.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:14.598649"], ["updated_at", "2018-11-18 23:09:14.598649"], ["user_id", 369]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 573]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 78ms (Views: 71.5ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (6.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.6ms)
Completed 200 OK in 83ms (Views: 78.6ms | ActiveRecord: 0.5ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1wvd9Nd4PvO.d9iD.G8WTeHss0x8SEMFGAlWqSPq64pb.XISrpL8S"], ["created_at", "2018-11-18 23:09:14.932708"], ["updated_at", "2018-11-18 23:09:14.932708"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7h6/mgJVJ/+AgugwrWjxYa7luzZiOZFAaXb6Dveu46RNczGKaDIP759WI2016ROeJdtq362z80161x96eTSQ/w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 370], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 370], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:15.200605"], ["updated_at", "2018-11-18 23:09:15.200605"], ["user_id", 370]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$StVckZaImcwTUJMRq/TwmOFxk.4cZJjfmTRolHV7gr9wCf2FUqjPm"], ["created_at", "2018-11-18 23:09:15.355690"], ["updated_at", "2018-11-18 23:09:15.355690"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KMNiy4dXylQcH1SaWKfZnecQbLvQHm1BbbJAQjg9H5l9as3GrDW+qcfyiHqGofxFCqyJGweDMffuQcSz9P7pDQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 1.1ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.4ms)
Completed 200 OK in 57ms (Views: 51.5ms | ActiveRecord: 0.6ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:15.676223"], ["updated_at", "2018-11-18 23:09:15.676223"], ["user_id", 371]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 575], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 575], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 575], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (14.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.9ms)
Completed 200 OK in 90ms (Views: 85.1ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:09:15 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.5ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 575]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.1ms)
Completed 200 OK in 82ms (Views: 72.6ms | ActiveRecord: 2.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HLG3Uc45zBd2xMme1zDxe.OUQYjj8bmEq/NpS/7Zx3SDT8uJD6QKC"], ["created_at", "2018-11-18 23:09:16.019010"], ["updated_at", "2018-11-18 23:09:16.019010"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"FPl7pkEBUVzebnh0FufPx3qHIZmmBwVUR0pMgFVzwZWEmuxfOD5Xzf4QMYhYi9Wj8tEwCEIJFzqnTg4N5nmG7w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:16.286088"], ["updated_at", "2018-11-18 23:09:16.286088"], ["user_id", 372]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 576]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.4ms)
Completed 200 OK in 53ms (Views: 48.4ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.9ms)
Completed 200 OK in 76ms (Views: 69.2ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dIWz7dZ5DPaioFaPnql6UeambOYG3TkZkNp1nISjoLzk49MaYedF."], ["created_at", "2018-11-18 23:09:16.592724"], ["updated_at", "2018-11-18 23:09:16.592724"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 54ms (Views: 52.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kG/7Bub21oLCXi1H70u9hpSqWKJszKxX6UmeSiU9fnUweF2WLPcYNrIw6cuyMJENosobg0lnVbTOcvvU5YD7mA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:16.872232"], ["updated_at", "2018-11-18 23:09:16.872232"], ["user_id", 373]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.8ms)
Completed 200 OK in 72ms (Views: 67.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yr4GB9CmemY8FOkYFoDDbmJJlPrVPA8W2oFlda/JpcLjml1ODAB3i8DgcEZyIzGP2Ou32ow91rnjSG83hA1PTg==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"09"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.8ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 21:09:00"], ["profile_id", 577], ["created_at", "2018-11-18 23:09:16.990895"], ["updated_at", "2018-11-18 23:09:16.990895"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.6ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 18ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:09:16 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 577]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (8.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 85ms (Views: 75.8ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$XshiU83hwSL/Y8ESShdQueMsbX.yYdMk2wypUwVQ9WeczD9Ct7PVW"], ["created_at", "2018-11-18 23:09:17.272084"], ["updated_at", "2018-11-18 23:09:17.272084"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rF/UR78Hv8ad9pM83bshw31ZWqrE4LAEKXZG95mYj6gPNbLZJowh9thCbSLqXN88dF4FUA54rX1lAYmN/kYYqA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:17.539524"], ["updated_at", "2018-11-18 23:09:17.539524"], ["user_id", 374]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 578], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 578], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 578], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (17.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.7ms)
Completed 200 OK in 98ms (Views: 86.3ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 578]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.8ms)
Completed 200 OK in 83ms (Views: 72.8ms | ActiveRecord: 2.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$AyQTok7QUGpZaQ5tpOO0R.KFPOgDr/sVPFx4bzS.M/BpLc8BUIY5G"], ["created_at", "2018-11-18 23:09:17.893996"], ["updated_at", "2018-11-18 23:09:17.893996"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ft49NcCH1n0jqsigBNWOKngblAgGPowPR86+Y7utXvjkVum6Kimo8nSB05CCIpnvpO6Lwv2cKainZRk+14IKFw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 46ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:18.164301"], ["updated_at", "2018-11-18 23:09:18.164301"], ["user_id", 375]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 579]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 57ms (Views: 52.0ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 78ms (Views: 68.7ms | ActiveRecord: 0.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YWLf/7r5.Am9DVX7gvfC3uHZ/A6G4uwuHHW7JI6EH7PN0iQ//KVWG"], ["created_at", "2018-11-18 23:09:18.473833"], ["updated_at", "2018-11-18 23:09:18.473833"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 52ms (Views: 51.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"35NVc3ewq6YEVNu2RtBO33Fz8/BYLvFm3pMZmObrfXsV2BsJaMnou/fwhlJPq8/w3Ak4U/u6Yhb0i4tw6lzCcw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:18.755305"], ["updated_at", "2018-11-18 23:09:18.755305"], ["user_id", 376]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.3ms)
Completed 200 OK in 73ms (Views: 64.6ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OguRMnk7wfSCGgPUbDj91htnJR4mDENxXXVQwKVc9QxL15TZm8L81Z/KOdDkM3xbxWUTWml1jqDDd2Ak83xOwg==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (0.8ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 580], ["created_at", "2018-11-18 23:09:18.880156"], ["updated_at", "2018-11-18 23:09:18.880156"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 28ms (ActiveRecord: 5.2ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:09:18 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 580]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.0ms)
Completed 200 OK in 74ms (Views: 65.3ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$MZ1KQMcZIpVWRbUofOr7GuK/9ownsjF0Bv7pBWVUzcv224BZhqMQa"], ["created_at", "2018-11-18 23:09:19.134109"], ["updated_at", "2018-11-18 23:09:19.134109"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PX3D5zrIsgX0/nBL9LkkFjJE8oXiZVAA516+Tyq70Zbk0iHYjuucOmd18o8xydUdsNOCF/c+tETJcRGiS2hDuw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:19.405959"], ["updated_at", "2018-11-18 23:09:19.405959"], ["user_id", 377]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 581], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 581], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 581], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (10.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.5ms)
Completed 200 OK in 96ms (Views: 90.4ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.5ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 581]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.9ms)
Completed 200 OK in 90ms (Views: 81.0ms | ActiveRecord: 2.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vK0j2hUj3lBPIPoqQ96M1.ZwsERSl319KTWWhO/iZgulH8GcrRrd6"], ["created_at", "2018-11-18 23:09:19.766817"], ["updated_at", "2018-11-18 23:09:19.766817"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QdD+l6w5XWqloLoto94IsNMcu1wpcKeVxto+/zXtXWKPxQ5R6t9exxkB4WxxqJTqkZCKwGUIlvvl0o36qync5A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:20.034175"], ["updated_at", "2018-11-18 23:09:20.034175"], ["user_id", 378]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 582]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.2ms)
Completed 200 OK in 67ms (Views: 62.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.8ms)
Completed 200 OK in 71ms (Views: 65.2ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Vketlb2mtOKJPiTbuNXWfelguSMyUA0AqLppgEToHMXeVMBLVEXjC"], ["created_at", "2018-11-18 23:09:20.347958"], ["updated_at", "2018-11-18 23:09:20.347958"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"o0Car3SGIWFEXuWqBAhSllPMOa7tSSh8nKQvywBQmrlQHznQkkeP1smi9sw25kcAVZGokSmvsiQ167Mh51px3A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.0ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:20.626242"], ["updated_at", "2018-11-18 23:09:20.626242"], ["user_id", 379]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.2ms)
Completed 200 OK in 70ms (Views: 62.6ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QK48UIEsGbGMbN9e9zzJXM5YE0WyhC4wrlCje4k6oEOKeFQt8NwFd6O+4jgaFANrdEcGFciLEkiKRpryFV7ERw==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.7ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 583], ["created_at", "2018-11-18 23:09:20.733034"], ["updated_at", "2018-11-18 23:09:20.733034"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 18ms (ActiveRecord: 3.3ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 583]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (4.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.7ms)
Completed 200 OK in 78ms (Views: 68.6ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 75ms (Views: 70.1ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:09:20 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 78ms (Views: 76.6ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.8ms)
Completed 200 OK in 115ms (Views: 109.3ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 86ms (Views: 85.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (8.2ms)
Completed 200 OK in 84ms (Views: 83.3ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"z3BPIunCnsDgA4bL/hin2qnnL6ZKNvQA2awceEPGrxGkxogEFzfQl1EMniODU113NHg3YT0hv0H9v86DgmMU3A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Lq1blr2UHEgjo.UPNEVkx./9R3Djn10CnygsnG42g1eFsgqxq8wtS"], ["created_at", "2018-11-18 23:09:21.687891"], ["updated_at", "2018-11-18 23:09:21.687891"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:09:21 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 76ms (Views: 75.3ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$F3bvShK37FRAUilYoo6iQeLBs5kHGegLeu6apHvFNqNRrmGzvRAaK"], ["created_at", "2018-11-18 23:09:21.999466"], ["updated_at", "2018-11-18 23:09:21.999466"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QyBlk0oJn485qfheTZ2zpFSffofjZy95Jg/9/g3Mduc3XGAQVIAf5r3+USXHHlXKVj9TGhC1I0sUmHS8rOuTqw==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 195ms (Views: 42.6ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WORGNzqMJqoabGfWVY4wc.3q4AY.i9IHofj2BHBX2mTTPPcDsH15."], ["created_at", "2018-11-18 23:09:22.358695"], ["updated_at", "2018-11-18 23:09:22.358695"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 57ms (Views: 56.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"lTLk73U12KOvep1v2YoPrkwtSsO4FwEljLAmOrJQ+jczVrjULEoLR5Mr5UVbFmq8ZZtqH9UCJxyZNxT4DfnQ/A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 173ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 52ms (Views: 47.4ms | ActiveRecord: 0.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$awTNWdm/uGS90Vvym2NJHupWju25oNuWiJj26KFnoBGvKRcHaZ3qa"], ["created_at", "2018-11-18 23:09:22.813707"], ["updated_at", "2018-11-18 23:09:22.813707"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"aaJxDyzq8dh/a5jaQPgXAtTJiAXKie8FVLfm91ah2pCZ/KlWuLwytWpIJmY5Nb54S9PCQGCBdBpVs3C7Xwx1sg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.8ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.4ms)
Completed 200 OK in 71ms (Views: 66.7ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qfubeej9Iu3e6N8I0qmqNcVUIDobxKT/2bjkZ/Jzx3qrfnP8WvCtPVSo4Ixr33g/zt7AHsfA/uxD0Y7et5E68A==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.9ms)
Completed 200 OK in 74ms (Views: 67.8ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$al2k57aDuq8FECpHpw9PWOZmVOgKEX/OijtrBlwU9wpNvosI.6hc6"], ["created_at", "2018-11-18 23:09:23.425769"], ["updated_at", "2018-11-18 23:09:23.425769"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DgCmEZHrnDOj9NBkdByc0b81adWfwveUA9Yj7Q4yV4imYzia/fc0REG3DdDc9ha5hAEBhPJ1NQ23Le59y+t06g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.0ms)
Completed 200 OK in 71ms (Views: 67.0ms | ActiveRecord: 0.4ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yn9STQc8octBecePUMqbs+SUznWTihDZqZ7zf4xQUDi9v6j9rDGHzxfmBxk5B54A9C9h9DlsZ7g5jnnLo7ndag==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 23:09:23.819967"], ["updated_at", "2018-11-18 23:09:23.819967"], ["user_id", 384]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 584], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 584], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 584], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (21.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.8ms)
Completed 200 OK in 89ms (Views: 82.3ms | ActiveRecord: 2.1ms)


  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GBjMS7epSDhaFIXfOFGXu.fBCi2sfVz64JPr7J8hqZ6DASDzzJhSK"], ["created_at", "2018-11-18 23:09:24.074034"], ["updated_at", "2018-11-18 23:09:24.074034"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"mLQ86wqW0jlNsGyNlvoFBK8w01VQAb/82DiSe1yBKl5CyyYixT/Xspehjl+gRgP/SEeTmLF0kPs4T8Dm94TmBQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.4ms)
Completed 200 OK in 54ms (Views: 50.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:24.351267"], ["updated_at", "2018-11-18 23:09:24.351267"], ["user_id", 385]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.6ms)
Completed 200 OK in 82ms (Views: 75.3ms | ActiveRecord: 0.6ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ZmljEKs+oX9ACpBfJCQRZP65wMq/+dSZMVYuWhmK2Yoc1VmS5DzPtJiYIYKHesfpFUs0H9yZbsoMRi2iVPslKQ==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 585], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.5ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 23:09:24.468678"], ["id", 585]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 86ms (Views: 73.1ms | ActiveRecord: 2.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$WZOLUd.6m2kijYxPyqMWee2wTwIjpfiKNYNzhceUUpmaS65bUs6bi"], ["created_at", "2018-11-18 23:09:24.711433"], ["updated_at", "2018-11-18 23:09:24.711433"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ymSQtLoTF14SwmaeDCeKPDQaR4YZuSSxQ7qGvhbFVGJI3/ZcxJfKN0Ma6b/+ReQ3j15jPnzn6TO1unwGoQ81Bw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 50ms (Views: 45.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:24.999124"], ["updated_at", "2018-11-18 23:09:24.999124"], ["user_id", 386]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$F.LW/O.u7XgSeOTRLkUPM.WqBI0g7O2d291lDGy4xkkX3ZRtTUOtm"], ["created_at", "2018-11-18 23:09:25.147269"], ["updated_at", "2018-11-18 23:09:25.147269"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:25.286093"], ["updated_at", "2018-11-18 23:09:25.286093"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.2ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.4ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 82ms (Views: 80.6ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dbqcpFz8pAGsMb2kQRLKLerONC4EiDw9QIwbOllYPOEC9MctvqCTS"], ["created_at", "2018-11-18 23:09:25.518107"], ["updated_at", "2018-11-18 23:09:25.518107"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 64ms (Views: 63.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Y/kJODqYbrG1RjO0b0KBgidtUDQ+Ei4PVwaVWY7gQR92j+jTGCy2LO/MOo6sQ///hXw3wQLekm1nO0mld8A2og==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 388], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 388], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:25.819548"], ["updated_at", "2018-11-18 23:09:25.819548"], ["user_id", 388]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 388], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 588], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 588], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 588], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (25.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.7ms)
Completed 200 OK in 99ms (Views: 89.3ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:09:25 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 388], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.7ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 588]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (8.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.6ms)
Completed 200 OK in 86ms (Views: 70.7ms | ActiveRecord: 3.5ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.TPLI7p03bxnT8mR9f/QrOfzsbfF7CvgCZBBB8Y0CKWS6z0JOh00e"], ["created_at", "2018-11-18 23:09:26.186173"], ["updated_at", "2018-11-18 23:09:26.186173"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 51ms (Views: 50.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ltQP4tT3AxYNB8FoBTiP6/nfcMGiIaDRudzJVBbcNAgppaqHYYWwk9kiLghTHHO64J2xktLz63fRDxr1bNVEyg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 44.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:26.463066"], ["updated_at", "2018-11-18 23:09:26.463066"], ["user_id", 389]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 589]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 75ms (Views: 70.9ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 389], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.8ms)
Completed 200 OK in 84ms (Views: 77.6ms | ActiveRecord: 0.5ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$My3kXDE2V...oCLa9v5HROi961Q407K1gTCEV2lcDIlUiCQkQ2AAi"], ["created_at", "2018-11-18 23:09:26.811793"], ["updated_at", "2018-11-18 23:09:26.811793"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HOYcWEBJU8miJi5KrEf7eDlUy6TsTKLiMb9OXxZyqYe5g5zqEBYqBLFFOx0KPH1ihLdfmP5SlA6L34aNjQxk4Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:27.082024"], ["updated_at", "2018-11-18 23:09:27.082024"], ["user_id", 390]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.4ms)
Completed 200 OK in 66ms (Views: 61.5ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"24FOhhws+E3+L1Vn7fvnhk5UtGerXOGSa/2qZd082lQCCDpZAyoMPOFsEUlmroM5vOUtO7WrYIp/fcNZW/6ZwA==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 590], ["created_at", "2018-11-18 23:09:27.186788"], ["updated_at", "2018-11-18 23:09:27.186788"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 15ms (ActiveRecord: 2.9ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 390], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 590]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.5ms)
Completed 200 OK in 87ms (Views: 82.2ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kBmrOehkIG8zeCFwGOJ1xuAq0566JISxVG/5GvdAof7Mk/bD6TMgS"], ["created_at", "2018-11-18 23:09:27.447018"], ["updated_at", "2018-11-18 23:09:27.447018"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/SnVvLpryhKBOV9x9NkkT/cfzj69/GRtAfcRWMmM9p6NVvD9RxA95RLoSirzqvveEyn2E3oHoUPNNO959P0tbQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.8ms)
Completed 200 OK in 48ms (Views: 44.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:27.719636"], ["updated_at", "2018-11-18 23:09:27.719636"], ["user_id", 391]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 591], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 591], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 591], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (21.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.5ms)
Completed 200 OK in 92ms (Views: 87.2ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:09:27 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 391], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 591]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 83ms (Views: 74.7ms | ActiveRecord: 0.9ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$msXdQL0OkYxF28/IhTguR.ClvCN2Fi59XopNRwoTQyhl8jT1xxLx2"], ["created_at", "2018-11-18 23:09:28.081198"], ["updated_at", "2018-11-18 23:09:28.081198"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bHAOOsl6Pf0I/huVHQbE0REwW53NgjFsTEx8TgpgbaD+04W1md8Sz1E7Qxe5H092wFu47cXb3ykbmJ3w1hhSgA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:28.363591"], ["updated_at", "2018-11-18 23:09:28.363591"], ["user_id", 392]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 592]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 72ms (Views: 66.6ms | ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 392], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.2ms)
Completed 200 OK in 76ms (Views: 71.6ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vQRfB0iIjYidnLjjAuHcyePIi7cYlDVHu1lFrre9VvSBbyGCOuDMW"], ["created_at", "2018-11-18 23:09:28.686996"], ["updated_at", "2018-11-18 23:09:28.686996"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 44ms (Views: 43.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qHfNS4583Pm2r47l8Lao2KoakGU9Li7tPwc5XKqWoHFR1Mh/U2dwqxlY9YxhCQm2tUtK/U31uIVlx9YBtDqp8A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.2ms)
Completed 200 OK in 48ms (Views: 44.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:28.957568"], ["updated_at", "2018-11-18 23:09:28.957568"], ["user_id", 393]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:09:28 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.1ms)
Completed 200 OK in 73ms (Views: 68.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"pLY+REa6F2bfFDW1eX0s7u4HxONBS2aipUkwfVUyO5Wiit2+hXcuQJhd3Q0rQPsOQtGnH66eRAQLR5GxGT0Oxw==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 593], ["created_at", "2018-11-18 23:09:29.062452"], ["updated_at", "2018-11-18 23:09:29.062452"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 13ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 393], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 593]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.9ms)
Completed 200 OK in 68ms (Views: 63.1ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kistlyR9h7VMuqOutAR3V..MBIKDPX9FxeiVK4JsOPJE36y9RxCKS"], ["created_at", "2018-11-18 23:09:29.298660"], ["updated_at", "2018-11-18 23:09:29.298660"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jrYVADmF+mag310+MxxE996IYXjFE2skcywdS0/F1Fhz6BPxIkBbK9eEHwh+HGboK4MyBOlR0+rdcmtfgMH5zA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 166ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:29.589160"], ["updated_at", "2018-11-18 23:09:29.589160"], ["user_id", 394]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 594], ["created_at", "2018-11-18 23:09:29.594460"], ["updated_at", "2018-11-18 23:09:29.594460"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 594], ["created_at", "2018-11-18 23:09:29.597255"], ["updated_at", "2018-11-18 23:09:29.597255"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 594]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 394], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 594], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 594], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 594], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (41.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.3ms)
Completed 200 OK in 124ms (Views: 114.5ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PYU0pf9EmQBEUEFhslWTLO8NhIseyEgsvnfjRsNZK9bwp1u5Yx2eC"], ["created_at", "2018-11-18 23:09:29.889646"], ["updated_at", "2018-11-18 23:09:29.889646"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9bhKGrATc1+ZpQzdK7VzPgt8UkNNpdX4i3oGcHqtJ1sc/SWfdQlZKPB92hyWjliIgfnF+7pE9UaPujboPdb55A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 52ms (Views: 46.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:30.188703"], ["updated_at", "2018-11-18 23:09:30.188703"], ["user_id", 395]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 595]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 395], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 595], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 595], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 595], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (10.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.9ms)
Completed 200 OK in 85ms (Views: 80.0ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YPsLWzD3Rc/8s6vLdxVLjOEHXnDGt7/Lo5wiWfpmEaQH3dKXE78Oi"], ["created_at", "2018-11-18 23:09:30.446693"], ["updated_at", "2018-11-18 23:09:30.446693"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RiSjgRINZAwPozC6GUHiYiRzMk1XxHRHC5ntmMcwPWSgOWsvMJH8TrEy30Ai+SRp46eiY2DJgQUQL2LgjSI/vA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 42.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:30.716669"], ["updated_at", "2018-11-18 23:09:30.716669"], ["user_id", 396]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 596], ["created_at", "2018-11-18 23:09:30.721641"], ["updated_at", "2018-11-18 23:09:30.721641"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 596], ["created_at", "2018-11-18 23:09:30.724476"], ["updated_at", "2018-11-18 23:09:30.724476"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 596]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 396], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 596], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 596], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 596], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 596], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (1.2ms)
  Rendered profiles/show.html.erb within layouts/internal (25.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.3ms)
Completed 200 OK in 105ms (Views: 100.2ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$efX1ZpBnAfvzsqnAf.907.1743su8q2at7nFs8qr95ILQjQGeQBWq"], ["created_at", "2018-11-18 23:09:31.005838"], ["updated_at", "2018-11-18 23:09:31.005838"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 63ms (Views: 61.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"K41e8wvqhXeZ4tDbc8wVAt112Hv/9qRWQDRWWAC7R5hBqTuwz8j+JR7ZvHrtFrpUu93xJP9xAgu49na/hnydoQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.9ms)
Completed 200 OK in 52ms (Views: 48.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:31.321241"], ["updated_at", "2018-11-18 23:09:31.321241"], ["user_id", 397]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 597]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 397], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.7ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 597], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 597], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 597], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (21.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.8ms)
Completed 200 OK in 93ms (Views: 84.3ms | ActiveRecord: 2.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zpFQN8H0r64lxpAqGHW1Se9ZSGq11HoL6hQ3rGd6Zk4LaEOUMV9Ee"], ["created_at", "2018-11-18 23:09:31.590031"], ["updated_at", "2018-11-18 23:09:31.590031"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fcXQPe0dt0aCYwfuzCfu2VAH3LcVWi5jvXTzUdmIhbXvd0wHIsg+/6BT/ZWSEYy+eYIso6qVOdp7/qDvdRvleg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.3ms)
Completed 200 OK in 54ms (Views: 50.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:31.865502"], ["updated_at", "2018-11-18 23:09:31.865502"], ["user_id", 398]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 598], ["created_at", "2018-11-18 23:09:31.869990"], ["updated_at", "2018-11-18 23:09:31.869990"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 598], ["created_at", "2018-11-18 23:09:31.873302"], ["updated_at", "2018-11-18 23:09:31.873302"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 598]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 598]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 398], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 598], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 598], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.3ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 598], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 598], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 598], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 598], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.0ms)
  Rendered profiles/show.html.erb within layouts/internal (31.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.2ms)
Completed 200 OK in 105ms (Views: 95.2ms | ActiveRecord: 2.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/NeoL.m3oFb7mLv1tsS7Y.m6W5MQqO8xxelgTCIYW1sJ5e6lSNHsG"], ["created_at", "2018-11-18 23:09:32.149092"], ["updated_at", "2018-11-18 23:09:32.149092"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VnhdeO5IviWkegBrv66/ysuqacptsnPHnsn0Lv8pMzkXybdA8zHVVQL9/iGYs6ERbXiQzYreNxyYUFg/KgPtDg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 399], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 399], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:32.418569"], ["updated_at", "2018-11-18 23:09:32.418569"], ["user_id", 399]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 599]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 399], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 599], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 599], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 599], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (14.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.9ms)
Completed 200 OK in 86ms (Views: 80.2ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vt0z5Pb6kMl0bPoI44jnVuSVBVg1G/RnbsDRDaT8RrLKj4WmoRVC2"], ["created_at", "2018-11-18 23:09:32.669952"], ["updated_at", "2018-11-18 23:09:32.669952"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 53ms (Views: 52.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vWg6qrhpK6+aKMP8QF0riHAH4yqf7s6jlQE3B+/TuPG69DxiFNkpvAkYFEZgQNc56VuSUdynestV6X3NyUVp/g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 400], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 400], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:09:32.946850"], ["updated_at", "2018-11-18 23:09:32.946850"], ["user_id", 400]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 600]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:09:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 400], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 600], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.3ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 600], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 600], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.3ms)
  Rendered profiles/show.html.erb within layouts/internal (20.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.5ms)
Completed 200 OK in 98ms (Views: 92.7ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (1.0ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$RLsYVvMBM2g27zImHPHY8OZjeXjW7.NL/HroQW1v9poU0p9YnuU1a"], ["created_at", "2018-11-18 23:11:12.509193"], ["updated_at", "2018-11-18 23:11:12.509193"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:12 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (6.6ms)
Completed 200 OK in 381ms (Views: 367.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HD40sGRFvBz/C2agXCrIEx7LcUHMovsqEZGl1ZkEiWrSpod0F5IyA782YxU0uCrKS9lTgftlf1AMwL4AL/n+hA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 236ms (ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.8ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 81ms (ActiveRecord: 5.1ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (144.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (92.0ms)
Completed 200 OK in 277ms (Views: 250.5ms | ActiveRecord: 3.2ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:13.585743"], ["updated_at", "2018-11-18 23:11:13.585743"], ["user_id", 401]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (2.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 601], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 601], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 601], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (44.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (111.2ms)
Completed 200 OK in 186ms (Views: 168.0ms | ActiveRecord: 7.4ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:11:13 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 401], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.7ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 601]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (7.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.5ms)
Completed 200 OK in 108ms (Views: 92.2ms | ActiveRecord: 3.8ms)


  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.cz8GpWD7F4UeHVNPChNq.rCfJI5yk3Y.DidAYNsVSbWyJc5JssrS"], ["created_at", "2018-11-18 23:11:14.144438"], ["updated_at", "2018-11-18 23:11:14.144438"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 55ms (Views: 54.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vNbctqLZS7n2kjNE41yoK10vzbUMSrkPQm6USiUxza5hv81gtOxZHHCouOeqvz3U7ULEK77/fl1+dVHiOslILw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 187ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 402], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 402], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.1ms)
Completed 200 OK in 60ms (Views: 56.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:14.486192"], ["updated_at", "2018-11-18 23:11:14.486192"], ["user_id", 402]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 402], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 602]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 73ms (Views: 64.7ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 402], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.7ms)
Completed 200 OK in 81ms (Views: 71.7ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$UgyHYoZxUtRzfs1IllZxaeJD/xGaQwHDDefIFGRhkeYiUmvhP5CX2"], ["created_at", "2018-11-18 23:11:14.822097"], ["updated_at", "2018-11-18 23:11:14.822097"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"xtv2NJufzBCwBbrPI3LTb5t2y2EGZP1IcnD5ZvkxDnCqJnbgcVRN+X1xVo7ryzGp/r3yUc7hPNHROPvTL7HUBQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (29.6ms)
Completed 200 OK in 44ms (Views: 40.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:15.086440"], ["updated_at", "2018-11-18 23:11:15.086440"], ["user_id", 403]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.4ms)
Completed 200 OK in 62ms (Views: 58.0ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kC0p0b1QYnndV+ON6goyhnbMWHakzWlrM578fKxy4hsYv1ll40AvzXxWY5dWDzADN8qxwGxfWW4QOqpu+6uzgg==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.8ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 603], ["created_at", "2018-11-18 23:11:15.186446"], ["updated_at", "2018-11-18 23:11:15.186446"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 19ms (ActiveRecord: 3.6ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 403], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 603]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.4ms)
Completed 200 OK in 73ms (Views: 64.0ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$neqOA.9Qe6rKu4tS1qBE6ejIbGatN8AEcsTvsUn/mDSUsSCWz.dIq"], ["created_at", "2018-11-18 23:11:15.442043"], ["updated_at", "2018-11-18 23:11:15.442043"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 48ms (Views: 47.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hPEXcccD16UY8ne1MowspsDjzOLfB5eC/y9om1qT0jjMMfAsVrdcV71NfaIw1gEr4qQk8cWugJzkfLeTeyLheQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 48ms (Views: 44.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:15.728473"], ["updated_at", "2018-11-18 23:11:15.728473"], ["user_id", 404]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 604], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 604], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 604], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (24.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.0ms)
Completed 200 OK in 100ms (Views: 89.4ms | ActiveRecord: 2.1ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:11:15 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 404], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (1.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 604]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (7.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (95.9ms)
Completed 200 OK in 130ms (Views: 116.8ms | ActiveRecord: 3.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$2I0fwWiwMkNOQ0cdd.HYHOt/1kLswRzyRuGhGGfmD5iVJtEBsZ9Y."], ["created_at", "2018-11-18 23:11:16.158908"], ["updated_at", "2018-11-18 23:11:16.158908"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 92ms (Views: 91.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WCP2HWTzPaYUuBvd0KDxyKlXaIEPK86MOk4F37QSrI+TBt75eYy5iQrxKcbLoWvIpPBYnYZBFGr3q0XW6SsVVg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 405], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 405], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.9ms)
Completed 200 OK in 50ms (Views: 46.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.8ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:16.511228"], ["updated_at", "2018-11-18 23:11:16.511228"], ["user_id", 405]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 405], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 605]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.0ms)
Completed 200 OK in 87ms (Views: 78.9ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 405], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.2ms)
Completed 200 OK in 96ms (Views: 86.5ms | ActiveRecord: 1.1ms)


  [1m[35m (1.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (1.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EGA749HKXTVvz5v2GMpckecOBwYekkxW7NfaVHXFT8prCWei0Xyx2"], ["created_at", "2018-11-18 23:11:16.893440"], ["updated_at", "2018-11-18 23:11:16.893440"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 53ms (Views: 52.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Xurlv4VcNzocFzBxcyz3ljrGzzFQtRopHNPon5DU+XfEM09P55XZa/UhqHk1XKNsKe8XAY/XPflXRwCIeVH+bw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 406], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 406], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 49ms (Views: 43.8ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:17.193025"], ["updated_at", "2018-11-18 23:11:17.193025"], ["user_id", 406]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 406], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.9ms)
Completed 200 OK in 63ms (Views: 58.7ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TQlwK62xCVMjA8Mk5H6CkqWAm8mLO7K6Tunbymy8GHqKaRPMhIc/N7bF3T7/jmeDUu/tP4PAa9rGGr51u+LhQA==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 406], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 606], ["created_at", "2018-11-18 23:11:17.302385"], ["updated_at", "2018-11-18 23:11:17.302385"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 17ms (ActiveRecord: 3.9ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 406], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 606]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.7ms)
Completed 200 OK in 77ms (Views: 71.4ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$7d1qyyZd5u7A0hdgIYJ4dOku9lwmEuDRrTJEREQ1/cSQP0haqEZ22"], ["created_at", "2018-11-18 23:11:17.542650"], ["updated_at", "2018-11-18 23:11:17.542650"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NfRnRGD9tQYpFS0FWmfzskwxYmyAIPPh0VWaJ8e2VzrPm5DdhpingC31rudrv0q98Atu3n8Xnphk/NJbLr1W2Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.7ms)
Completed 200 OK in 56ms (Views: 52.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:17.822985"], ["updated_at", "2018-11-18 23:11:17.822985"], ["user_id", 407]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 607], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.4ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 607], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.1ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 607], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (14.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.0ms)
Completed 200 OK in 84ms (Views: 78.6ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:11:17 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 407], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.7ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 607]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.0ms)
Completed 200 OK in 83ms (Views: 72.3ms | ActiveRecord: 2.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$M/OWMm7YOzhtuMvYTdURAuCd6r3CpppmdtSPgUOeKr5oGu8ewn4jq"], ["created_at", "2018-11-18 23:11:18.168780"], ["updated_at", "2018-11-18 23:11:18.168780"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 48ms (Views: 47.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"a6005vBBslnuWPJc/xEfrdNZH0+Zchu9+pG73lwrA3SxWrMWLg/A5bcCXmHliOOKZ/x8z+sq4i7G4qB53KrwGA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:18.457022"], ["updated_at", "2018-11-18 23:11:18.457022"], ["user_id", 408]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 608]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.4ms)
Completed 200 OK in 78ms (Views: 73.0ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 408], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.1ms)
Completed 200 OK in 75ms (Views: 70.0ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0AIXGQVuMD4OonLr.vmlr.Jn/Ai4/tjlFjzXesaUvptHzaySxLvDy"], ["created_at", "2018-11-18 23:11:18.800169"], ["updated_at", "2018-11-18 23:11:18.800169"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 45ms (Views: 44.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"IrC+jDuIVeMJ+hjQQeGqHVaTNqMn4+gEvOaGdPxgQmBu2z70KsWzXcsZ40RYibE/BclfyzVQMnFu5eBdnwVuCw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.5ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:19.076451"], ["updated_at", "2018-11-18 23:11:19.076451"], ["user_id", 409]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.5ms)
Completed 200 OK in 69ms (Views: 65.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ueLjTK/k8k4A3MGJsC6QVeml9LF6wSay5orS1q3T+bulDYhJ+tiqnK6F7/i/tDb3IN2xKIlrUfoK5NipuMWNhw==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"11"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (0.9ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 21:11:00"], ["fasting", true], ["profile_id", 609], ["created_at", "2018-11-18 23:11:19.197999"], ["updated_at", "2018-11-18 23:11:19.197999"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 16ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 609]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (5.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.1ms)
Completed 200 OK in 77ms (Views: 67.8ms | ActiveRecord: 1.1ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$QAD3FCQ46l2abzyYgK78YuphyQNevT/N5TgYOgFcTriZkAdxCGidm"], ["created_at", "2018-11-18 23:11:19.440417"], ["updated_at", "2018-11-18 23:11:19.440417"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"a4u+6lRPxZdaAEkkrDGsNy6+DpwivrbvfGpIZILLYqQd235njYyJ27okiYBjvBYcqzOkhQJhZxUCKdouGkdABQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 52ms (Views: 47.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:19.720698"], ["updated_at", "2018-11-18 23:11:19.720698"], ["user_id", 410]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 610], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 610], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 610], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (22.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.4ms)
Completed 200 OK in 93ms (Views: 84.0ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:11:19 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.8ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 610]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (8.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.1ms)
Completed 200 OK in 98ms (Views: 82.0ms | ActiveRecord: 3.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$r/VNVpeOX5YcBiNJrxzVT.qdtSA8KjI7mwMZ4tWz40vmEfshaVMma"], ["created_at", "2018-11-18 23:11:20.093532"], ["updated_at", "2018-11-18 23:11:20.093532"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 43ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"U/ShZZmppPzixTHPZ3LpnVtfyv7GuNDXFYnqOMYcFgUpQBaaymNNgwjB5xaI5UQOSkaGalfTceoSMvFBcOxheg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.0ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:20.363440"], ["updated_at", "2018-11-18 23:11:20.363440"], ["user_id", 411]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.5ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 611]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 57ms (Views: 52.5ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.7ms)
Completed 200 OK in 74ms (Views: 66.5ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$fz4ega0jqHrsBaDKGaNOS.CtQFpSvc8zNgbONOyyXYhohy0jrOrGW"], ["created_at", "2018-11-18 23:11:20.671940"], ["updated_at", "2018-11-18 23:11:20.671940"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JdlRwjk9RWkiLvI4i3O711y6jUZ/qrTn7QCgt6KbIAtNIvR/syB8TVzNf5AbqolGfWzXTl3tPhq1NL/5VamW+g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.2ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:20.939179"], ["updated_at", "2018-11-18 23:11:20.939179"], ["user_id", 412]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:11:20 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.6ms)
Completed 200 OK in 63ms (Views: 57.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5WNkS+eb4mj5L8tmmFvNXWLTP7MjDeuiyLT1CaGKlO6d0sWTSVPQdmonmYvGmo3rXQ/tXYIOMIyoYYY6ffBq+w==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 612], ["created_at", "2018-11-18 23:11:21.049206"], ["updated_at", "2018-11-18 23:11:21.049206"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 22ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 612]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 97ms (Views: 88.0ms | ActiveRecord: 1.4ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$FWH9gOY0wWASrRLg8fRiYOsI.Bo2BBXBMMH0.VnGhrwh1FV8sXte."], ["created_at", "2018-11-18 23:11:21.353412"], ["updated_at", "2018-11-18 23:11:21.353412"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bFyIc1JbuEJBGLNms2TY/4qdvV+NBlHJ8N8mij+Otv5RzWyr/QxtQORZPANATeRkiUk/BHlLjUwsVE4OAfre1w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:21.620493"], ["updated_at", "2018-11-18 23:11:21.620493"], ["user_id", 413]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 613], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 613], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 613], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (19.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.0ms)
Completed 200 OK in 90ms (Views: 85.1ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 613]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.9ms)
Completed 200 OK in 81ms (Views: 74.8ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$zEy9f3slT6WwsdTZ260zNeSVFwo1cb9k0gx0xJvHboIyyIliRgJv6"], ["created_at", "2018-11-18 23:11:21.972783"], ["updated_at", "2018-11-18 23:11:21.972783"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"unOW5uzmGbYofo6f3E/VzQIvJDlXF6FUHtdotogkcHVa/XuK4yWe7pt0rX9/Q/99gaI+uJEd2t2OcafBPdp2sg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.8ms)
Completed 200 OK in 47ms (Views: 43.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:22.241984"], ["updated_at", "2018-11-18 23:11:22.241984"], ["user_id", 414]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 614]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.1ms)
Completed 200 OK in 81ms (Views: 76.7ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.6ms)
Completed 200 OK in 71ms (Views: 66.1ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xdVpHV.KQEfL8sb/B3hIt.lQdroRCaRQoYSYfwMqVXGgJWToO8J.m"], ["created_at", "2018-11-18 23:11:22.571234"], ["updated_at", "2018-11-18 23:11:22.571234"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 46ms (Views: 45.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DyiAm5anqH+3+pGC2xxIQy8XLdO8+XLrMlWIboH011kA0ki5M4oLnIz14kxWxXVRI3/I6xM+kxeM+GKEutVJBw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 41.7ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:22.858131"], ["updated_at", "2018-11-18 23:11:22.858131"], ["user_id", 415]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.6ms)
Completed 200 OK in 67ms (Views: 63.4ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2daMZpb2XOGiN4ry2fl/qrBIORQGT64QjXjAz/hvhLbIdmGDO3SMMJmHyHjjce7rGPmr2oW/fZ7V/G0qtlDswg==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (0.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 615], ["created_at", "2018-11-18 23:11:22.961666"], ["updated_at", "2018-11-18 23:11:22.961666"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 16ms (ActiveRecord: 3.8ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:11:22 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 615]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (4.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.2ms)
Completed 200 OK in 94ms (Views: 88.6ms | ActiveRecord: 1.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$SEpLAb5OWrjdQgcXhAiuZuXPNEuNd2G3odhsUNXDrnVUPEW6bgog2"], ["created_at", "2018-11-18 23:11:23.235812"], ["updated_at", "2018-11-18 23:11:23.235812"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KkLS3wjih8GCtn5Bf8wECAWtdi6IBeEqqjrZq0MCOj9q/oTNlm9gz1tLM07Nwa/2NJ+ZT2J6XMH7l2hcrkeP0w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.1ms)
Completed 200 OK in 53ms (Views: 49.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:23.534080"], ["updated_at", "2018-11-18 23:11:23.534080"], ["user_id", 416]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 616], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 616], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 616], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (19.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.5ms)
Completed 200 OK in 95ms (Views: 90.0ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (1.0ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 616]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (6.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.5ms)
Completed 200 OK in 96ms (Views: 81.8ms | ActiveRecord: 3.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VjLSnox1Gun13tA.E5W7tOZh/hW3PFQjN2Lzb3wOVBJdXzjEWXxiW"], ["created_at", "2018-11-18 23:11:23.899311"], ["updated_at", "2018-11-18 23:11:23.899311"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"U4M0yMDcbS/CAplPXxq2+Yhv5pgariJWN0ZgxCVuzqqDxndAmzrGobmEg/VIxySPO6+Z5N4o40uFnss+pEP6gg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 52ms (Views: 46.5ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:24.191157"], ["updated_at", "2018-11-18 23:11:24.191157"], ["user_id", 417]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 617]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.4ms)
Completed 200 OK in 68ms (Views: 63.2ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 70ms (Views: 62.0ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gf5c/qHwG.tx8f6jL5KoX.pvc/Ah2Ro98ks9IOWOkxzy3sm/99/fS"], ["created_at", "2018-11-18 23:11:24.506844"], ["updated_at", "2018-11-18 23:11:24.506844"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 51ms (Views: 50.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"obcAlI16TGCIzVVsmb8EPCiYAQN4bWqRIzWb5zpWCdXSOl4Lc8pM6W0hZ0XSYw1xJu03PssDWiPIsGt1eYR5Ww==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.8ms)
Completed 200 OK in 47ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:24.804208"], ["updated_at", "2018-11-18 23:11:24.804208"], ["user_id", 418]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.6ms)
Completed 200 OK in 60ms (Views: 54.7ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HN6eI9hz1zhTf5OV8OrjtSaOdcVtrNY5bhKiGviTfZpSp1/pVZvJ6rbgTcEcakMVPtWQQJ0X+a20MiOQPNErOw==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (0.8ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 618], ["created_at", "2018-11-18 23:11:24.901207"], ["updated_at", "2018-11-18 23:11:24.901207"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 20ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:11:24 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.6ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 618]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.0ms)
Completed 200 OK in 85ms (Views: 74.3ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$v1Qg9CNPsHmUdrybCI9j9.wwnUQiLg0fS8vfZCsYJD2epcPkErBxu"], ["created_at", "2018-11-18 23:11:25.154943"], ["updated_at", "2018-11-18 23:11:25.154943"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 49ms (Views: 48.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"yALrCAIzmAnlnYfWdewss8SXvK3inzWL/DxgeyyHKSby1+Ioa2IT8F0lFYbys7wi6y9btk81MCuZgJ9t7YMcrw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 187ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (41.6ms)
Completed 200 OK in 56ms (Views: 52.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:25.480133"], ["updated_at", "2018-11-18 23:11:25.480133"], ["user_id", 419]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 619], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 619], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 619], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.4ms)
  Rendered profiles/show.html.erb within layouts/internal (30.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.2ms)
Completed 200 OK in 100ms (Views: 91.2ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.5ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 619]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (7.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.0ms)
Completed 200 OK in 88ms (Views: 62.6ms | ActiveRecord: 3.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$oGQX4GBnMo6u/FwsWGotCe/aahh7VBobUyFxtumW1huQRCAWDDoq."], ["created_at", "2018-11-18 23:11:25.852470"], ["updated_at", "2018-11-18 23:11:25.852470"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"SvME9s2pQWVdILktvyQvKZIYIrX7lD4KZGdFDbu2p6vIhjuNPZC/P1ddlqEB0PX34ap2Ft0fAuzt6EjGXY+ROg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:26.121880"], ["updated_at", "2018-11-18 23:11:26.121880"], ["user_id", 420]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 620]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.5ms)
Completed 200 OK in 74ms (Views: 67.0ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.0ms)
Completed 200 OK in 75ms (Views: 68.6ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$E1tXHz9bQlm18Iv.KhtrZuSjJpsarD3.Rj1o7wYih1nsV.11gDAC."], ["created_at", "2018-11-18 23:11:26.444150"], ["updated_at", "2018-11-18 23:11:26.444150"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"I1vsy8GA1q/Foii6k3oLmR8sOFs4ft2N6bMvbkaNaus7Aau5wg9RP9sGfFKSqJWaiCV3Me5FlYtQJSTfBIE46w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:26.739841"], ["updated_at", "2018-11-18 23:11:26.739841"], ["user_id", 421]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.0ms)
Completed 200 OK in 76ms (Views: 68.5ms | ActiveRecord: 0.9ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"J7OWZ1ZWy/O3DD9kbE3+SEm5bTCHEmF6TtFj8o/tFRt+Z+rpL5kQtaFk88tk3uywz81Q03cVhswh6ZdYk0bdPQ==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (0.9ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 621], ["created_at", "2018-11-18 23:11:26.861789"], ["updated_at", "2018-11-18 23:11:26.861789"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 23ms (ActiveRecord: 3.8ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:11:26 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 621]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.2ms)
Completed 200 OK in 82ms (Views: 71.4ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/77UidGDc7GyxJjHqSqjsee28NjxyGw7R/h29uO/iuKzXPS1Hau3i"], ["created_at", "2018-11-18 23:11:27.122687"], ["updated_at", "2018-11-18 23:11:27.122687"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 50.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1YeYh4YQ/5s6vr+8PQ7VAnT1Kz7v7n2HghJjIfa1nSQ4AIbwX9PCn5gNqc8fqyXP2EsCWxEGj9LFhS3m+db6OQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:27.417262"], ["updated_at", "2018-11-18 23:11:27.417262"], ["user_id", 422]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 622], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (2.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 622], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 622], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (25.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.1ms)
Completed 200 OK in 95ms (Views: 84.0ms | ActiveRecord: 3.6ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.6ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 622]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (8.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.3ms)
Completed 200 OK in 98ms (Views: 82.0ms | ActiveRecord: 3.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$cDz8v7T7NDOUFGrppvr31uaONz6Cxak7M9HDK9/DcBY/ss8mQJ4Ke"], ["created_at", "2018-11-18 23:11:27.800758"], ["updated_at", "2018-11-18 23:11:27.800758"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 51.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2nPaCcUOHYhOe6mgxJvNEPHRp4PYAUKI9hjuT7pTqgSvnuolWPVZZAq5vIaqN0mdA9xbzYEWuKbAWMoMdV6pWw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:28.081878"], ["updated_at", "2018-11-18 23:11:28.081878"], ["user_id", 423]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 623]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.2ms)
Completed 200 OK in 78ms (Views: 73.6ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.5ms)
Completed 200 OK in 74ms (Views: 68.4ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EFtXDS5GprXw6EJP1R0sFecCz0LMLMDcf7vq71UKshIriJ918GgcS"], ["created_at", "2018-11-18 23:11:28.407208"], ["updated_at", "2018-11-18 23:11:28.407208"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 46ms (Views: 45.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"J1VMCucrM4PHrpA9oZ7XLlQi0iDDzU8k0Tt/Ja6GUxh02A/WVczSyoa7zAcW8+rLEWSD8fvoib7ns8eAt8JcoA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:28.697625"], ["updated_at", "2018-11-18 23:11:28.697625"], ["user_id", 424]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.5ms)
Completed 200 OK in 69ms (Views: 64.9ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"fHTnjcF159RqP0dCcIqph+nueMpqz304nKbDOnDudS3UHqY3viYxFImPMPuWVyz0HBtMu+AA51uxjRDhZCTx0g==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 624], ["created_at", "2018-11-18 23:11:28.810623"], ["updated_at", "2018-11-18 23:11:28.810623"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 23ms (ActiveRecord: 3.6ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:11:28 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.4ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 624]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.1ms)
Completed 200 OK in 84ms (Views: 71.9ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$9med5fBaT0YFTPG4sWFW4OvqnGJBALEBpgz8evGuuE3nNmd6SIY7e"], ["created_at", "2018-11-18 23:11:29.072905"], ["updated_at", "2018-11-18 23:11:29.072905"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/bwuP27fCGjqkMBo/cv+0V7W9oQePs3pSP9a9ZII31xrwL0ZC8VKwVVGOO4Ad/80M0yNzbyX237n2dNck3j2XQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 47ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:29.361894"], ["updated_at", "2018-11-18 23:11:29.361894"], ["user_id", 425]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 625], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 625], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 625], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (11.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 77ms (Views: 71.9ms | ActiveRecord: 1.3ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.6ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 625]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (11.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.8ms)
Completed 200 OK in 103ms (Views: 84.6ms | ActiveRecord: 5.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$EQsgw0uUHimljsNEHH57Tu9zniqV.hfhkv/.KuHtQsRYKmiPJrWw2"], ["created_at", "2018-11-18 23:11:29.771590"], ["updated_at", "2018-11-18 23:11:29.771590"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TfcFOKybu5WQhxZONrczd9ZbXh4SYmbqhhGCodIcjq3a+nmoLP75HkTKRq17HFA2M/SVunz9WZKS0/HHC1Ws/Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.3ms)
Completed 200 OK in 55ms (Views: 51.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:30.051011"], ["updated_at", "2018-11-18 23:11:30.051011"], ["user_id", 426]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 626]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 66ms (Views: 61.5ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.8ms)
Completed 200 OK in 80ms (Views: 71.9ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$U/Z33Vc9UhlryUnrW3nyN.jpkVDsx7u2lBxI0W7eHkKSzA4MkCxH."], ["created_at", "2018-11-18 23:11:30.374099"], ["updated_at", "2018-11-18 23:11:30.374099"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"bOxxIURGJD8CmdO2j/wI9LrymcMRvEfxUn7HIIoxRhV5ykXKCX1jqNuH8jy5qTFbCgV2h3YTAETpPwimqFs5cQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 171ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 427], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 427], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 47ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:30.661041"], ["updated_at", "2018-11-18 23:11:30.661041"], ["user_id", 427]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 427], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.2ms)
Completed 200 OK in 67ms (Views: 62.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by PlateletsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+ajCwvETscmDdQ4c3o3vQu/GIayDSwFL/F8ZzMEEHqhDzPco4qeIq0srNvsuIJ0sd48Zm6Xgd8a9vZfK0LH1zg==", "platelet"=>{"erythrocyte"=>"1", "hemoglobin"=>"2", "hematocrit"=>"3", "vcm"=>"4", "hcm"=>"5", "chcm"=>"6", "rdw"=>"7", "leukocytep"=>"8", "leukocyteul"=>"14", "neutrophilp"=>"9", "neutrophilul"=>"15", "eosinophilp"=>"10", "eosinophilul"=>"16", "basophilp"=>"11", "basophilul"=>"17", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "total"=>"1000"}, "commit"=>"Save platelet", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 427], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/platelets_controller.rb:25
  [1m[36mPlatelet Create (0.7ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 1000], ["profile_id", 627], ["created_at", "2018-11-18 23:11:30.917480"], ["updated_at", "2018-11-18 23:11:30.917480"]]
  â†³ app/controllers/platelets_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/platelets_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/platelets
Completed 302 Found in 40ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:11:30 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 427], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 627]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 48ms (Views: 43.4ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Tgol7NxjiaNlGqbEO6122ei6/8mtF0OeqVbnK.GgkuP4kCFuXPHGi"], ["created_at", "2018-11-18 23:11:31.128642"], ["updated_at", "2018-11-18 23:11:31.128642"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BQn0Ze6lz+Ri8/CmmgW7o9wxE1jbi2PVyZ+ULyagbgUpYSpADr5qJN3Rj+Mw/mq80ko7TZwN9ooFxLl2d5NIBg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:31.397897"], ["updated_at", "2018-11-18 23:11:31.397897"], ["user_id", 428]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 628], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.5ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 628], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 628], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (12.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.8ms)
Completed 200 OK in 89ms (Views: 84.2ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.5ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 628]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (5.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.1ms)
Completed 200 OK in 85ms (Views: 75.5ms | ActiveRecord: 2.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Le/F8d/lFQlR2sw3NepVHetcKpQ/r8I65Oig/7tdJ8fFFdlCzzKO."], ["created_at", "2018-11-18 23:11:31.745475"], ["updated_at", "2018-11-18 23:11:31.745475"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 56ms (Views: 55.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"RlBhdjRvdVPtQ/asbi6CrPHtkFZWgUGVE1nOz8YwQ+o3XY/hhjoP6mbh24HubZxYXoceY5mSWsTDuME5hCwepw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.9ms)
Completed 200 OK in 59ms (Views: 55.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:32.063204"], ["updated_at", "2018-11-18 23:11:32.063204"], ["user_id", 429]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 629]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.8ms)
Completed 200 OK in 72ms (Views: 64.8ms | ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (5.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.0ms)
Completed 200 OK in 88ms (Views: 80.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$nxXPwyR9U0nQagGx.UK5PuMfsPfKXUeRgAL404yUiJ2Z2/qap/Ddi"], ["created_at", "2018-11-18 23:11:32.389428"], ["updated_at", "2018-11-18 23:11:32.389428"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"qqQ4u5IiQv709rT5YW1WHflfOySNxP8i5ArXglPdq7jIiyGjydHR8/cfGgbepCE6WWnSL1S2ln95xA7fBrDoIQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:32.656231"], ["updated_at", "2018-11-18 23:11:32.656231"], ["user_id", 430]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (6.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.2ms)
Completed 200 OK in 82ms (Views: 73.0ms | ActiveRecord: 0.9ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BdrFPu9aaudJZeFySOjpNeYqN+566A1f8pfLLN9AncRzX1AJCYMnLZ9+sNlxBr1sp7ksG90w/UV4YryY4VQKmQ==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"11"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.8ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 21:11:00"], ["profile_id", 630], ["created_at", "2018-11-18 23:11:32.796749"], ["updated_at", "2018-11-18 23:11:32.796749"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 26ms (ActiveRecord: 5.2ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:11:32 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 630]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 82ms (Views: 73.5ms | ActiveRecord: 1.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$IAd8QHvoeQVb8rrjLZGlLunrNIWK9wtL7y3CEyBkLmKAxmdBQqJ4O"], ["created_at", "2018-11-18 23:11:33.055483"], ["updated_at", "2018-11-18 23:11:33.055483"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ks3ntbm81zmhcdh766JBKpUis6zj+gKMu4yPHE5mYPf5l/sTxwWoZpS9DLx/3ErwgqcFDtDsiLYcfBVAOUaF/A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:33.328364"], ["updated_at", "2018-11-18 23:11:33.328364"], ["user_id", 431]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 631], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (2.8ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 631], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.4ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 631], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.5ms)
  Rendered profiles/show.html.erb within layouts/internal (34.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.2ms)
Completed 200 OK in 101ms (Views: 91.8ms | ActiveRecord: 1.9ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.7ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 631]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.4ms)
Completed 200 OK in 85ms (Views: 69.9ms | ActiveRecord: 4.0ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$NpakJNWktbOWoE3l7M3Fmuki.rdqfqa40X3LCaZczgKpzmvskRXpK"], ["created_at", "2018-11-18 23:11:33.700170"], ["updated_at", "2018-11-18 23:11:33.700170"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 49ms (Views: 48.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"iWOhm1Qu6cSFo1ViFBqBELiCHUaJTpWpBSS78SNEDJOTM0ScYVxybvvZD2UHHCBa5+oK5WvQvAzQvMrLX8jwNw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.1ms)
Completed 200 OK in 55ms (Views: 51.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:33.985776"], ["updated_at", "2018-11-18 23:11:33.985776"], ["user_id", 432]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:11:33 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 632]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 69ms (Views: 64.4ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.0ms)
Completed 200 OK in 93ms (Views: 85.6ms | ActiveRecord: 0.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Nlm8PvhL.xRiKYeyG5fVQenbAV6uK9o9mbsLAmN7ma0WCbk6cX01C"], ["created_at", "2018-11-18 23:11:34.331285"], ["updated_at", "2018-11-18 23:11:34.331285"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0DUuk5IVu1L4SHLtv7MQd7wnDvz1DU0iTRr+bzS1rG3Ojqc1zwbmWyFCXyeQYidKcnsUZlMO2oDNA8m7gUJIEQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.7ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:34.617847"], ["updated_at", "2018-11-18 23:11:34.617847"], ["user_id", 433]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.6ms)
Completed 200 OK in 67ms (Views: 62.9ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6R3y1rMYJNG7XZWNAvcrInZJdqFPRXXt/KI3cv152dc8WFZB6k5d6cgFpnPnAYTcIeCh1qOvmUoLFCyjIEznOw==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (0.8ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 633], ["created_at", "2018-11-18 23:11:34.730909"], ["updated_at", "2018-11-18 23:11:34.730909"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 18ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 633]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.7ms)
Completed 200 OK in 88ms (Views: 80.0ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vz6zLFpkAqAOZTdtj3GIKOBcGWuUaT5pZCpIMYX/Xv4U/XShTf9fi"], ["created_at", "2018-11-18 23:11:34.984543"], ["updated_at", "2018-11-18 23:11:34.984543"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 41.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2TEjAb9lPeNqC8MM/jHKBXLPgonWDiRv2lkUfRs/HXgPcUfA/8ID6cRJwjTuWM5xcVK2YwclgYozbKSHxnPTzQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 46ms (Views: 41.9ms | ActiveRecord: 0.7ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:35.251608"], ["updated_at", "2018-11-18 23:11:35.251608"], ["user_id", 434]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 634], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.2ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 634], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 634], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (23.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.5ms)
Completed 200 OK in 94ms (Views: 86.4ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.6ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 634]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (8.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.1ms)
Completed 200 OK in 90ms (Views: 74.8ms | ActiveRecord: 3.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YSGvb87FnEUuvasFke7F1u6lro8UBdfRgSR6VE4DN92zfo95Z2vk6"], ["created_at", "2018-11-18 23:11:35.620433"], ["updated_at", "2018-11-18 23:11:35.620433"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 52ms (Views: 50.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hLn5zKx04JJXERlQeDRB8/CbMBCosVoDV5lzE4gORItnudseHsOBDgV64D5t2JuA3M6B10Cr/85kqg0PUUGrQw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (10.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.4ms)
Completed 200 OK in 65ms (Views: 61.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:35.925034"], ["updated_at", "2018-11-18 23:11:35.925034"], ["user_id", 435]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:11:35 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 635]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.3ms)
Completed 200 OK in 74ms (Views: 65.8ms | ActiveRecord: 0.8ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.5ms)
Completed 200 OK in 81ms (Views: 77.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$cEgvpX4GCrZncxZbfJQM1ukhJwN86rf85xcWRk9hQdVn5nxloUAKO"], ["created_at", "2018-11-18 23:11:36.253514"], ["updated_at", "2018-11-18 23:11:36.253514"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.4ms)
Completed 200 OK in 50ms (Views: 48.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PoXLhmCcpiTm/zG0xGo/U3HsgcNzqFMg48zcmHeveVRK08FsOjbA/vNKba0qZ6Txay82K8iEYP/oiOX3n8bp1A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 46ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:36.529551"], ["updated_at", "2018-11-18 23:11:36.529551"], ["user_id", 436]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 77ms (Views: 71.1ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sER+Tpt0l3Il71NFrGVnUFnscrHOjEy8YSqp9SgcI3qXXNgi+Kz7qGYlESJvmX1johQbCcAC/rj6r2ds/P5I1g==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.6ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 636], ["created_at", "2018-11-18 23:11:36.638854"], ["updated_at", "2018-11-18 23:11:36.638854"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 15ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 636]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.4ms)
Completed 200 OK in 79ms (Views: 69.9ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 78ms (Views: 72.2ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.9ms)
Completed 200 OK in 81ms (Views: 80.5ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:11:36 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 80ms (Views: 76.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 87ms (Views: 86.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 84ms (Views: 83.1ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ELGCEQG0ba1q3CTc8iRyaR5cPuwYdX/jIKNTAuV0fpDlrvrIlbqayw8tJWUYcoVkKJX6C2kTG9ZWrjEKX5CPjw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vhVUbvtJTzA1cDd/NmuPDuBVvXzYFkC/OgJx4aUq.4IN0qhzwo7FG"], ["created_at", "2018-11-18 23:11:37.510391"], ["updated_at", "2018-11-18 23:11:37.510391"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 150ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (38.9ms)
Completed 200 OK in 55ms (Views: 51.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 69ms (Views: 68.4ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$8vQiSxND0sHkfwTsGy2er.eRtF5umekMqBAw68B8qIutNOVH/my.C"], ["created_at", "2018-11-18 23:11:37.819645"], ["updated_at", "2018-11-18 23:11:37.819645"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 21:11:37 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PtDraeWxa7q9S3oLnLsMQANwoX6NPXzFW6dwe/50I1VCvVrR46NhFAUv0CTiav87Qi6S3RyZBvjRLwXMSgjaBQ==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 191ms (Views: 42.4ms | ActiveRecord: 0.8ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$OjaJSnVaK6mNJccQFP5ysur4KEercMPiRE640/coDYLtEFhXYSQly"], ["created_at", "2018-11-18 23:11:38.182384"], ["updated_at", "2018-11-18 23:11:38.182384"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (3.1ms)
Completed 200 OK in 67ms (Views: 65.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"myTTozmqL5WBIL5KWYeOHj6apZ2G6oI/mocESZrV3KwopwLErOr8wdfefW69lWqNpdpHErNINYBsmeKmPFdp3w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 162ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Oh3DiWQC7ggXPCPfAEfz2uOWJ7Q1k8I5jq8rMwi9g1NcIDuewRpXu"], ["created_at", "2018-11-18 23:11:38.653670"], ["updated_at", "2018-11-18 23:11:38.653670"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 71ms (Views: 70.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XSpx/ZKx5uXb9H4kxzcPS/NOPIHugrUNESOWZXXznJY6OBrHVRPFYD8pMvISHS8MZi71R8zhWtO1ba4C3Bw+Eg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 45ms (Views: 42.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.5ms)
Completed 200 OK in 88ms (Views: 79.4ms | ActiveRecord: 0.5ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"f1xWjadmQ6eEqoNN9yQVr1yncj+DdIq61ZtYA430gK6ay3OTKGkjxwIdL7M1yu3DAyGKAwfi096x2e26WOeraA==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.4ms)
Completed 200 OK in 91ms (Views: 82.8ms | ActiveRecord: 1.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Tgg9hXFwvFvTQJv/bhFD0ufl/F.UUjDRI1ohFA48HqOuyGLMEZkFu"], ["created_at", "2018-11-18 23:11:39.322032"], ["updated_at", "2018-11-18 23:11:39.322032"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"kFpya2XIzRgeJ9VCmCeBT5Dq842oxey7opikOSqfRbnKW2r1y2WTeC37Tzki1SzL3TQHY3I7YzBF3+qVLuronw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 49ms (Views: 43.5ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.7ms)
Completed 200 OK in 69ms (Views: 64.9ms | ActiveRecord: 0.5ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jRbF8x7iterZrYuNTdYEZShgWL97ve1FQeDV+M1eks7yt281HCNbiJsvDP/5olbCfo2V/hqd0+xcokjNhqCxSg==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 23:11:39.713400"], ["updated_at", "2018-11-18 23:11:39.713400"], ["user_id", 441]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 637], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 637], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 637], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (17.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.5ms)
Completed 200 OK in 88ms (Views: 82.5ms | ActiveRecord: 1.6ms)


  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kGtr8Kqyit.5MUWTIu.Mre7r/63Bx98BvABb/Ah/uyw4qlYfjTJYa"], ["created_at", "2018-11-18 23:11:39.973448"], ["updated_at", "2018-11-18 23:11:39.973448"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hIRC4Gs6sComiSO/Aw+AF+K2G9FHkd6rmlOIKwwyVjlCpR4ODVlxMJuI7WZXgytdjvO/D21H3s18sbdGCSPRGw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.6ms)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:40.242520"], ["updated_at", "2018-11-18 23:11:40.242520"], ["user_id", 442]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.8ms)
Completed 200 OK in 77ms (Views: 72.9ms | ActiveRecord: 0.6ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"5GmMxyJ9cRCFANoJ6BEUV4HyLqWNYQhieTPiuta3Ihe0JBkz6uyozkhDXFyTGSLhaIIwHVc7ej9iMoaeXWQB6A==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 638], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 23:11:40.356697"], ["id", 638]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (5.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.4ms)
Completed 200 OK in 91ms (Views: 81.2ms | ActiveRecord: 2.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$5Gsu91z3adTVczhHKoCUzu4GzZCJod6lRG0bcaRbrx7b1bGoUgPEG"], ["created_at", "2018-11-18 23:11:40.615179"], ["updated_at", "2018-11-18 23:11:40.615179"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"WQECoAW2qqHhfoO2l7e2NDKANhwiJATozyyo3p3k7SucckPd9HMhNOq8VWD/ebafAVgTm2ncplrms0k1RcWHsA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.3ms)
Completed 200 OK in 59ms (Views: 52.5ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:40.921499"], ["updated_at", "2018-11-18 23:11:40.921499"], ["user_id", 443]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$AVNd/PjDjebhsrzbPZFtXu4n/BJdCvFgkD295BSdhgYQ7vQ6Eet1O"], ["created_at", "2018-11-18 23:11:41.080678"], ["updated_at", "2018-11-18 23:11:41.080678"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:41.219358"], ["updated_at", "2018-11-18 23:11:41.219358"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.4ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 84ms (Views: 81.8ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gblv/WX.lMWenygAvntIH.wNmYU1EklggAwm2B8k.LqA6mvoWUiVq"], ["created_at", "2018-11-18 23:11:41.453604"], ["updated_at", "2018-11-18 23:11:41.453604"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TzIAQKlWkROCW1qADK3vf5Lo+2jPLdYNuz9jEOavHB3h5CYv7q0uiRGbCZ05lpowfNmdTn8s1cTBa07qycTGFQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:41.722150"], ["updated_at", "2018-11-18 23:11:41.722150"], ["user_id", 445]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 641], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 641], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 641], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (20.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.0ms)
Completed 200 OK in 98ms (Views: 92.5ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:11:41 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.9ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 641]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (9.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.2ms)
Completed 200 OK in 101ms (Views: 76.2ms | ActiveRecord: 3.9ms)


  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.4ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.YmctZx7mqpGSvDHgpnoiOo1XjrAgrvz/TjZEElfdZwExOCSf8oWq"], ["created_at", "2018-11-18 23:11:42.113824"], ["updated_at", "2018-11-18 23:11:42.113824"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 55ms (Views: 54.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QTT0g5Xycdrzh2CTM2QW7nVijQTwRff454qbjprn5g4N7xyzcWxZga9uDhf5IHbcn8WiBquevvxPtEMMwikt3Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:42.400466"], ["updated_at", "2018-11-18 23:11:42.400466"], ["user_id", 446]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 642]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (2.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.9ms)
Completed 200 OK in 70ms (Views: 65.8ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.9ms)
Completed 200 OK in 74ms (Views: 67.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/9LHEhfbYaZpAaaRLuUbGeu6zTK62I/5srie23QzcXOt.I9zA3nmG"], ["created_at", "2018-11-18 23:11:42.719715"], ["updated_at", "2018-11-18 23:11:42.719715"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 55ms (Views: 54.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ipmWvsox8BYFHpjCXl8qe5Z/LVKwxJK8Di/XgAxyTG77QYMmc3cIB1U8eeHKsQ8ImYpWsesAgizifkpcFN/yYw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:42 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.9ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:43.019202"], ["updated_at", "2018-11-18 23:11:43.019202"], ["user_id", 447]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.9ms)
Completed 200 OK in 76ms (Views: 71.5ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"eywU9esY2oBIJeOdO+eaF4YNgihIolUUUhawUWiueEWCPr1lWLeAnE0/YUFdD89sXaMEgtLEAD2zpb1+cVQwPQ==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.5ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 643], ["created_at", "2018-11-18 23:11:43.131060"], ["updated_at", "2018-11-18 23:11:43.131060"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 15ms (ActiveRecord: 3.1ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.5ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 643]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 85ms (Views: 72.9ms | ActiveRecord: 2.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$0heGw5HzM5Y8oinFAL6bAOAZ3gL5.XvD3W8Vr6Rs524zr1hyoSRyi"], ["created_at", "2018-11-18 23:11:43.387676"], ["updated_at", "2018-11-18 23:11:43.387676"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"9hQsM7CkgLZ8yab4Beqfhdu89gGWlGhyTgqt0gmQcbYgDEm3CgOh9Skn7v5y8XrdOIxsNdRd12ugYsejlNWRYQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 182ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (1.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 15ms (ActiveRecord: 2.1ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.3ms)
Completed 200 OK in 59ms (Views: 54.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:43.715002"], ["updated_at", "2018-11-18 23:11:43.715002"], ["user_id", 448]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 644], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 644], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 644], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (29.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.7ms)
Completed 200 OK in 109ms (Views: 102.6ms | ActiveRecord: 1.5ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:11:43 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 448], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 644]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.7ms)
Completed 200 OK in 75ms (Views: 67.1ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Tcd8nv1g.1yRBAJjWuG4auv1bnHlDk2igDj8vDJtkE6KDCl4koTSW"], ["created_at", "2018-11-18 23:11:44.099085"], ["updated_at", "2018-11-18 23:11:44.099085"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"eEJoRiYeSKehLsaMxVVI686lM0Z2QmlkjJCcLdqkxCsNJj64zMgjPAGtklr0iYQCxNEJ2yRrVdzdhr+tVLRLeQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:44.369202"], ["updated_at", "2018-11-18 23:11:44.369202"], ["user_id", 449]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 645]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.0ms)
Completed 200 OK in 73ms (Views: 65.5ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 449], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (69.3ms)
Completed 200 OK in 84ms (Views: 79.2ms | ActiveRecord: 0.6ms)


  [1m[35m (1.1ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GRrB/MMuaiboCpuDCe26R.fuDPrp5IXXdkwMWt4.cKeNhfus7y0zG"], ["created_at", "2018-11-18 23:11:44.700087"], ["updated_at", "2018-11-18 23:11:44.700087"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/AfiZ4x7r9riROoqN82H7M/igNKmATVOKETP42XRlc8SZ8J4/8wUW0VVa3KhZ3dCGbjJEqej2CcSSXuPaDhoXA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:44.968656"], ["updated_at", "2018-11-18 23:11:44.968656"], ["user_id", 450]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:11:44 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.4ms)
Completed 200 OK in 67ms (Views: 62.5ms | ActiveRecord: 0.5ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"vgnCdlnZ9am0XDwhdWttvK0Rq/KkyClHDdY9N2PD2nvsXjUc7+Om1S86ndgBZwLBICbXvrJguMPnx3lJDQZVBw==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.6ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 646], ["created_at", "2018-11-18 23:11:45.069764"], ["updated_at", "2018-11-18 23:11:45.069764"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 15ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 646]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.0ms)
Completed 200 OK in 79ms (Views: 72.9ms | ActiveRecord: 1.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$l9xP1mZRqRiwzz1GVXKp8.Qy..aKINvnSK08gFTxfqqKRDFZl7wrq"], ["created_at", "2018-11-18 23:11:45.315716"], ["updated_at", "2018-11-18 23:11:45.315716"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 52ms (Views: 50.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"H6wGnr/pXazJHZpvw2Uupq6zR539SIjrS5dWQTjXK53/bMgncyyIljpyr/JXvuWYVg5O6iU7HJXAgTnZiqn/7w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 43.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:45.591907"], ["updated_at", "2018-11-18 23:11:45.591907"], ["user_id", 451]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 647], ["created_at", "2018-11-18 23:11:45.597195"], ["updated_at", "2018-11-18 23:11:45.597195"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 647], ["created_at", "2018-11-18 23:11:45.600111"], ["updated_at", "2018-11-18 23:11:45.600111"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 647]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 647], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 647], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 647], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (21.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.3ms)
Completed 200 OK in 91ms (Views: 85.8ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (1.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (2.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$2M3NFITuGplVvWikJsVWwOG13OlqRtEU7D3h/doTwGYV7abfQfaUu"], ["created_at", "2018-11-18 23:11:45.863458"], ["updated_at", "2018-11-18 23:11:45.863458"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:45 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2AaXo5u4zHk8uJFvPd6z16ExtPlXgjQQ9dDUfAhgwiIX/RnsbqkoRVYFgHSsUiImdhukoNZHT47orB9jGPB0VQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 172ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 48ms (Views: 43.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:46.160078"], ["updated_at", "2018-11-18 23:11:46.160078"], ["user_id", 452]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 648]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 648], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 648], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 648], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (17.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.5ms)
Completed 200 OK in 101ms (Views: 95.6ms | ActiveRecord: 1.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3eZEM6/ZyL5Ks9kjhScdzumhkk5YlIg/PHpgYMVRNbWq8I.jHsS/W"], ["created_at", "2018-11-18 23:11:46.425938"], ["updated_at", "2018-11-18 23:11:46.425938"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 41.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NjgDs16sDoaVPe51VjPJZyxbT2zV5GvtmgQdlVEmiG0roxzgnOs/P3urUyBlOm/FSYd65qeCSCuFCVHL+W3B4Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:46.694144"], ["updated_at", "2018-11-18 23:11:46.694144"], ["user_id", 453]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 649], ["created_at", "2018-11-18 23:11:46.699496"], ["updated_at", "2018-11-18 23:11:46.699496"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.6ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 649], ["created_at", "2018-11-18 23:11:46.703491"], ["updated_at", "2018-11-18 23:11:46.703491"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (1.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 649]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 649], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 649], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 649], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 649], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (29.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.1ms)
Completed 200 OK in 107ms (Views: 99.7ms | ActiveRecord: 1.8ms)


  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$fbi0CDjXolWm/4/X.ZiSEuOn1dptDC/hA.Dtjiheu0q80XrmDFag6"], ["created_at", "2018-11-18 23:11:46.995551"], ["updated_at", "2018-11-18 23:11:46.995551"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:46 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"THuhZur4XMUObQXExskpiCVniAF9Qu8iQcwlFg97cj5nFU+t1hQLI9In1Pp3/ToaL29fs0wzwvTPJRxw7SO20w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.2ms)
Completed 200 OK in 54ms (Views: 44.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:47.278932"], ["updated_at", "2018-11-18 23:11:47.278932"], ["user_id", 454]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 650]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 650], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 650], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.3ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 650], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (24.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.4ms)
Completed 200 OK in 97ms (Views: 87.5ms | ActiveRecord: 1.8ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$BAgN8g3.9KatnEST1EQDDe9aQoKfehJ9ZJl/LIAOH1nT39CBS0hSW"], ["created_at", "2018-11-18 23:11:47.545495"], ["updated_at", "2018-11-18 23:11:47.545495"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d2l6Q4wv+gYs2+9pgZDVeuHFqp3LL/ys4ODeeg1nG+izNq0gq/1Qw+SwWKKwioFolFspo8kvWCh8LXqH8bWTGA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 45ms (Views: 41.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:47.813803"], ["updated_at", "2018-11-18 23:11:47.813803"], ["user_id", 455]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 651], ["created_at", "2018-11-18 23:11:47.818812"], ["updated_at", "2018-11-18 23:11:47.818812"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 651], ["created_at", "2018-11-18 23:11:47.821570"], ["updated_at", "2018-11-18 23:11:47.821570"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 651]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 651]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:47 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 651], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.2ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 651], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 651], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 651], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 651], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 651], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (22.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.7ms)
Completed 200 OK in 100ms (Views: 94.3ms | ActiveRecord: 1.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Oc1s6cHPH/VXF91KSUtn0eP/RyvCJL6Ppi1baBsx7qA0666/nXiJi"], ["created_at", "2018-11-18 23:11:48.092812"], ["updated_at", "2018-11-18 23:11:48.092812"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"33fzFVe55xEeK6gmx/NlS8mjOddHiM5NICNDBc1gc85HjrJD4mcSoWikpvZ07lEXZW3qcQF9C1H5Wl7TwmQWvw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 178ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 1.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (7.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 55ms (Views: 43.8ms | ActiveRecord: 7.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:48.401785"], ["updated_at", "2018-11-18 23:11:48.401785"], ["user_id", 456]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 652]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 652], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 652], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.6ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 652], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (18.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.7ms)
Completed 200 OK in 88ms (Views: 82.9ms | ActiveRecord: 1.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xi3LfAQL8MEDGhapXbMLSei/ZClvvM6e53IuBPJdqrlfi1I569nGO"], ["created_at", "2018-11-18 23:11:48.654402"], ["updated_at", "2018-11-18 23:11:48.654402"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 42.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"krKbarknjVQCA6D7KMUovMzkBxGWSiAiu0f5k7LYeCWe7NoRX8oGck8pUKdyH1MIia/WPIgqlG0zRQpzZ4/2nA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.9ms)
Completed 200 OK in 54ms (Views: 51.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:11:48.932563"], ["updated_at", "2018-11-18 23:11:48.932563"], ["user_id", 457]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 653]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:11:48 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 653], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 653], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 653], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (23.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.8ms)
Completed 200 OK in 95ms (Views: 85.0ms | ActiveRecord: 2.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:14:18 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (2.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (1.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.7ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (5.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (37.0ms)
Completed 200 OK in 65ms (Views: 52.2ms | ActiveRecord: 4.3ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 21:14:21 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (23.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.7ms)
Completed 200 OK in 95ms (Views: 84.4ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:15:08 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.8ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.3ms)
Completed 200 OK in 76ms (Views: 65.0ms | ActiveRecord: 2.5ms)


Started GET "/profiles/teste@gmail.com/platelets/new" for 127.0.0.1 at 2018-11-18 21:15:11 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (17.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (36.1ms)
Completed 200 OK in 77ms (Views: 69.0ms | ActiveRecord: 1.2ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:17:20 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (1.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.8ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (9.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.2ms)
Completed 200 OK in 84ms (Views: 72.0ms | ActiveRecord: 4.0ms)


Started GET "/profiles/teste@gmail.com/platelets" for 127.0.0.1 at 2018-11-18 21:17:22 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"teste@gmail.com"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/gems/activerecord-5.2.1/lib/active_record/log_subscriber.rb:98
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "teste@gmail.com"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.8ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 229]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.5ms)
Completed 200 OK in 83ms (Views: 74.5ms | ActiveRecord: 1.7ms)


  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/support/env.rb:7
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HDGb9EDlgD1TAOIycvB.K.vVVgD1a5dkkGoMT2ekSWrg2skI276NG"], ["created_at", "2018-11-18 23:19:03.650702"], ["updated_at", "2018-11-18 23:19:03.650702"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:03 -0200
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  â†³ features/step_definitions/common_steps.rb:44
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (6.8ms)
Completed 200 OK in 338ms (Views: 325.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:04 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JQr76QgfuSaFRe1tb8/RHZ4hlL2QDMKyhllig7lt7QWTJ7M2M21WKdn1FK4Qe51q78mVqquLWaECeOybVy2UmA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 190ms (ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.7ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 77ms (ActiveRecord: 4.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:04 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (138.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (69.5ms)
Completed 200 OK in 247ms (Views: 221.0ms | ActiveRecord: 3.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:04.600027"], ["updated_at", "2018-11-18 23:19:04.600027"], ["user_id", 458]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:04 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 654], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 654], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.5ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 654], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (57.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (121.2ms)
Completed 200 OK in 213ms (Views: 194.1ms | ActiveRecord: 7.4ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:19:04 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.7ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 654]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (5.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.0ms)
Completed 200 OK in 89ms (Views: 78.6ms | ActiveRecord: 2.8ms)


  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.9ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Jgdzvp5aW8Qtbpc6Ke2YDOF5vVmdkgmKAmYwYfj.jF2nE0CVZ6JuW"], ["created_at", "2018-11-18 23:19:05.100672"], ["updated_at", "2018-11-18 23:19:05.100672"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 50.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"p1NCbNaVDx41DJRs4fqZZgrU2iH0QdZ5AUE7jU1Ei5JouwasXoouBZPULHHHTCycnO1Qv2Q9sFIyvLky3LUkVA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 459], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 459], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.1ms)
Completed 200 OK in 44ms (Views: 40.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:05.382237"], ["updated_at", "2018-11-18 23:19:05.382237"], ["user_id", 459]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 459], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 655]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.2ms)
Completed 200 OK in 67ms (Views: 61.7ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 459], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (2.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (60.1ms)
Completed 200 OK in 84ms (Views: 77.0ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$AtTpifjzUEYu9DHCO0js/e.xEDCXyZPIEwMTjSfEMYyiFqkwHIB8G"], ["created_at", "2018-11-18 23:19:05.701648"], ["updated_at", "2018-11-18 23:19:05.701648"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 44ms (Views: 42.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"p66Pzr/JbPhWeI5/r8cwOCBg6BkhCKULZK2N6Cjgk71NM8mbUBPqeDNWtVPRoFRmZW7zmw4yphuheLzd1KBcRQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 190ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:05 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (29.7ms)
Completed 200 OK in 49ms (Views: 44.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:06.009950"], ["updated_at", "2018-11-18 23:19:06.009950"], ["user_id", 460]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/allergies/new" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  â†³ features/step_definitions/allergy_register_steps.rb:14
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/new.html.erb within layouts/internal
  Rendered allergies/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.9ms)
Completed 200 OK in 81ms (Views: 72.7ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by AllergiesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Q509dizwsiMtyliz0bsokt4F34gGZmjCNzWbsZ5NFJjSoUogY9sA8MMUkUifZrgG+gx1PiltQVavT1KDMJH8xQ==", "allergy"=>{"name"=>"Plasil", "description"=>"PrincÃ­pio Ativo: Cloridrato de metoclopramida"}, "commit"=>"Save Allergy", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
  [1m[36mAllergy Create (0.9ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Plasil"], ["description", "PrincÃ­pio Ativo: Cloridrato de metoclopramida"], ["profile_id", 656], ["created_at", "2018-11-18 23:19:06.121613"], ["updated_at", "2018-11-18 23:19:06.121613"]]
  â†³ app/controllers/allergies_controller.rb:23
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/allergies_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/allergies
Completed 302 Found in 17ms (ActiveRecord: 3.5ms)


Started GET "/profiles/joao@example.org/allergies" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering allergies/index.html.erb within layouts/internal
  [1m[36mAllergy Load (0.4ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 656]]
  â†³ app/views/allergies/index.html.erb:19
  Rendered allergies/index.html.erb within layouts/internal (4.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.5ms)
Completed 200 OK in 74ms (Views: 64.0ms | ActiveRecord: 1.3ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$2vUDweng2wq5LuOd6C.tNeYiDGR6bfsGqp6SPd384/B.i2z5I0Do6"], ["created_at", "2018-11-18 23:19:06.369359"], ["updated_at", "2018-11-18 23:19:06.369359"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 42ms (Views: 41.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Fy/L/vccyzVI0SaPqa9KqXp/rmbGnhicuKOn4TuZUdRhPUSnCWdvGGoQz6zHXaEbmbG29VjvM2bHLWHJ+KkjQg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 156ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (30.2ms)
Completed 200 OK in 44ms (Views: 40.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:06.636315"], ["updated_at", "2018-11-18 23:19:06.636315"], ["user_id", 461]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (1.1ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 657], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 657], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 657], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (24.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.2ms)
Completed 200 OK in 92ms (Views: 83.9ms | ActiveRecord: 2.3ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.7ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 657]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (9.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.8ms)
Completed 200 OK in 85ms (Views: 70.4ms | ActiveRecord: 4.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$YEl04ThLHI5cilYKu7KwBu.4o0jmgfCLVvZcrUsyIPXztA9AoyNhS"], ["created_at", "2018-11-18 23:19:06.981333"], ["updated_at", "2018-11-18 23:19:06.981333"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:06 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"hbBiOBQGCFPMfowdG4KbMst6f5sbBlnlbMfs0kq8XVTf5sA7PW2EoECGP2i6yiN0GjQoGWkqfhBjchCixSwBhQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:07.250274"], ["updated_at", "2018-11-18 23:19:07.250274"], ["user_id", 462]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:6
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 658]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.4ms)
Completed 200 OK in 82ms (Views: 77.3ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.9ms)
Completed 200 OK in 84ms (Views: 77.9ms | ActiveRecord: 0.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kAseoDLWC.UtUwTC2uZ.j.2uB0I1OjK3D9igmfrApVyrWuT6QeJ8S"], ["created_at", "2018-11-18 23:19:07.593659"], ["updated_at", "2018-11-18 23:19:07.593659"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 47ms (Views: 46.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"/YUqXC+4blkD9yrSEqrov/0WTlH20cbr6nC5zno9vlBXICnCFNATIO7+bSvFg7nBIoD2LKnpbAO0AaEMq7TWeA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 49ms (Views: 44.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:07.883239"], ["updated_at", "2018-11-18 23:19:07.883239"], ["user_id", 463]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/contacts/new" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  â†³ features/step_definitions/contact_register_steps.rb:14
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/new.html.erb within layouts/internal
  Rendered contacts/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.7ms)
Completed 200 OK in 73ms (Views: 68.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ContactsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3hd8Tb4hHX+bBvzOaz914JAvpX+fNdL+nZImMfC/G5Oa4dM8RxQW9EsWEEdSqomcfO7nMr3mk1ER77HfIEWoEA==", "contact"=>{"email"=>"joaquim@exemplo.org", "name"=>"Joaquim Torres", "phone"=>"11988881787", "mobile"=>"1120939091"}, "commit"=>"Save Contact", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
  [1m[36mContact Create (0.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joaquim@exemplo.org"], ["name", "Joaquim Torres"], ["phone", "11988881787"], ["mobile", "1120939091"], ["profile_id", 659], ["created_at", "2018-11-18 23:19:07.992552"], ["updated_at", "2018-11-18 23:19:07.992552"]]
  â†³ app/controllers/contacts_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/contacts_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/contacts
Completed 302 Found in 14ms (ActiveRecord: 3.0ms)


Started GET "/profiles/joao@example.org/contacts" for 127.0.0.1 at 2018-11-18 21:19:07 -0200
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering contacts/index.html.erb within layouts/internal
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 659]]
  â†³ app/views/contacts/index.html.erb:24
  Rendered contacts/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.8ms)
Completed 200 OK in 77ms (Views: 64.4ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$NOdNHrC.XC.gZmTWeJ43MOYsi6b.sfyBMQiCeyat1WeEitPL.njEa"], ["created_at", "2018-11-18 23:19:08.241856"], ["updated_at", "2018-11-18 23:19:08.241856"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DTDOK8pYKF51s1CBafDrFJVxFwfXr+u2I1fZW1JGqo0tGqTIYfqL+HLpFRjTnxlYpzAKLaFshihj8JaY85ZAkw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 163ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.1ms)
Completed 200 OK in 55ms (Views: 50.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:08.530371"], ["updated_at", "2018-11-18 23:19:08.530371"], ["user_id", 464]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 660], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 660], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.1ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 660], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.6ms)
  Rendered profiles/show.html.erb within layouts/internal (27.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.2ms)
Completed 200 OK in 105ms (Views: 96.9ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.7ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 660]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (8.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.5ms)
Completed 200 OK in 82ms (Views: 66.3ms | ActiveRecord: 4.3ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (33.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$PRQkChMncAHF0Qi5bDwah.vMcK2UEK06879pt0BIWUmCemZQocJFS"], ["created_at", "2018-11-18 23:19:08.943807"], ["updated_at", "2018-11-18 23:19:08.943807"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:08 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.4ms)
Completed 200 OK in 63ms (Views: 60.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HA+spKNl9HSbIBMozkG7p5hFVFceo6pWYP+X7kSvDpmIKCD8FOV76nRR5LWjciq2EnN2UR/i1cS+G27vIBbacQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 179ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 45ms (Views: 41.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:09.266922"], ["updated_at", "2018-11-18 23:19:09.266922"], ["user_id", 465]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 661]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (2.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.3ms)
Completed 200 OK in 58ms (Views: 52.7ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (8.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (78.3ms)
Completed 200 OK in 113ms (Views: 104.9ms | ActiveRecord: 0.8ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZBFsMlAwuZdQgQ8LkzD9m./FWcSgQ3Pd3fRvT/0byrzwVsvYouWrG"], ["created_at", "2018-11-18 23:19:09.613518"], ["updated_at", "2018-11-18 23:19:09.613518"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 47ms (Views: 45.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"ujLM0JGyV8iDpveUXU2NBcGPf0PG/HEwxszxo9wL6mRk22Yg0ydmYeoaSA6R6woxH33PQ37btNvTrMBYfawF2g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 164ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:09.909139"], ["updated_at", "2018-11-18 23:19:09.909139"], ["user_id", 466]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/glucose_measures/new" for 127.0.0.1 at 2018-11-18 21:19:09 -0200
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  â†³ features/step_definitions/glucose_measures_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/new.html.erb within layouts/internal
  Rendered glucose_measures/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.2ms)
Completed 200 OK in 72ms (Views: 68.0ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"BTfoHaE+v1DHzppKZhTgKsKdtmUXhvVWTFYQYJulPoHM1/abMFw4laZSL5taHEqki/pAmyvf7LaxztbXbv2TjA==", "glucose_measure"=>{"value"=>"1", "fasting"=>"1", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"19"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[36mGlucoseMeasure Create (0.9ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.0], ["date", "2018-11-18 21:19:00"], ["fasting", true], ["profile_id", 662], ["created_at", "2018-11-18 23:19:10.037687"], ["updated_at", "2018-11-18 23:19:10.037687"]]
  â†³ app/controllers/glucose_measures_controller.rb:22
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/glucose_measures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/glucose_measures
Completed 302 Found in 24ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/glucose_measures" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering glucose_measures/index.html.erb within layouts/internal
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 662]]
  â†³ app/views/glucose_measures/index.html.erb:21
  Rendered glucose_measures/index.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (42.3ms)
Completed 200 OK in 73ms (Views: 65.7ms | ActiveRecord: 1.2ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$o1wvV4.tlmRGqnaUBtoXvuTdsfXPW.EFZKtjjdd7MSngbISDwZt7y"], ["created_at", "2018-11-18 23:19:10.284688"], ["updated_at", "2018-11-18 23:19:10.284688"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.1ms)
Completed 200 OK in 61ms (Views: 60.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"w0ZME/uAVO/zSbyn1WIj77m3caa49FRm3/PcL56iYHZzrAtiGMG5+Cz0DPiiZelHqLcOykWFZrM/PNfYITh1gg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:10.578477"], ["updated_at", "2018-11-18 23:19:10.578477"], ["user_id", 467]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 663], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 663], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 663], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (19.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.5ms)
Completed 200 OK in 90ms (Views: 84.6ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.7ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 663]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (6.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.9ms)
Completed 200 OK in 97ms (Views: 87.0ms | ActiveRecord: 3.1ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$FHr7yeqsvMTP0T5ZdwclOOa8q881nROPe1xHEjlN3Umm1x74g0o2S"], ["created_at", "2018-11-18 23:19:10.933899"], ["updated_at", "2018-11-18 23:19:10.933899"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:10 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"n+A1svMPCIZpVkNzTCAunw5+0gAtWunb940E3DmtrAdnQiacWEPCD9CXVEEajr/RVjxAgu/7yYkZmAOSDiiTmw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.4ms)
Completed 200 OK in 45ms (Views: 41.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:11.203239"], ["updated_at", "2018-11-18 23:19:11.203239"], ["user_id", 468]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 664]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.3ms)
Completed 200 OK in 75ms (Views: 70.3ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (1.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.1ms)
Completed 200 OK in 65ms (Views: 60.5ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$SSoiKNhnk559Bxb79bIy2eEhvlMN93D.EdNpPKjlBFLMWV4LonCfC"], ["created_at", "2018-11-18 23:19:11.520286"], ["updated_at", "2018-11-18 23:19:11.520286"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (12.4ms)
Completed 200 OK in 59ms (Views: 58.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+CyNJnvWQWTI/AdvPt6SCJE/AY7BIqbtkupS3OvChfcduCsgRwTpFF+4zAmxO034Al2887QJGcnbVDKsSyrdfg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 179ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.6ms)
Completed 200 OK in 60ms (Views: 55.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:11.853648"], ["updated_at", "2018-11-18 23:19:11.853648"], ["user_id", 469]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/hdls/new" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  â†³ features/step_definitions/hdl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/new.html.erb within layouts/internal
  Rendered hdls/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.4ms)
Completed 200 OK in 86ms (Views: 74.2ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by HdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"+yCMF21MwoU+xIbjkQRdviEBT+z9mLqE2YFWhwJxNNp3FC8kAX4ncR6SRFIH+sLyLnIGo2TsnHg+T9EtEzts7w==", "hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
  [1m[36mHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 665], ["created_at", "2018-11-18 23:19:11.991768"], ["updated_at", "2018-11-18 23:19:11.991768"]]
  â†³ app/controllers/hdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/hdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/hdls
Completed 302 Found in 32ms (ActiveRecord: 4.5ms)


Started GET "/profiles/joao@example.org/hdls" for 127.0.0.1 at 2018-11-18 21:19:11 -0200
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering hdls/index.html.erb within layouts/internal
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 665]]
  â†³ app/views/hdls/index.html.erb:19
  Rendered hdls/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.3ms)
Completed 200 OK in 71ms (Views: 61.9ms | ActiveRecord: 1.2ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$3fUlBz86M00s28eGP7mS8uoKTS7b2WEJSvyrFbZSzKwIdEpNExlzy"], ["created_at", "2018-11-18 23:19:12.238623"], ["updated_at", "2018-11-18 23:19:12.238623"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 43ms (Views: 42.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"HoYjaYrSveYeFTfk2LCda2DPRpuH4DFTK3FUOSVpQ/7B0iBNdVabPXTnflRRsdtaAM/d7f8XOU/hM87ALKqzFg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:12.514326"], ["updated_at", "2018-11-18 23:19:12.514326"], ["user_id", 470]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.8ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 666], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 666], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 666], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (27.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.3ms)
Completed 200 OK in 109ms (Views: 99.9ms | ActiveRecord: 2.1ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 666]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.3ms)
Completed 200 OK in 76ms (Views: 67.5ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1Gq1F37H2N1dmwVwOrowEOsCEI.MhCURpGwmiqbv/LhX9OetNedcK"], ["created_at", "2018-11-18 23:19:12.886943"], ["updated_at", "2018-11-18 23:19:12.886943"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 42ms (Views: 41.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:12 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uu9PRz3ZlM5CxBsshWwBLYqM4O5SF3d5NssIGl1XPUnKpBO8nXIyrr6pIu9H7WvI6+/ZNDgryG1bNNkmEca72Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.3ms)
Completed 200 OK in 48ms (Views: 43.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:13.157305"], ["updated_at", "2018-11-18 23:19:13.157305"], ["user_id", 471]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 667]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (64.1ms)
Completed 200 OK in 80ms (Views: 75.1ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.8ms)
Completed 200 OK in 76ms (Views: 70.3ms | ActiveRecord: 0.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ci2Q5DGTL2D6qerI.yPFH.UW2IlJHSpijQAkOc7qRl6v7Qu2q0U9i"], ["created_at", "2018-11-18 23:19:13.488177"], ["updated_at", "2018-11-18 23:19:13.488177"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 63ms (Views: 62.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"oKGFn13IWubqNqJOh6FToiQM1rb3CXa9E6GelBSpekj/GZWrB30aHH5ITXhu9org7uKdZKInVDIfkO+t9zNApQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 165ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:13.790950"], ["updated_at", "2018-11-18 23:19:13.790950"], ["user_id", 472]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/heights/new" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  â†³ features/step_definitions/height_register_steps.rb:2
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/new.html.erb within layouts/internal
  Rendered heights/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.9ms)
Completed 200 OK in 78ms (Views: 69.2ms | ActiveRecord: 0.9ms)


Started POST "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by HeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"G1OcZ7BMXT6IyfLCGk9vhdPR4wEFH83B5+ojbCkGjig+zYeIzTi8hYEhcO53m5APfqXZyzEJvqtrRYd0Qry4Fw==", "height"=>{"value"=>"1.65", "date"=>"21/12/2017"}, "commit"=>"Save Height", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
  [1m[36mHeight Create (1.0ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.65"], ["date", "2017-12-21"], ["profile_id", 668], ["created_at", "2018-11-18 23:19:13.900874"], ["updated_at", "2018-11-18 23:19:13.900874"]]
  â†³ app/controllers/heights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/heights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/heights
Completed 302 Found in 15ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/heights" for 127.0.0.1 at 2018-11-18 21:19:13 -0200
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 472], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (1.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering heights/index.html.erb within layouts/internal
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 668]]
  â†³ app/views/heights/index.html.erb:19
  Rendered heights/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.1ms)
Completed 200 OK in 84ms (Views: 74.1ms | ActiveRecord: 2.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$gc/4hLPZJJcIBrz6FCzEHecCqKyIVDFvuJ9d1xlgCKkaq9B.NYvVq"], ["created_at", "2018-11-18 23:19:14.159344"], ["updated_at", "2018-11-18 23:19:14.159344"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 47ms (Views: 46.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"XvxV6gtgbPxWUVfyj7a3OnJdMMlkPv+53z33w5eA3PggXuIpoICxon3jDsd3atXZlvMH9UwvVvWU18WVtJOCPQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 53ms (Views: 49.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:14.458717"], ["updated_at", "2018-11-18 23:19:14.458717"], ["user_id", 473]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 669], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.1ms)
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 669], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 669], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (27.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.6ms)
Completed 200 OK in 102ms (Views: 92.5ms | ActiveRecord: 2.0ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 473], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.9ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 669]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (7.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.6ms)
Completed 200 OK in 89ms (Views: 76.3ms | ActiveRecord: 2.9ms)


  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$lgLtVzMnar82WQTmXC8.BO4HjiHVcI.Qq3xIt0OStbjFc7AWJOvT2"], ["created_at", "2018-11-18 23:19:14.828601"], ["updated_at", "2018-11-18 23:19:14.828601"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 47ms (Views: 46.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:14 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PM14UOoYO0XmfM2Ox3hKb08gzToVz5rgriSvQQR0TfzopMRELlo9t1vlyqj2RQrBovmiTbes7UFJeKslumarzA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:15.102485"], ["updated_at", "2018-11-18 23:19:15.102485"], ["user_id", 474]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 670]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.3ms)
Completed 200 OK in 66ms (Views: 61.4ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.6ms)
Completed 200 OK in 67ms (Views: 59.8ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$4EaXM9lqjQaj0afJ.VXk8OO0rtiBSPIlvvZLF0UVNtOhXyxSqzCNy"], ["created_at", "2018-11-18 23:19:15.411912"], ["updated_at", "2018-11-18 23:19:15.411912"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 51ms (Views: 50.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PR6lxoi24G4MzcV62wsogpv9uo8z1ciMA5uciZAYnQ0XM3ED4lG0rzRXXTjHgUjgqNIIeBCu/gnbBpiydN6TbQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 161ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.2ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:15.696605"], ["updated_at", "2018-11-18 23:19:15.696605"], ["user_id", 475]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/ldls/new" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  â†³ features/step_definitions/ldl_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/new.html.erb within layouts/internal
  Rendered ldls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.5ms)
Completed 200 OK in 74ms (Views: 67.1ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by LdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"JbqS3y/NNwz0jGtdqQoO/uJomzxitY6jTu4JMZZsS8KdStQUsoJitF6Bu8EgWvdVxClTe5Z0EETRIuoRZkwIJA==", "ldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save LDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
  [1m[36mLdl Create (0.7ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 671], ["created_at", "2018-11-18 23:19:15.807105"], ["updated_at", "2018-11-18 23:19:15.807105"]]
  â†³ app/controllers/ldls_controller.rb:24
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/ldls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/ldls
Completed 302 Found in 16ms (ActiveRecord: 3.4ms)


Started GET "/profiles/joao@example.org/ldls" for 127.0.0.1 at 2018-11-18 21:19:15 -0200
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering ldls/index.html.erb within layouts/internal
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 671]]
  â†³ app/views/ldls/index.html.erb:19
  Rendered ldls/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.5ms)
Completed 200 OK in 83ms (Views: 72.4ms | ActiveRecord: 2.1ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$1PSfVmk5ljFG25qtRgyVgejk4Jn.zQ/tyU4k/LIPtqzHTYUkwRu4y"], ["created_at", "2018-11-18 23:19:16.063516"], ["updated_at", "2018-11-18 23:19:16.063516"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 54ms (Views: 52.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"VSQklwdz0N93a9VS67TOBV9VaELLW4BNI8/b4eVXk80c86t5ZXSPbMpwhSykzw5+ddDyDHGLBQBVknL6jSGhmA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:16.353236"], ["updated_at", "2018-11-18 23:19:16.353236"], ["user_id", 476]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 672], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 672], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 672], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (22.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.3ms)
Completed 200 OK in 95ms (Views: 89.8ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.7ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 672]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.6ms)
Completed 200 OK in 90ms (Views: 74.4ms | ActiveRecord: 4.2ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$8SD7zIXm1gbobJjIE2R88.2JYGCxFb6Q/e/EQ.Af2bqCIcof9A9nC"], ["created_at", "2018-11-18 23:19:16.720646"], ["updated_at", "2018-11-18 23:19:16.720646"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"DH/udT7ff3RcWPlBOGp0y1qsbg2EdQmAHdMyWKcxMmZzkVDIb107q/JojafvK2deG7aiXM+t4v6ZGkkVLuVKKQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 167ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:16 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 52ms (Views: 47.1ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:17.012818"], ["updated_at", "2018-11-18 23:19:17.012818"], ["user_id", 477]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 673]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.5ms)
Completed 200 OK in 61ms (Views: 56.7ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (4.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.8ms)
Completed 200 OK in 77ms (Views: 69.1ms | ActiveRecord: 0.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$w.IZ12zx5damvfd/80WREOJ2SmU5TTLU/EOeaVzZeamJrd9bjT77u"], ["created_at", "2018-11-18 23:19:17.329103"], ["updated_at", "2018-11-18 23:19:17.329103"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"uQREo7Zdz9HA/1r0ylhwUMO8RfcgBQVTCDu9DiHYCIqOidYR0BmIz4kDmOyl1ckSXIzqLEAw/Hg2GpchbPOncA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.8ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (39.5ms)
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:17.605618"], ["updated_at", "2018-11-18 23:19:17.605618"], ["user_id", 478]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/medications/new" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  â†³ features/step_definitions/medication_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/new.html.erb within layouts/internal
  Rendered medications/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.6ms)
Completed 200 OK in 81ms (Views: 73.3ms | ActiveRecord: 0.7ms)


Started POST "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by MedicationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"1kJkIhJi3W1UJWJ6nmZ40OduLVgDjmxNKpuYhAZMfvJjUrTwjdDDsnpT7jeqns4KQKJGbj7fNVnLIASnlie1LA==", "medication"=>{"name"=>"cataflan", "categorize"=>"comprimido", "start"=>"01/10/2018", "finish"=>"02/10/2018", "dosage"=>"1 por dia", "infadd"=>"Dores no ombro"}, "commit"=>"Save Medication", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
  [1m[36mMedication Create (1.5ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "cataflan"], ["categorize", "comprimido"], ["start", "2018-10-01"], ["finish", "2018-10-02"], ["dosage", "1 por dia"], ["infadd", "Dores no ombro"], ["profile_id", 674], ["created_at", "2018-11-18 23:19:17.758803"], ["updated_at", "2018-11-18 23:19:17.758803"]]
  â†³ app/controllers/medications_controller.rb:23
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/medications_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/medications
Completed 302 Found in 40ms (ActiveRecord: 11.8ms)


Started GET "/profiles/joao@example.org/medications" for 127.0.0.1 at 2018-11-18 21:19:17 -0200
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering medications/index.html.erb within layouts/internal
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 674]]
  â†³ app/views/medications/index.html.erb:25
  Rendered medications/index.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (71.1ms)
Completed 200 OK in 95ms (Views: 86.4ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$v.t9O87/hxW6ARetZniEjOt8sJzesD4E/e89f6EyLk7t2SLNjgHWG"], ["created_at", "2018-11-18 23:19:18.032258"], ["updated_at", "2018-11-18 23:19:18.032258"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 53ms (Views: 51.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7ZSJBecieEMJze3eO4CxeOLFWRmWy/d5DzF/NdJ3abZSqzcJxhs4Kjq6Q8T+pSoj/Hiz4aVKAjP4fuVlxUIesQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 161ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 45ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:18.317209"], ["updated_at", "2018-11-18 23:19:18.317209"], ["user_id", 479]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 675], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 675], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 675], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (21.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.2ms)
Completed 200 OK in 96ms (Views: 89.8ms | ActiveRecord: 1.6ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.6ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 675]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (6.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.8ms)
Completed 200 OK in 93ms (Views: 80.0ms | ActiveRecord: 3.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$UgqqIFUxaBMh63yZQhaFiulJ6A/RDyxMMXil.3x5gupPmMGBYwdWy"], ["created_at", "2018-11-18 23:19:18.681427"], ["updated_at", "2018-11-18 23:19:18.681427"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.6ms)
Completed 200 OK in 74ms (Views: 72.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"MTy74LpkaNUFtYC7mWtYrJBNzpnk+InWBN59Xeh5QHmaY0liCw/WgMu5F/xhDQqm+HCVncpDVQLYRt+ri89yFA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 158ms (ActiveRecord: 0.6ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.4ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.7ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:18.993419"], ["updated_at", "2018-11-18 23:19:18.993419"], ["user_id", 480]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:19:18 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:10
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 676]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.3ms)
Completed 200 OK in 78ms (Views: 68.4ms | ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.3ms)
Completed 200 OK in 75ms (Views: 71.5ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$VTfMzh54NJBoghanS/x.0uCFuQ5dKe1bI3BmUutPO9qSDsFT0m/O6"], ["created_at", "2018-11-18 23:19:19.323798"], ["updated_at", "2018-11-18 23:19:19.323798"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 42ms (Views: 41.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KJZoQO3bH59KK4I75rFlLbeCVR10QGTWfOX3bH/SuEXsJZgbM5021TjBc5+7CDH4GrDhGnVV3k7Z3nG/7WuLag==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.5ms)
Completed 200 OK in 47ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:19.592233"], ["updated_at", "2018-11-18 23:19:19.592233"], ["user_id", 481]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/nonhdls/new" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  â†³ features/step_definitions/nonhdl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/new.html.erb within layouts/internal
  Rendered nonhdls/new.html.erb within layouts/internal (1.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.4ms)
Completed 200 OK in 66ms (Views: 61.8ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by NonhdlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EIIaa1MuTSmaSJWGSuPPVyCXRBUqU+c2mcnB/NnA1kdR47wJBqc8qn+3O+GjVsHiP0/K/EDvBJZIDyDTEzcs5A==", "non_hdl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Non-HDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[36mNonHdl Create (0.8ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 677], ["created_at", "2018-11-18 23:19:19.705726"], ["updated_at", "2018-11-18 23:19:19.705726"]]
  â†³ app/controllers/nonhdls_controller.rb:24
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/nonhdls_controller.rb:24
Redirected to http://www.example.com/profiles/joao@example.org/nonhdls
Completed 302 Found in 18ms (ActiveRecord: 3.6ms)


Started GET "/profiles/joao@example.org/nonhdls" for 127.0.0.1 at 2018-11-18 21:19:19 -0200
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering nonhdls/index.html.erb within layouts/internal
  [1m[36mNonHdl Load (0.9ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 677]]
  â†³ app/views/nonhdls/index.html.erb:20
  Rendered nonhdls/index.html.erb within layouts/internal (6.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (77.8ms)
Completed 200 OK in 106ms (Views: 98.7ms | ActiveRecord: 1.7ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$4UX8eZwzo1e2J9CKCWwF8.Xs4yJNk6mw8mN.z1XtFeQf1HsITJv5C"], ["created_at", "2018-11-18 23:19:20.011691"], ["updated_at", "2018-11-18 23:19:20.011691"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"PRLboj+MUr18G6hS0cI1NtlX3WVdEt/z/u6Wfu+TUpmOFMmLLAZ2QTjrzmjHB8GYgclT2uHqJ8NyJxatXh+r4Q==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.2ms)
Completed 200 OK in 46ms (Views: 43.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:20.283132"], ["updated_at", "2018-11-18 23:19:20.283132"], ["user_id", 482]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 678], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 678], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 678], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (21.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.0ms)
Completed 200 OK in 99ms (Views: 92.7ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (1.0ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 678]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (12.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.9ms)
Completed 200 OK in 94ms (Views: 79.0ms | ActiveRecord: 4.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$duWVUxNJ/Drzk6yTow9y3OJAlG7i/7VPphD3lFOSzKplVYT9hu4ZC"], ["created_at", "2018-11-18 23:19:20.655185"], ["updated_at", "2018-11-18 23:19:20.655185"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 65ms (Views: 63.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"d6U4OkZ8rAMLIp8vIJZ8InZfOz05QvsiYM7+H1W7JhwwQUaK3tWB5GhzcYcLq3791emDqQV7i5Ofn4vi6xn6ag==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 54ms (Views: 50.7ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:20.967273"], ["updated_at", "2018-11-18 23:19:20.967273"], ["user_id", 483]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:19:20 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:10
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 679]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (59.3ms)
Completed 200 OK in 87ms (Views: 78.0ms | ActiveRecord: 1.2ms)


Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (12.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.2ms)
Completed 200 OK in 107ms (Views: 96.8ms | ActiveRecord: 0.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$eK2mHhRqpalTo.AmCqs55uUKhB6Cq2VB/YQaJwqHgNWBmNO0e.PTu"], ["created_at", "2018-11-18 23:19:21.346317"], ["updated_at", "2018-11-18 23:19:21.346317"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.5ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"7FgAccl20sCnrdrvb1z/3HKjcqfsNGqFho9mc8upCk880C7KuDSF3ThVom8CpV+Ggix+mr7yij3QXY7/c4YlzA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 152ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:21.613175"], ["updated_at", "2018-11-18 23:19:21.613175"], ["user_id", 484]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/platelets/new" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  â†³ features/step_definitions/platelet_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/new.html.erb within layouts/internal
  Rendered platelets/new.html.erb within layouts/internal (5.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.8ms)
Completed 200 OK in 82ms (Views: 77.1ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by PlateletsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"keJa+Fj/9rM+6gm+0CuETp+p3T36TpP9t5XhnVJcE2BriOJkZLSUIN/r0PmzoymF3cTp38+lHrGorQUyxTN5KA==", "platelet"=>{"erythrocyte"=>"1", "hemoglobin"=>"2", "hematocrit"=>"3", "vcm"=>"4", "hcm"=>"5", "chcm"=>"6", "rdw"=>"7", "leukocytep"=>"8", "leukocyteul"=>"14", "neutrophilp"=>"9", "neutrophilul"=>"15", "eosinophilp"=>"10", "eosinophilul"=>"16", "basophilp"=>"11", "basophilul"=>"17", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "total"=>"1000"}, "commit"=>"Save platelet", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/platelets_controller.rb:25
  [1m[36mPlatelet Create (0.7ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 1000], ["profile_id", 680], ["created_at", "2018-11-18 23:19:21.915431"], ["updated_at", "2018-11-18 23:19:21.915431"]]
  â†³ app/controllers/platelets_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/platelets_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/platelets
Completed 302 Found in 42ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/platelets" for 127.0.0.1 at 2018-11-18 21:19:21 -0200
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering platelets/index.html.erb within layouts/internal
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 680]]
  â†³ app/views/platelets/index.html.erb:37
  Rendered platelets/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 49ms (Views: 44.1ms | ActiveRecord: 0.9ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$GfjfXGLtDzXB5qfQCoL39.5.ynLfhciSZ.gqsOg7aQ/5EIpvA5PLO"], ["created_at", "2018-11-18 23:19:22.129453"], ["updated_at", "2018-11-18 23:19:22.129453"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.0ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"nUJYY7OHl26MI5TnAPw5tzyuoiiEdn+zwvI6bGAQs/eJ43XeVcI/eksWAd+JcYjJaza9vGICBZSZ8DYP6Zryqw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.4ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:22.401197"], ["updated_at", "2018-11-18 23:19:22.401197"], ["user_id", 485]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 681], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 681], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 681], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (21.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.5ms)
Completed 200 OK in 99ms (Views: 92.3ms | ActiveRecord: 1.8ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.8ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 681]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (10.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.7ms)
Completed 200 OK in 93ms (Views: 77.4ms | ActiveRecord: 4.3ms)


  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZYt.qB9KnM7v1.RnJZzAyOr87CUunTO9o8YDMIIYtJsIYoEtlB0CS"], ["created_at", "2018-11-18 23:19:22.776182"], ["updated_at", "2018-11-18 23:19:22.776182"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 51.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Ib0PMRs2dkedlEUKS3D6aORcVsPOksnpqnF9eT5BEnrBC0vODa/+QnXhPULLjcKQysX8yrHOCuBYSxiUiMQsyw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:22 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.3ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:23.062351"], ["updated_at", "2018-11-18 23:19:23.062351"], ["user_id", 486]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 682]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (53.8ms)
Completed 200 OK in 73ms (Views: 67.8ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.7ms)
Completed 200 OK in 79ms (Views: 72.7ms | ActiveRecord: 0.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$bq5iH5NhnU8nnKxMC9ZJuupCuE8/MPbzu2pc4nHZss0aFpOdasohe"], ["created_at", "2018-11-18 23:19:23.387863"], ["updated_at", "2018-11-18 23:19:23.387863"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 44ms (Views: 43.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sXK7Omlg0QVwCSguJIhYQ+uD8rntLTsNTAJglhxx90qJ3kBqZAqT6dppKjKWvRmeZf/JmldMW8sJj6PNY/F8bQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.2ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:23.678548"], ["updated_at", "2018-11-18 23:19:23.678548"], ["user_id", 487]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/pressures/new" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  â†³ features/step_definitions/pressure_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/new.html.erb within layouts/internal
  Rendered pressures/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.7ms)
Completed 200 OK in 70ms (Views: 65.8ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by PressuresController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"w55JLbn6FMtB9K2eWDnIdJ8Kq4KzJ7AaowLT40dcB+7M8/oOTW86zCWetCmPlzDp7To3/T+bAXfH36Vd+hAiGg==", "pressure"=>{"systolic"=>"1", "diastolic"=>"10", "date(1i)"=>"2018", "date(2i)"=>"11", "date(3i)"=>"18", "date(4i)"=>"21", "date(5i)"=>"19"}, "commit"=>"Save", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
  [1m[36mPressure Create (0.6ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 10], ["date", "2018-11-18 21:19:00"], ["profile_id", 683], ["created_at", "2018-11-18 23:19:23.815646"], ["updated_at", "2018-11-18 23:19:23.815646"]]
  â†³ app/controllers/pressures_controller.rb:22
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/pressures_controller.rb:22
Redirected to http://www.example.com/profiles/joao@example.org/pressures
Completed 302 Found in 29ms (ActiveRecord: 3.2ms)


Started GET "/profiles/joao@example.org/pressures" for 127.0.0.1 at 2018-11-18 21:19:23 -0200
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering pressures/index.html.erb within layouts/internal
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 683]]
  â†³ app/views/pressures/index.html.erb:18
  Rendered pressures/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.1ms)
Completed 200 OK in 73ms (Views: 64.9ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$xPMzpUOdbRK6rhvHGDrSR.L4PQvz.dvFyWBsLyfPpyIBNqMEiU2GS"], ["created_at", "2018-11-18 23:19:24.061030"], ["updated_at", "2018-11-18 23:19:24.061030"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 46ms (Views: 44.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"a/Q4msxAcDhbPDhI8h9mqjAH5+rS54JdlO6+ryx7MAMc3TFHX4t2DsgQO5h1j9ZQH3R0Y7xtLFD8uDziXdGRqg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.1ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:24.351521"], ["updated_at", "2018-11-18 23:19:24.351521"], ["user_id", 488]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 684], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.6ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 684], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 684], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (19.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.1ms)
Completed 200 OK in 95ms (Views: 90.1ms | ActiveRecord: 1.4ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.6ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 684]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (9.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.8ms)
Completed 200 OK in 92ms (Views: 77.1ms | ActiveRecord: 3.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (1.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DuOi9d6BIM1Sa8KUeHiAQuNjDLGM2/kNx.99zAA1xMZXGinjuAvCW"], ["created_at", "2018-11-18 23:19:24.716979"], ["updated_at", "2018-11-18 23:19:24.716979"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 69ms (Views: 67.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"y4IeGkRw+KQSOAjKGGb556o/TnfxkEzkATSJIAautslZ6igV2w3LsJsRaC7hsa8mr4TDRXGHiDh4aakBInNBuQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:24 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.7ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:25.029233"], ["updated_at", "2018-11-18 23:19:25.029233"], ["user_id", 489]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:6
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 685]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (43.8ms)
Completed 200 OK in 70ms (Views: 61.4ms | ActiveRecord: 1.1ms)


Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.6ms)
Completed 200 OK in 82ms (Views: 75.9ms | ActiveRecord: 0.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$scibFjc8194N5hqTovxosOQYjqv/n4sF6uFW0RAlu.0iPzLZFveP2"], ["created_at", "2018-11-18 23:19:25.356445"], ["updated_at", "2018-11-18 23:19:25.356445"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"T8h6n5j322RcyYTEYqpRKQ2Snr3rGPf5c3Mwc1ujl8VkFA51TnhOGAEvUtLCdUTNe+UzuUWlzqE7p/Nphnl3uw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.6ms)
Completed 200 OK in 49ms (Views: 44.7ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:25.629793"], ["updated_at", "2018-11-18 23:19:25.629793"], ["user_id", 490]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/reactions/new" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  â†³ features/step_definitions/reaction_register_steps.rb:14
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/new.html.erb within layouts/internal
  Rendered reactions/new.html.erb within layouts/internal (2.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.0ms)
Completed 200 OK in 70ms (Views: 65.3ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ReactionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"EZuXb3nzuS+Fo3XasLFx78g1lrZz8LYxqK1XkEZtc9sipjeMdbFqtDBYFJmgNF7UgC6gjIfNt8RF6ng4wo8aqA==", "reaction"=>{"name"=>"Propofol", "cause"=>"Bradicardias", "description"=>"Medicamento", "start"=>"21/10/2018", "finish"=>"21/10/2018"}, "commit"=>"Save Adverse Reaction", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
  [1m[36mReaction Create (1.1ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Bradicardias"], ["description", "Medicamento"], ["start", "2018-10-21"], ["finish", "2018-10-21"], ["profile_id", 686], ["created_at", "2018-11-18 23:19:25.758978"], ["updated_at", "2018-11-18 23:19:25.758978"]]
  â†³ app/controllers/reactions_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/reactions_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/reactions
Completed 302 Found in 31ms (ActiveRecord: 3.7ms)


Started GET "/profiles/joao@example.org/reactions" for 127.0.0.1 at 2018-11-18 21:19:25 -0200
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering reactions/index.html.erb within layouts/internal
  [1m[36mReaction Load (0.4ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 686]]
  â†³ app/views/reactions/index.html.erb:23
  Rendered reactions/index.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.4ms)
Completed 200 OK in 81ms (Views: 72.0ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$sTXze93BZfdfWwFLzXnRX.nhJLmQ.I0PfBjFotw5XtcRe7y.8q24G"], ["created_at", "2018-11-18 23:19:26.021154"], ["updated_at", "2018-11-18 23:19:26.021154"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.0ms)
Completed 200 OK in 53ms (Views: 52.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"dWR0EWTek5BcArT9QB54Z5Vu8z2EeqYazcGB3NGo5cmHNaACRMaoshP6OniSMLZOq4uZ/DggGzPGUsZGsoGEVg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 169ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 48ms (Views: 44.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:26.324076"], ["updated_at", "2018-11-18 23:19:26.324076"], ["user_id", 491]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 687], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 687], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 687], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (25.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (50.4ms)
Completed 200 OK in 100ms (Views: 92.4ms | ActiveRecord: 1.7ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (2.1ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 687]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (9.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.2ms)
Completed 200 OK in 93ms (Views: 77.0ms | ActiveRecord: 5.0ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$33H10gaETAJ6g7wGcByK6eda5AjAlTUx6gd9CyBxsVzvEfh/fozVG"], ["created_at", "2018-11-18 23:19:26.705009"], ["updated_at", "2018-11-18 23:19:26.705009"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 46ms (Views: 45.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0lxvVzVYJji41CjNUYLUNWVGfAbjd8LMHQ5q2/zPtB8Rf9BdjXJd5KX732TY9FXQz+LxMKNvwr/pi7yVWrTAgg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (34.7ms)
Completed 200 OK in 50ms (Views: 46.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:26.993359"], ["updated_at", "2018-11-18 23:19:26.993359"], ["user_id", 492]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:19:26 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:10
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 688]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (2.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 75ms (Views: 68.0ms | ActiveRecord: 0.9ms)


Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.5ms)
Completed 200 OK in 85ms (Views: 76.5ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.DAkrDVqgg4rSeUL336C3.W.9ho6/srhek6DUNr2q0cOL8/V2kbzS"], ["created_at", "2018-11-18 23:19:27.327698"], ["updated_at", "2018-11-18 23:19:27.327698"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.2ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"59amzAoKaeThBqjM+pjzCaccTRX2d+VgLQKC31HSB0ZRXDVjZBPJ5KDhDyfwbL7XZC2jsXuic+Ly15AyOYIQGQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.4ms)
Completed 200 OK in 50ms (Views: 46.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:27.607162"], ["updated_at", "2018-11-18 23:19:27.607162"], ["user_id", 493]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/totals/new" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  â†³ features/step_definitions/total_register_steps.rb:2
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/new.html.erb within layouts/internal
  Rendered totals/new.html.erb within layouts/internal (2.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.3ms)
Completed 200 OK in 78ms (Views: 71.2ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by TotalsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"OwPdqFOYiCl3ZSTI9MRP0KHA2PEq4D/ikKC0umXWQ18dqirgRIbrhB0RX1YE1i67e7C2sUvCM3IgMYYI7JTgUQ==", "total"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save Total Cholesterol", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
  [1m[36mTotal Create (0.8ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 689], ["created_at", "2018-11-18 23:19:27.736001"], ["updated_at", "2018-11-18 23:19:27.736001"]]
  â†³ app/controllers/totals_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/totals_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/totals
Completed 302 Found in 22ms (ActiveRecord: 4.0ms)


Started GET "/profiles/joao@example.org/totals" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering totals/index.html.erb within layouts/internal
  [1m[36mTotal Load (0.4ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 689]]
  â†³ app/views/totals/index.html.erb:20
  Rendered totals/index.html.erb within layouts/internal (4.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (48.6ms)
Completed 200 OK in 81ms (Views: 71.6ms | ActiveRecord: 1.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 71ms (Views: 66.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:19:27 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 89ms (Views: 88.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.1ms)
Completed 200 OK in 79ms (Views: 74.8ms | ActiveRecord: 0.0ms)


Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.0ms)
Completed 200 OK in 93ms (Views: 91.2ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.5ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (4.2ms)
Completed 200 OK in 105ms (Views: 103.5ms | ActiveRecord: 0.0ms)


Started POST "/users" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KCAHB01lWr2hJBRdGGsOywE+FbtQf1MIAX278bQILOGFkTTnXMjWmJeED4nU+k++zeTEpEem0yJ2IjlNwLBv0w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$vp.kUQm9u26ReMQb/2ZPuezmwra9XntJKF6hzST5BFAIJE973xdpW"], ["created_at", "2018-11-18 23:19:28.661824"], ["updated_at", "2018-11-18 23:19:28.661824"]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 151ms (ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (46.7ms)
Completed 200 OK in 62ms (Views: 58.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:28
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
Started GET "/users/sign_up" for 127.0.0.1 at 2018-11-18 21:19:28 -0200
Processing by Devise::RegistrationsController#new as HTML
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (3.8ms)
Completed 200 OK in 75ms (Views: 74.0ms | ActiveRecord: 0.0ms)


  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$aJtLhBmljnaAmrz1AsyhQuXJXFNtpBJkHJfdYZJ7Ik6df8hvZRlY6"], ["created_at", "2018-11-18 23:19:28.996389"], ["updated_at", "2018-11-18 23:19:28.996389"]]
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:32
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:33
Started POST "/users" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by Devise::RegistrationsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"jnQ6akUGV51D5OQ5pS7yFQTZ9d/cIQQJTtsfZFtXAm9tshmhDkDljMXL737yw8eltDkD2tJg69yM/yz5nW5VXQ==", "user"=>{"email"=>"joana@example.org", "password"=>"[FILTERED]", "password_confirmation"=>"[FILTERED]"}, "commit"=>"Sign Up"}
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:4
  Rendering devise/registrations/new.html.erb within layouts/application
  Rendered devise/registrations/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 202ms (Views: 51.3ms | ActiveRecord: 0.7ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$dzvWfJySn7ps9hNgGiCDHe67/IcIx6gj8xTGGWqLkuhOL7T3.xEia"], ["created_at", "2018-11-18 23:19:29.369709"], ["updated_at", "2018-11-18 23:19:29.369709"]]
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_authentication_steps.rb:54
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_authentication_steps.rb:55
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 48ms (Views: 47.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"UNGykWCbWME7DQQz8FeGLESIWjZk4n96fJ0PJ8iqodApm8GIxIHJILnNty7ksG87TJK7Sg6rk1WsxbrvatucWQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 496], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 496], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.0ms)
Completed 200 OK in 77ms (Views: 72.8ms | ActiveRecord: 0.4ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$tkaV2TxebfSQUAwiTGxg5uoiWH3kvRLm7b/.0uxm7TeaWBFZJ9GN."], ["created_at", "2018-11-18 23:19:29.841238"], ["updated_at", "2018-11-18 23:19:29.841238"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 52ms (Views: 51.6ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:29 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"NcVywuoTtzSAPjcWWpUVfhj7qUHtoWdtjXgWah6kfD0Gh9fWkxCVRfsOXdDI4LKGvEV4tCtWggH2jXxuF5DNyA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.5ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.5ms)
Completed 200 OK in 46ms (Views: 42.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.7ms)
Completed 200 OK in 77ms (Views: 73.2ms | ActiveRecord: 0.5ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"v+ypI0tUiQYjGZAYQymBSsEkjb8lgLBUIPapFkI+UtMK1XKESeP4AWKh2BNMyBt1ez+tpmaiHI+C0E4kd6hHcA==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"", "lastname"=>"", "birthdate"=>"", "gender"=>""}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 497], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (4.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.3ms)
Completed 200 OK in 86ms (Views: 78.4ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$CHofwt1WX1Iftz5xb5vLzO7v7Jp./xodLj4.0yDlzAALJ8CYrf9/y"], ["created_at", "2018-11-18 23:19:30.465672"], ["updated_at", "2018-11-18 23:19:30.465672"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"2W+K/S3McHaUUTsU4kmeKVDhDQMyvwgv3hgYOOEQQud4aCdayFTtVZk6wgYAPDy+bKialmCtotO7+mNtLz9l0A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 157ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (1.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.9ms)
Completed 200 OK in 52ms (Views: 45.4ms | ActiveRecord: 1.6ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:11
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.6ms)
Completed 200 OK in 81ms (Views: 76.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"QU5HNdB1USY58cl2w/CvePkcoyzGmHIk0tfXntw65Bgue46IdLF7yewBasIJZPtCQAnexRWYs84P5pIEbtCYgA==", "profile"=>{"email"=>"joao@example.org", "firstname"=>"JoÃ£o", "lastname"=>"Silva", "birthdate"=>"13/12/1980", "sex"=>"Male", "gender"=>"Masculino"}, "commit"=>"Criar meu perfil"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "Silva"], ["birthdate", "1980-12-13"], ["sex", "Male"], ["gender", "Masculino"], ["created_at", "2018-11-18 23:19:30.861083"], ["updated_at", "2018-11-18 23:19:30.861083"], ["user_id", 498]]
  â†³ app/controllers/profiles_controller.rb:27
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:27
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 9ms (ActiveRecord: 2.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:30 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 498], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 690], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 690], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.8ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 690], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (25.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.1ms)
Completed 200 OK in 99ms (Views: 88.3ms | ActiveRecord: 2.1ms)


  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:15
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$8EU7ORibK.d0FhcQKMYvGeUyV97qqbsPcpv4/p8OeBu/b1YLPddgy"], ["created_at", "2018-11-18 23:19:31.140474"], ["updated_at", "2018-11-18 23:19:31.140474"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.8ms)
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"r8e5OfCNa57T3NqXXzdoaZNaoGR7U/Io7+XWNcaXV/0ycokQ5XjxXR2y7x921imc8ZXE36DLDDzNQKDhIWz0vA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.0ms)
Completed 200 OK in 47ms (Views: 43.6ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:31.414288"], ["updated_at", "2018-11-18 23:19:31.414288"], ["user_id", 499]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/edit" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:19
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (63.2ms)
Completed 200 OK in 81ms (Views: 76.2ms | ActiveRecord: 0.6ms)


Started PATCH "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by ProfilesController#update as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"y4uW0/9j+z7drLGxbhBSm6+oJY14n5bERhh2N3XRhZrZUfWeSo8TpMU/RPnsrKa5LECTgstecKcD0kG0WIEnhA==", "profile"=>{"birthdate"=>"13/12/1999", "sex"=>"Female", "gender"=>"Feminino"}, "commit"=>"Salvar meu perfil", "email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[36mCACHE Profile Load (0.0ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:36
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 499], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 691], ["LIMIT", 1]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[36mProfile Update (0.5ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "gender" = $3, "updated_at" = $4 WHERE "profiles"."id" = $5[0m  [["birthdate", "1999-12-13"], ["sex", "Female"], ["gender", "Feminino"], ["updated_at", "2018-11-18 23:19:31.532852"], ["id", 691]]
  â†³ app/controllers/profiles_controller.rb:38
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/profiles_controller.rb:38
  Rendering profiles/edit.html.erb within layouts/internal
  Rendered profiles/edit.html.erb within layouts/internal (6.1ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (65.4ms)
Completed 200 OK in 103ms (Views: 92.0ms | ActiveRecord: 2.1ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$DD9JwDeRN9Xv384GApopMOmzK5V7MTNBNSNi075XtdJnWsVa6.K1a"], ["created_at", "2018-11-18 23:19:31.798121"], ["updated_at", "2018-11-18 23:19:31.798121"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:31 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Yr2uouOGheYy6BLJfTvGCaru97GZwiV4KhrO4Ym0ef6/o1ErGV0tNo5Iq0y9jHEMbET142Xqc0Xe3hpW+VZ7EA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 500], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 500], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:32.087802"], ["updated_at", "2018-11-18 23:19:32.087802"], ["user_id", 500]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joana@example.org"], ["encrypted_password", "$2a$11$ROIddc7/yJ/4HPqsoEecAOvDm8nCaxKpxlQMrhQ1wpcq/CtaIVSk2"], ["created_at", "2018-11-18 23:19:32.236348"], ["updated_at", "2018-11-18 23:19:32.236348"]]
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["email", "joana@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:32.374906"], ["updated_at", "2018-11-18 23:19:32.374906"]]
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/user_profile_steps.rb:50
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:52
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joana@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:53
Started GET "/profiles/joana@example.org/edit" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joana@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 500], ["LIMIT", 1]]
  â†³ features/step_definitions/user_profile_steps.rb:41
  Rendering public/401.html
  Rendered public/401.html (0.5ms)
Filter chain halted as :block_crossprofile_access rendered or redirected
Completed 401 Unauthorized in 85ms (Views: 82.9ms | ActiveRecord: 0.4ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$2ai2ERFq4QQP516KKASnQumWzzwJLs8p0I4Ix.1d1nge43GoKYUI6"], ["created_at", "2018-11-18 23:19:32.611886"], ["updated_at", "2018-11-18 23:19:32.611886"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 43ms (Views: 42.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"sCNIo1hHlqPRoOh84pqtn9nH/h+Hk9oFkX6xIN54JnbUI7BuQppxqOT38b8+sWFCUAPMIaTRCyX+ZZxLRTQrSA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.3ms)
Completed 200 OK in 48ms (Views: 44.0ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:32.882259"], ["updated_at", "2018-11-18 23:19:32.882259"], ["user_id", 502]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:32 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 694], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.3ms)
  [1m[36mHeight Load (1.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 694], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.1ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 694], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (26.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.6ms)
Completed 200 OK in 110ms (Views: 101.4ms | ActiveRecord: 2.7ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.7ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 694]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (8.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (51.4ms)
Completed 200 OK in 94ms (Views: 79.8ms | ActiveRecord: 3.6ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$jFIPYL9KRCXuTqED7/cgwOfhx9ldYTWk/vdKVIvaeWvDAppDRBeDm"], ["created_at", "2018-11-18 23:19:33.291008"], ["updated_at", "2018-11-18 23:19:33.291008"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.7ms)
Completed 200 OK in 53ms (Views: 51.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"B29/WNAfrQQaK2UIxGlvnJcwk5caexMDHs3NLnquQpwaY3nPwx+jHiJLNthZ44fstTItBm32q9kVBbE5Xa3YbQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (10.0ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 173ms (ActiveRecord: 10.0ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:33.598294"], ["updated_at", "2018-11-18 23:19:33.598294"], ["user_id", 503]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:10
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 695]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (3.0ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.3ms)
Completed 200 OK in 81ms (Views: 71.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (66.2ms)
Completed 200 OK in 90ms (Views: 84.1ms | ActiveRecord: 0.6ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZUZYmO2AIhDMPTq8ro..2OAlWYLArLOUav/ZF5wWp5Ll5BkZs1jEq"], ["created_at", "2018-11-18 23:19:33.948042"], ["updated_at", "2018-11-18 23:19:33.948042"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:33 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Xmu0Y2dlh/kIQ+0rjgJ1FPcMtkWT3s3dEfYklCbObaRY2fqMYcccF5AZLtgG4mrkS63TOhKUGwWSICjW1U2ABQ==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.6ms)
Completed 200 OK in 46ms (Views: 42.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:34.247529"], ["updated_at", "2018-11-18 23:19:34.247529"], ["user_id", 504]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/vldls/new" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  â†³ features/step_definitions/vldl_register_steps.rb:2
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/new.html.erb within layouts/internal
  Rendered vldls/new.html.erb within layouts/internal (1.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (52.5ms)
Completed 200 OK in 67ms (Views: 62.6ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by VldlsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"oaiuFoX1o3oT5YXungpafuSURRabMSu3vwtYWngpmp9KYDBtNO+XyBtqmp51fNO/fddOhCgES73C8lkZFHqk7w==", "vldl"=>{"value"=>"140", "date"=>"21/10/2018"}, "commit"=>"Save VLDL", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 140], ["date", "2018-10-21"], ["profile_id", 696], ["created_at", "2018-11-18 23:19:34.347735"], ["updated_at", "2018-11-18 23:19:34.347735"]]
  â†³ app/controllers/vldls_controller.rb:25
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/vldls_controller.rb:25
Redirected to http://www.example.com/profiles/joao@example.org/vldls
Completed 302 Found in 16ms (ActiveRecord: 3.3ms)


Started GET "/profiles/joao@example.org/vldls" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering vldls/index.html.erb within layouts/internal
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 696]]
  â†³ app/views/vldls/index.html.erb:19
  Rendered vldls/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.2ms)
Completed 200 OK in 73ms (Views: 67.1ms | ActiveRecord: 0.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.7ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Z357Hwa4HNZnliQYpeXIgOYaeHRNRI39DqIkb6eF5j639Bjz05wAS"], ["created_at", "2018-11-18 23:19:34.593147"], ["updated_at", "2018-11-18 23:19:34.593147"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 49ms (Views: 48.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"3SVhdNsAKuMdAGm/y8cyOJzYgOSyHwWTnaj6ibZ3VJ4tz20zcDPrtDJ+3fs5ZxwK83+/vuOR23BiMkM1qN92PA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.7ms)
Completed 200 OK in 55ms (Views: 51.1ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:34.888252"], ["updated_at", "2018-11-18 23:19:34.888252"], ["user_id", 505]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:34 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 697], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.7ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 697], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.1ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 697], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (28.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (44.3ms)
Completed 200 OK in 100ms (Views: 90.4ms | ActiveRecord: 2.0ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 697]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 86ms (Views: 78.8ms | ActiveRecord: 1.0ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$ZD5NY57PStAcOM/HwDt76e2jKOL469.Wm1d03pl4o8u05OwRXog/W"], ["created_at", "2018-11-18 23:19:35.268305"], ["updated_at", "2018-11-18 23:19:35.268305"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.2ms)
Completed 200 OK in 52ms (Views: 51.1ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"0w9PHdTrQ5Ss26kvPaA6rG2OjsGPQo0yyLuI2GldaH6yPqq2Fuv7Avu1P+jq4A8eo3S6tGCDYhJx2oVG99Antw==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (35.5ms)
Completed 200 OK in 50ms (Views: 46.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:35.564215"], ["updated_at", "2018-11-18 23:19:35.564215"], ["user_id", 506]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:15
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 698]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (2.9ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (54.3ms)
Completed 200 OK in 78ms (Views: 71.0ms | ActiveRecord: 1.0ms)


Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:4
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (1.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (56.4ms)
Completed 200 OK in 88ms (Views: 79.9ms | ActiveRecord: 0.7ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$/u.Ib/SPWrEAl40rjjYpQOi/5OgVV/03scF2G9iz/LDkVQAzXN26."], ["created_at", "2018-11-18 23:19:35.916106"], ["updated_at", "2018-11-18 23:19:35.916106"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.3ms)
Completed 200 OK in 52ms (Views: 50.4ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:35 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"rn/gUoHpkbCZoC30l1tDcTCp3Wq2EA/pSE9Lhh6YBE/Zg0xsXiySVz4jsCZJT4Fjd15jbb/AaJOKheqA4JERWA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 154ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 46ms (Views: 42.8ms | ActiveRecord: 0.3ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:36.197109"], ["updated_at", "2018-11-18 23:19:36.197109"], ["user_id", 507]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
Started GET "/profiles/joao@example.org/weights/new" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:7
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/new.html.erb within layouts/internal
  Rendered weights/new.html.erb within layouts/internal (2.8ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (49.1ms)
Completed 200 OK in 64ms (Views: 59.7ms | ActiveRecord: 0.6ms)


Started POST "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by WeightsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"6KfG2iUxzIF2Hz3jAUuiqevvA0Qtr5UUxLnDTJzp83pP25mjY2SMDBuIaqMbhBSeA8uaIXmeYvnoX+M5WuCkjg==", "weight"=>{"value"=>"67", "date"=>"21/12/2017"}, "commit"=>"Save Weight", "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
  [1m[36mWeight Create (0.9ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "67.0"], ["date", "2017-12-21"], ["profile_id", 699], ["created_at", "2018-11-18 23:19:36.300111"], ["updated_at", "2018-11-18 23:19:36.300111"]]
  â†³ app/controllers/weights_controller.rb:23
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ app/controllers/weights_controller.rb:23
Redirected to http://www.example.com/profiles/joao@example.org/weights
Completed 302 Found in 19ms (ActiveRecord: 4.6ms)


Started GET "/profiles/joao@example.org/weights" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:37
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering weights/index.html.erb within layouts/internal
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 699]]
  â†³ app/views/weights/index.html.erb:20
  Rendered weights/index.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (70.1ms)
Completed 200 OK in 89ms (Views: 81.4ms | ActiveRecord: 1.2ms)


  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$UoKDmkBBqpb4uUI7bQPnx.mqMfiatjEyMjSV729QZvHaakUkgBsX6"], ["created_at", "2018-11-18 23:19:36.559024"], ["updated_at", "2018-11-18 23:19:36.559024"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 42.7ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"KbRC69cryhDSfPr4k4xqFw0gx994oEIq1f5rIaIL9Lo/OCpTBNZG+v8cEpZiqbipd1qR3E1+1gMfXbhTRJtT2w==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.5ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 47ms (Views: 43.2ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:36.831552"], ["updated_at", "2018-11-18 23:19:36.831552"], ["user_id", 508]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 700], ["created_at", "2018-11-18 23:19:36.836552"], ["updated_at", "2018-11-18 23:19:36.836552"]]
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:2
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.0"], ["date", "2018-11-17"], ["profile_id", 700], ["created_at", "2018-11-18 23:19:36.839734"], ["updated_at", "2018-11-18 23:19:36.839734"]]
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:3
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 700]]
  â†³ features/step_definitions/widgets_steps.rb:5
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:36 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.6ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 700], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 700], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 700], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (1.0ms)
  Rendered profiles/show.html.erb within layouts/internal (24.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (47.8ms)
Completed 200 OK in 104ms (Views: 92.8ms | ActiveRecord: 1.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$mURnERB99hdAhE.bPfd6hOH6MqZ1gk2s6R3eJ.zqcCmgporaDGcvC"], ["created_at", "2018-11-18 23:19:37.117004"], ["updated_at", "2018-11-18 23:19:37.117004"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.6ms)
Completed 200 OK in 45ms (Views: 44.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"un2FZyPQqIJeRwygbLwJnNvFGulYjYzXRg5wGy/N3rVgihjy7jH6U1HDBnV9msWGU/whPDEe3rSTO9t9rM3V5g==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 159ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.4ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (40.6ms)
Completed 200 OK in 55ms (Views: 51.3ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:37.402245"], ["updated_at", "2018-11-18 23:19:37.402245"], ["user_id", 509]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 701]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 701], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.9ms)
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 701], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 701], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (20.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (45.2ms)
Completed 200 OK in 101ms (Views: 92.9ms | ActiveRecord: 1.6ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$Bs6yFiyOyBPj0uwtzG31Y.74AdCdQD.57mONEjlTAKceK.RC5mlHm"], ["created_at", "2018-11-18 23:19:37.689775"], ["updated_at", "2018-11-18 23:19:37.689775"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (4.1ms)
Completed 200 OK in 52ms (Views: 50.8ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"utexI9G61I8908ad4IrG8fiQLB0/oI40rsUY/EAs1mN1kCL1bin9N31jAiCoY8clPohc1Zi3BTrACNXRzKjKIA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 155ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 510], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 510], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.9ms)
Completed 200 OK in 48ms (Views: 44.1ms | ActiveRecord: 0.5ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:37.973697"], ["updated_at", "2018-11-18 23:19:37.973697"], ["user_id", 510]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 702], ["created_at", "2018-11-18 23:19:37.979610"], ["updated_at", "2018-11-18 23:19:37.979610"]]
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:29
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.75"], ["date", "2018-11-17"], ["profile_id", 702], ["created_at", "2018-11-18 23:19:37.983765"], ["updated_at", "2018-11-18 23:19:37.983765"]]
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:30
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 702]]
  â†³ features/step_definitions/widgets_steps.rb:32
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:37 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 510], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 702], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.8ms)
  [1m[36mHeight Load (0.6ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 702], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (1.0ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 702], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 702], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (21.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (58.3ms)
Completed 200 OK in 103ms (Views: 93.0ms | ActiveRecord: 1.9ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$HLQItTu60At5S2QIrxhkEO0VGsLxyvalbxXv2CwS0KzDewbyu1SBm"], ["created_at", "2018-11-18 23:19:38.261765"], ["updated_at", "2018-11-18 23:19:38.261765"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (2.5ms)
Completed 200 OK in 55ms (Views: 53.9ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"AlAlOmKMGhVhQu8AUWtWYIKVGXI8zAlq9ca1qmAuTwjMgEpjkssiH4fiv5Z6Q66Ffyvq5mJOHMQ2Z1aWYhjFkg==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 170ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 511], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 511], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.7ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.4ms)
Completed 200 OK in 53ms (Views: 46.9ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:38.565442"], ["updated_at", "2018-11-18 23:19:38.565442"], ["user_id", 511]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 703]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 511], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 703], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 703], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.7ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 703], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.7ms)
  Rendered profiles/show.html.erb within layouts/internal (11.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (61.0ms)
Completed 200 OK in 88ms (Views: 82.5ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.6L9Mf1ZBiq8Ek8iV5cUhOOb95w3XXvl8OiKMWIo8xKApEbKWUbOG"], ["created_at", "2018-11-18 23:19:38.825392"], ["updated_at", "2018-11-18 23:19:38.825392"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 44ms (Views: 43.5ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:38 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"TLPGmtXeq+HYeOZybVfJx7wd258/jtN2Tln1ywri7PNvmMAyo0CseFgmu7f4TfFFVZpaFTiz9k8Hqmst3vgq2A==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (33.1ms)
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:39.096431"], ["updated_at", "2018-11-18 23:19:39.096431"], ["user_id", 512]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 704], ["created_at", "2018-11-18 23:19:39.101182"], ["updated_at", "2018-11-18 23:19:39.101182"]]
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:48
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 704], ["created_at", "2018-11-18 23:19:39.104120"], ["updated_at", "2018-11-18 23:19:39.104120"]]
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/widgets_steps.rb:49
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 704]]
  â†³ features/step_definitions/widgets_steps.rb:53
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 704]]
  â†³ features/step_definitions/widgets_steps.rb:54
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 704], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.8ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 704], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 704], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 704], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Weight Load (0.0ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 704], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 704], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (29.2ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (57.9ms)
Completed 200 OK in 105ms (Views: 99.7ms | ActiveRecord: 1.9ms)


  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$.D9EJaWblY.P9U4YG7wKFuNauwHkZQ51qEO6Pu8gz4L5XzDjl2WeG"], ["created_at", "2018-11-18 23:19:39.385895"], ["updated_at", "2018-11-18 23:19:39.385895"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.9ms)
Completed 200 OK in 50ms (Views: 49.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"Lii3bZz22REAvLAyEzMdNiMJQulS/R4JF6uiMnKv378hTuQjmvZ49nJECJJeLrI5JJ0J/nNCoQx3dbAGw4viNA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 153ms (ActiveRecord: 0.4ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.6ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (31.8ms)
Completed 200 OK in 46ms (Views: 42.3ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:39.662091"], ["updated_at", "2018-11-18 23:19:39.662091"], ["user_id", 513]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 705]]
  â†³ features/step_definitions/widgets_steps.rb:9
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 705], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (0.7ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 705], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 705], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.8ms)
  Rendered profiles/show.html.erb within layouts/internal (18.5ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (55.7ms)
Completed 200 OK in 91ms (Views: 85.9ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$11$kuPRNlfeJdEXpmUmfGCSqOxxQ.td0ADWRxIEkyl.bl0kt8hch1ECK"], ["created_at", "2018-11-18 23:19:39.926614"], ["updated_at", "2018-11-18 23:19:39.926614"]]
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:41
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:42
Started GET "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by Devise::SessionsController#new as HTML
  Rendering devise/sessions/new.html.erb within layouts/application
  Rendered devise/sessions/new.html.erb within layouts/application (1.7ms)
Completed 200 OK in 46ms (Views: 45.3ms | ActiveRecord: 0.0ms)


Started POST "/users/sign_in" for 127.0.0.1 at 2018-11-18 21:19:39 -0200
Processing by Devise::SessionsController#create as HTML
  Parameters: {"utf8"=>"âœ“", "authenticity_token"=>"GBwesv+due6MktXjNdLi1nzaDxMXhYxQxGZfsW7MrLkkzClGl9J4hxJcTdxRoxN4P5uKx4v9NJIAQRma+MBxdA==", "user"=>{"email"=>"joao@example.org", "password"=>"[FILTERED]", "remember_me"=>"0"}, "commit"=>"Log in"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."email" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
Redirected to http://www.example.com/profiles/joao@example.org
Completed 302 Found in 168ms (ActiveRecord: 0.7ms)


Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
Redirected to http://www.example.com/profiles/new
Filter chain halted as :recover_profile rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.7ms)


Started GET "/profiles/new" for 127.0.0.1 at 2018-11-18 21:19:40 -0200
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:47
  Rendering profiles/new.html.erb within layouts/internal
  Rendered profiles/new.html.erb within layouts/internal (3.3ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (32.1ms)
Completed 200 OK in 47ms (Views: 42.8ms | ActiveRecord: 0.4ms)


  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:49
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "JoÃ£o"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 23:19:40.225896"], ["updated_at", "2018-11-18 23:19:40.225896"], ["user_id", 514]]
  â†³ features/step_definitions/common_steps.rb:53
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  â†³ features/step_definitions/common_steps.rb:53
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ features/step_definitions/common_steps.rb:55
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 706]]
  â†³ features/step_definitions/widgets_steps.rb:25
Started GET "/profiles/joao@example.org" for 127.0.0.1 at 2018-11-18 21:19:40 -0200
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  â†³ features/step_definitions/weight_register_steps.rb:3
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  â†³ app/controllers/application_controller.rb:11
  Rendering profiles/show.html.erb within layouts/internal
  [1m[36mWeight Load (0.5ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 706], ["LIMIT", 1]]
  â†³ app/models/profile.rb:30
  Rendered weights/_latest.html.erb (1.0ms)
  [1m[36mHeight Load (0.4ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 706], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered heights/_latest.html.erb (0.9ms)
  [1m[36mCACHE Height Load (0.0ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 706], ["LIMIT", 1]]
  â†³ app/models/profile.rb:34
  Rendered widgets/_bmi.html.erb (0.9ms)
  Rendered profiles/show.html.erb within layouts/internal (20.6ms)
  Rendering layouts/application.html.erb
  Rendered layouts/application.html.erb (62.4ms)
Completed 200 OK in 98ms (Views: 92.6ms | ActiveRecord: 1.5ms)


  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  â†³ /Users/marcelopavanellomartins/.rvm/gems/ruby-2.5.1/bin/cucumber:23
