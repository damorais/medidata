  [1m[35m (2.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata"."value" FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1[0m  [["key", "environment"]]
  [1m[35m (177.3ms)[0m  [1m[35mDROP DATABASE IF EXISTS "medidata_test"[0m
  [1m[35m (450.4ms)[0m  [1m[35mCREATE DATABASE "medidata_test" ENCODING = 'unicode'[0m
  [1m[35mSQL (1.8ms)[0m  [1m[35mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "allergies" CASCADE[0m
  [1m[35m (10.0ms)[0m  [1m[35mCREATE TABLE "allergies" ("id" bigserial primary key, "name" character varying, "description" text, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.6ms)[0m  [1m[35mCREATE  INDEX  "index_allergies_on_profile_id" ON "allergies"  ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "contacts" CASCADE[0m
  [1m[35m (7.1ms)[0m  [1m[35mCREATE TABLE "contacts" ("id" bigserial primary key, "email" character varying, "name" character varying, "phone" character varying, "mobile" character varying, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_contacts_on_profile_id" ON "contacts"  ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "glucose_measures" CASCADE[0m
  [1m[35m (3.4ms)[0m  [1m[35mCREATE TABLE "glucose_measures" ("id" bigserial primary key, "value" float, "date" timestamp, "fasting" boolean, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.3ms)[0m  [1m[35mCREATE  INDEX  "index_glucose_measures_on_profile_id" ON "glucose_measures"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "hdls" CASCADE[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE TABLE "hdls" ("id" bigserial primary key, "value" integer, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (2.4ms)[0m  [1m[35mCREATE  INDEX  "index_hdls_on_profile_id" ON "hdls"  ("profile_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE IF EXISTS "heights" CASCADE[0m
  [1m[35m (6.8ms)[0m  [1m[35mCREATE TABLE "heights" ("id" bigserial primary key, "value" decimal, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.7ms)[0m  [1m[35mCREATE  INDEX  "index_heights_on_profile_id" ON "heights"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "ldls" CASCADE[0m
  [1m[35m (6.3ms)[0m  [1m[35mCREATE TABLE "ldls" ("id" bigserial primary key, "value" integer, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE  INDEX  "index_ldls_on_profile_id" ON "ldls"  ("profile_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "medications" CASCADE[0m
  [1m[35m (8.9ms)[0m  [1m[35mCREATE TABLE "medications" ("id" bigserial primary key, "name" character varying, "categorize" character varying, "start" date, "finish" date, "dosage" character varying, "infadd" character varying, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.3ms)[0m  [1m[35mCREATE  INDEX  "index_medications_on_profile_id" ON "medications"  ("profile_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "non_hdls" CASCADE[0m
  [1m[35m (5.9ms)[0m  [1m[35mCREATE TABLE "non_hdls" ("id" bigserial primary key, "value" integer, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE  INDEX  "index_non_hdls_on_profile_id" ON "non_hdls"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "platelets" CASCADE[0m
  [1m[35m (9.3ms)[0m  [1m[35mCREATE TABLE "platelets" ("id" bigserial primary key, "erythrocyte" decimal, "hemoglobin" decimal, "hematocrit" decimal, "vcm" decimal, "hcm" decimal, "chcm" decimal, "rdw" decimal, "leukocytep" decimal, "neutrophilp" decimal, "eosinophilp" decimal, "basophilp" decimal, "lymphocytep" decimal, "monocytep" decimal, "leukocyteul" integer, "neutrophilul" integer, "eosinophilul" integer, "basophilul" integer, "lymphocyteul" integer, "monocyteul" integer, "total" integer, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX  "index_platelets_on_profile_id" ON "platelets"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "pressures" CASCADE[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "pressures" ("id" bigserial primary key, "systolic" integer, "diastolic" integer, "date" timestamp, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.1ms)[0m  [1m[35mCREATE  INDEX  "index_pressures_on_profile_id" ON "pressures"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "profiles" CASCADE[0m
  [1m[35m (8.5ms)[0m  [1m[35mCREATE TABLE "profiles" ("id" bigserial primary key, "email" character varying, "firstname" character varying, "lastname" character varying, "birthdate" date, "sex" character varying, "gender" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "user_id" bigint)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE  INDEX  "index_profiles_on_user_id" ON "profiles"  ("user_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "reactions" CASCADE[0m
  [1m[35m (9.8ms)[0m  [1m[35mCREATE TABLE "reactions" ("id" bigserial primary key, "name" character varying, "cause" character varying, "description" text, "start" date, "finish" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE  INDEX  "index_reactions_on_profile_id" ON "reactions"  ("profile_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mDROP TABLE IF EXISTS "totals" CASCADE[0m
  [1m[35m (6.0ms)[0m  [1m[35mCREATE TABLE "totals" ("id" bigserial primary key, "value" integer, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (3.9ms)[0m  [1m[35mCREATE  INDEX  "index_totals_on_profile_id" ON "totals"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "users" CASCADE[0m
  [1m[35m (8.2ms)[0m  [1m[35mCREATE TABLE "users" ("id" bigserial primary key, "email" character varying DEFAULT '' NOT NULL, "encrypted_password" character varying DEFAULT '' NOT NULL, "reset_password_token" character varying, "reset_password_sent_at" timestamp, "remember_created_at" timestamp, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.2ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_email" ON "users"  ("email")[0m
  [1m[35m (4.5ms)[0m  [1m[35mCREATE UNIQUE INDEX  "index_users_on_reset_password_token" ON "users"  ("reset_password_token")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "vldls" CASCADE[0m
  [1m[35m (5.5ms)[0m  [1m[35mCREATE TABLE "vldls" ("id" bigserial primary key, "value" integer, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.4ms)[0m  [1m[35mCREATE  INDEX  "index_vldls_on_profile_id" ON "vldls"  ("profile_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mDROP TABLE IF EXISTS "weights" CASCADE[0m
  [1m[35m (8.3ms)[0m  [1m[35mCREATE TABLE "weights" ("id" bigserial primary key, "value" decimal, "date" date, "profile_id" bigint, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[35m (4.0ms)[0m  [1m[35mCREATE  INDEX  "index_weights_on_profile_id" ON "weights"  ("profile_id")[0m
  [1m[35m (5.0ms)[0m  [1m[35mALTER TABLE "allergies" ADD CONSTRAINT "fk_rails_b3c065b150"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.5ms)[0m  [1m[35mALTER TABLE "contacts" ADD CONSTRAINT "fk_rails_7aa91c1878"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "glucose_measures" ADD CONSTRAINT "fk_rails_4e2cc37139"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.9ms)[0m  [1m[35mALTER TABLE "hdls" ADD CONSTRAINT "fk_rails_f085722161"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "heights" ADD CONSTRAINT "fk_rails_b5b284d7bd"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "ldls" ADD CONSTRAINT "fk_rails_577e0c57e6"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.4ms)[0m  [1m[35mALTER TABLE "medications" ADD CONSTRAINT "fk_rails_dbfe424d80"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.3ms)[0m  [1m[35mALTER TABLE "non_hdls" ADD CONSTRAINT "fk_rails_5ebdc0d8b0"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "platelets" ADD CONSTRAINT "fk_rails_929ce91a12"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.7ms)[0m  [1m[35mALTER TABLE "pressures" ADD CONSTRAINT "fk_rails_26d01c6831"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (4.1ms)[0m  [1m[35mALTER TABLE "profiles" ADD CONSTRAINT "fk_rails_e424190865"
FOREIGN KEY ("user_id")
  REFERENCES "users" ("id")
[0m
  [1m[35m (3.6ms)[0m  [1m[35mALTER TABLE "reactions" ADD CONSTRAINT "fk_rails_5694ea3e3c"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (3.2ms)[0m  [1m[35mALTER TABLE "totals" ADD CONSTRAINT "fk_rails_74c4029177"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (2.7ms)[0m  [1m[35mALTER TABLE "vldls" ADD CONSTRAINT "fk_rails_d36669f130"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (2.4ms)[0m  [1m[35mALTER TABLE "weights" ADD CONSTRAINT "fk_rails_03ca434dbe"
FOREIGN KEY ("profile_id")
  REFERENCES "profiles" ("id")
[0m
  [1m[35m (6.4ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL PRIMARY KEY)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (1.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES (20181117185420)[0m
  [1m[35m (1.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" (version) VALUES
(20181112011907),
(20181005135749),
(20181031023616),
(20181013003738),
(20181013233839),
(20181030055025),
(20181031030817),
(20181018145822),
(20181026204436),
(20181031023649),
(20181031030750),
(20180906191447),
(20181112060418),
(20181014230014),
(20181026141233),
(20181020234812);

[0m
  [1m[35m (6.5ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" character varying NOT NULL PRIMARY KEY, "value" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL)[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.5ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "key"[0m  [["key", "environment"], ["value", "test"], ["created_at", "2018-11-18 21:30:59.669526"], ["updated_at", "2018-11-18 21:30:59.669526"]]
  [1m[35m (1.5ms)[0m  [1m[35mCOMMIT[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT  "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = $1 LIMIT $2[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mCOMMIT[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (1.2ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3fzLx4HVHSwnQzkSJcBnMerm2OP1mERbw0P5t.TJoB9dDFTIR5XCi"], ["created_at", "2018-11-18 21:31:00.182962"], ["updated_at", "2018-11-18 21:31:00.182962"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.9ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (1.0ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.219425"], ["updated_at", "2018-11-18 21:31:00.219425"], ["user_id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 20ms (Views: 7.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$v.1QRWPW4NozvMvxQRto2uTbwzfrGAcRecSjISaDV2BOK6ZSnGqfG"], ["created_at", "2018-11-18 21:31:00.255307"], ["updated_at", "2018-11-18 21:31:00.255307"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.260044"], ["updated_at", "2018-11-18 21:31:00.260044"], ["user_id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$s91Daj4UcVZhfFyGzgaUHOHlU9PE2YNXOXAmXBn7jxH4VFvEbhr9e"], ["created_at", "2018-11-18 21:31:00.274200"], ["updated_at", "2018-11-18 21:31:00.274200"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.292031"], ["updated_at", "2018-11-18 21:31:00.292031"], ["user_id", 3]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 3]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 3]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AmA7GwKCsovEqxDcaKqbvOrkmgxPNXjOMWdK5D6AgLkG7rOz5zq5C"], ["created_at", "2018-11-18 21:31:00.318337"], ["updated_at", "2018-11-18 21:31:00.318337"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.322067"], ["updated_at", "2018-11-18 21:31:00.322067"], ["user_id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PQDuWndy3hf6zHq3pGKcueEYAGcG7YyoGkKSA1Wg/20Un8I96R.Py"], ["created_at", "2018-11-18 21:31:00.334183"], ["updated_at", "2018-11-18 21:31:00.334183"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.338114"], ["updated_at", "2018-11-18 21:31:00.338114"], ["user_id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$W/xvzCnISVaOfOYYuVBnHeMWXRLQlo9yvtqjiDBTbPvQo/bNaiW/S"], ["created_at", "2018-11-18 21:31:00.350316"], ["updated_at", "2018-11-18 21:31:00.350316"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.353834"], ["updated_at", "2018-11-18 21:31:00.353834"], ["user_id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T19:31:00-02:00", "fasting"=>"true", "value"=>"100"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (1.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 100.0], ["date", "2018-11-18 21:31:00"], ["fasting", true], ["profile_id", 6], ["created_at", "2018-11-18 21:31:00.372775"], ["updated_at", "2018-11-18 21:31:00.372775"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 18ms (ActiveRecord: 4.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SDgwXDvjIsi/nYS4G0YqcuckBCbax/iA6KGNL9OzWoL1ZrVcfiQFa"], ["created_at", "2018-11-18 21:31:00.386411"], ["updated_at", "2018-11-18 21:31:00.386411"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.389984"], ["updated_at", "2018-11-18 21:31:00.389984"], ["user_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 7]]
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T19:31:00-02:00", "fasting"=>"true", "value"=>"100"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 100.0], ["date", "2018-11-18 21:31:00"], ["fasting", true], ["profile_id", 7], ["created_at", "2018-11-18 21:31:00.400392"], ["updated_at", "2018-11-18 21:31:00.400392"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 7]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dC.n2POOEp7CmIpxmZzAeOR6.lUwvZ4nUS3zuEwJtAjMrdTII0sqy"], ["created_at", "2018-11-18 21:31:00.408620"], ["updated_at", "2018-11-18 21:31:00.408620"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.412526"], ["updated_at", "2018-11-18 21:31:00.412526"], ["user_id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 8]]
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T19:31:00-02:00", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 8]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$uPC1Mqwhng4f4rL8sedMLOtHybcmg.IW3yZqd4iFcy3SNCt5uQHta"], ["created_at", "2018-11-18 21:31:00.431906"], ["updated_at", "2018-11-18 21:31:00.431906"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.436564"], ["updated_at", "2018-11-18 21:31:00.436564"], ["user_id", 9]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T19:31:00-02:00", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MzH4BjcbWGrN5L2ZafGv2..dU6/A1LVEKNmEJbsimmnwyA3YAV5/W"], ["created_at", "2018-11-18 21:31:00.450428"], ["updated_at", "2018-11-18 21:31:00.450428"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.454264"], ["updated_at", "2018-11-18 21:31:00.454264"], ["user_id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 10], ["created_at", "2018-11-18 21:31:00.457252"], ["updated_at", "2018-11-18 21:31:00.457252"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "glucose_measures" WHERE "glucose_measures"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zWSgoMRAotkAB6mlc7KewuKXrKDWELIgs6rSp5pJghy0hgt3Pn.zC"], ["created_at", "2018-11-18 21:31:00.472403"], ["updated_at", "2018-11-18 21:31:00.472403"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.476016"], ["updated_at", "2018-11-18 21:31:00.476016"], ["user_id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 11], ["created_at", "2018-11-18 21:31:00.478905"], ["updated_at", "2018-11-18 21:31:00.478905"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures"[0m
Processing by GlucoseMeasuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "glucose_measures" WHERE "glucose_measures"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bk7Ayf6vdfDwzaFlFnbrY.Om/xXnPT2ILi3bDRG6rqWsPtPV.zmf."], ["created_at", "2018-11-18 21:31:00.492952"], ["updated_at", "2018-11-18 21:31:00.492952"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.496905"], ["updated_at", "2018-11-18 21:31:00.496905"], ["user_id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 12], ["created_at", "2018-11-18 21:31:00.499646"], ["updated_at", "2018-11-18 21:31:00.499646"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$H38ojPe2plUEoflfQ.nhRe8ntIwNVI0THJIxwUqqsAyZ7BG0fu8Ii"], ["created_at", "2018-11-18 21:31:00.517812"], ["updated_at", "2018-11-18 21:31:00.517812"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.521763"], ["updated_at", "2018-11-18 21:31:00.521763"], ["user_id", 13]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.5ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 13], ["created_at", "2018-11-18 21:31:00.525489"], ["updated_at", "2018-11-18 21:31:00.525489"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Qwmi2dbRCwAfTueN8UgJhuBXd2Dfmcd4XLMvoroT3YcBk7OPTfmq2"], ["created_at", "2018-11-18 21:31:00.538670"], ["updated_at", "2018-11-18 21:31:00.538670"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.542577"], ["updated_at", "2018-11-18 21:31:00.542577"], ["user_id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.6ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 14], ["created_at", "2018-11-18 21:31:00.546703"], ["updated_at", "2018-11-18 21:31:00.546703"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Mz9Bl6rBhz.X1g7G7mxo6Otl.8pXgo/B1mKYoVN8iMs28Sr3NChTe"], ["created_at", "2018-11-18 21:31:00.563275"], ["updated_at", "2018-11-18 21:31:00.563275"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.566929"], ["updated_at", "2018-11-18 21:31:00.566929"], ["user_id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.3ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 15], ["created_at", "2018-11-18 21:31:00.569548"], ["updated_at", "2018-11-18 21:31:00.569548"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 19:31:00", "fasting"=>"true", "value"=>"50"}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Update (0.4ms)[0m  [1m[33mUPDATE "glucose_measures" SET "value" = $1, "fasting" = $2, "date" = $3, "updated_at" = $4 WHERE "glucose_measures"."id" = $5[0m  [["value", 50.0], ["fasting", true], ["date", "2018-11-18 19:31:00"], ["updated_at", "2018-11-18 21:31:00.578342"], ["id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$X8x.Lz9n1.qJ88NHS/43XOu5wnpsyHImiFqk9OQEqHu2yu62nbysm"], ["created_at", "2018-11-18 21:31:00.586082"], ["updated_at", "2018-11-18 21:31:00.586082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.589728"], ["updated_at", "2018-11-18 21:31:00.589728"], ["user_id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 16], ["created_at", "2018-11-18 21:31:00.592765"], ["updated_at", "2018-11-18 21:31:00.592765"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 19:31:00", "fasting"=>"true", "value"=>"50"}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Update (0.4ms)[0m  [1m[33mUPDATE "glucose_measures" SET "value" = $1, "fasting" = $2, "date" = $3, "updated_at" = $4 WHERE "glucose_measures"."id" = $5[0m  [["value", 50.0], ["fasting", true], ["date", "2018-11-18 19:31:00"], ["updated_at", "2018-11-18 21:31:00.602227"], ["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$FDDdkvbJ92RgOa9LIwx5YuJK2CeeSV/VaasBHwAhBo.Oz8wSJ7woG"], ["created_at", "2018-11-18 21:31:00.612630"], ["updated_at", "2018-11-18 21:31:00.612630"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.616388"], ["updated_at", "2018-11-18 21:31:00.616388"], ["user_id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 17], ["created_at", "2018-11-18 21:31:00.619031"], ["updated_at", "2018-11-18 21:31:00.619031"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 19:31:00", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nylBQRty7ZB8aj6bX8/86O.0vyzqOB6iEJ3nbdydOpffF5MFKu0B2"], ["created_at", "2018-11-18 21:31:00.634343"], ["updated_at", "2018-11-18 21:31:00.634343"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.638016"], ["updated_at", "2018-11-18 21:31:00.638016"], ["user_id", 18]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.5ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 18], ["created_at", "2018-11-18 21:31:00.640780"], ["updated_at", "2018-11-18 21:31:00.640780"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 19:31:00", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.1ms | ActiveRecord: 1.6ms)
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BhjDZe5D9jFrZruestT11eOBwgRqzeg/SoxQOTLMINjoKwR31Qioa"], ["created_at", "2018-11-18 21:31:00.674477"], ["updated_at", "2018-11-18 21:31:00.674477"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.677004"], ["updated_at", "2018-11-18 21:31:00.677004"], ["user_id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$IIztU0PTg6YD1IpyJy0Hk.W/NsF.oswlCtOTH6trOgKPlnlJ0DOku"], ["created_at", "2018-11-18 21:31:00.688630"], ["updated_at", "2018-11-18 21:31:00.688630"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (1.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.693167"], ["updated_at", "2018-11-18 21:31:00.693167"], ["user_id", 20]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$O4kUU87QN96iqt/m8hlkoe2QqiH/s.94PXwSkUjIJhkMAzdhqVn6G"], ["created_at", "2018-11-18 21:31:00.706917"], ["updated_at", "2018-11-18 21:31:00.706917"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.709539"], ["updated_at", "2018-11-18 21:31:00.709539"], ["user_id", 21]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$11VxBMAA8axlKQjb6K0HCuuGIApHR2ZQCKQjkAbL3vN9LOPUC8OC."], ["created_at", "2018-11-18 21:31:00.719967"], ["updated_at", "2018-11-18 21:31:00.719967"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.722631"], ["updated_at", "2018-11-18 21:31:00.722631"], ["user_id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$uzSrI.I6Ig9akkA0EAxJKuakMvFbvgWptthOekgb5YT4l3F8iYwzS"], ["created_at", "2018-11-18 21:31:00.732294"], ["updated_at", "2018-11-18 21:31:00.732294"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.734887"], ["updated_at", "2018-11-18 21:31:00.734887"], ["user_id", 23]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PirYR8eNTh737DQ6sjMIS.gJ6cbi8BJ1DjvJ0026gK43kqIK3aRI2"], ["created_at", "2018-11-18 21:31:00.744448"], ["updated_at", "2018-11-18 21:31:00.744448"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.748026"], ["updated_at", "2018-11-18 21:31:00.748026"], ["user_id", 24]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yds91O4hjiJUUx8rBsMBx.1WL7itYoeezugUQ8RSLQGbkInc/o/Ya"], ["created_at", "2018-11-18 21:31:00.756394"], ["updated_at", "2018-11-18 21:31:00.756394"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.760195"], ["updated_at", "2018-11-18 21:31:00.760195"], ["user_id", 25]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (1.3ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 25], ["created_at", "2018-11-18 21:31:00.772373"], ["updated_at", "2018-11-18 21:31:00.772373"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (1.1ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 5.0ms | ActiveRecord: 2.1ms)
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PDM5uI4tr0HAXrM75SBcH.Fab5sv/5dwjkvg0W/lPARd65M4uhNRu"], ["created_at", "2018-11-18 21:31:00.798068"], ["updated_at", "2018-11-18 21:31:00.798068"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.801730"], ["updated_at", "2018-11-18 21:31:00.801730"], ["user_id", 26]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 26], ["created_at", "2018-11-18 21:31:00.804437"], ["updated_at", "2018-11-18 21:31:00.804437"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$E5lr33LfimbeBSpRq8DnG.qdOvUakQKN5g1CLxx/LC/Vbid.oBw9C"], ["created_at", "2018-11-18 21:31:00.819017"], ["updated_at", "2018-11-18 21:31:00.819017"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.822759"], ["updated_at", "2018-11-18 21:31:00.822759"], ["user_id", 27]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 27], ["created_at", "2018-11-18 21:31:00.825465"], ["updated_at", "2018-11-18 21:31:00.825465"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"date"=>"2018-10-25", "value"=>"90"}, "profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mLdl Update (0.4ms)[0m  [1m[33mUPDATE "ldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "ldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 90], ["updated_at", "2018-11-18 21:31:00.834061"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JtqNxh7NfefOUT1YQJUrV.MIVE5D1ncXDaimjn1GFH8E2Kp0Nhdtq"], ["created_at", "2018-11-18 21:31:00.841414"], ["updated_at", "2018-11-18 21:31:00.841414"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.845387"], ["updated_at", "2018-11-18 21:31:00.845387"], ["user_id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 28], ["created_at", "2018-11-18 21:31:00.848097"], ["updated_at", "2018-11-18 21:31:00.848097"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"date"=>"2018-10-25", "value"=>"90"}, "profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[36mLdl Update (0.4ms)[0m  [1m[33mUPDATE "ldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "ldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 90], ["updated_at", "2018-11-18 21:31:00.855137"], ["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6LscTWAsCT4tDGcn1yfJ9uvw9kaMahSPAA9AnOM4/pDDNt.m8b2TK"], ["created_at", "2018-11-18 21:31:00.865134"], ["updated_at", "2018-11-18 21:31:00.865134"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.868760"], ["updated_at", "2018-11-18 21:31:00.868760"], ["user_id", 29]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 29], ["created_at", "2018-11-18 21:31:00.872021"], ["updated_at", "2018-11-18 21:31:00.872021"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Destroy (0.4ms)[0m  [1m[31mDELETE FROM "ldls" WHERE "ldls"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XFiaPkGSm2o2qmMOkJUOn.kbRBNXu/8HPxvWRGQBzKdl5R5Q1tWIK"], ["created_at", "2018-11-18 21:31:00.889084"], ["updated_at", "2018-11-18 21:31:00.889084"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.893427"], ["updated_at", "2018-11-18 21:31:00.893427"], ["user_id", 30]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 30], ["created_at", "2018-11-18 21:31:00.897509"], ["updated_at", "2018-11-18 21:31:00.897509"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls"[0m
Processing by LdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Destroy (0.4ms)[0m  [1m[31mDELETE FROM "ldls" WHERE "ldls"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sWpGodup0Ls1qyYqzcb.8OLgDTNkWjO.dDQF9NkxC29dSkX16y75S"], ["created_at", "2018-11-18 21:31:00.915205"], ["updated_at", "2018-11-18 21:31:00.915205"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.919997"], ["updated_at", "2018-11-18 21:31:00.919997"], ["user_id", 31]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.5ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 31], ["created_at", "2018-11-18 21:31:00.923367"], ["updated_at", "2018-11-18 21:31:00.923367"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 31], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mnFNdKmHn2WDX1Y6wBJYP.T0sZKDb9tzKiEgECvlpvIn.hnVxhecS"], ["created_at", "2018-11-18 21:31:00.938750"], ["updated_at", "2018-11-18 21:31:00.938750"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.943875"], ["updated_at", "2018-11-18 21:31:00.943875"], ["user_id", 32]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.5ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 32], ["created_at", "2018-11-18 21:31:00.947395"], ["updated_at", "2018-11-18 21:31:00.947395"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 32], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EyP6LvS43nDRczZdEpI5ye461wj9agPQci0HXBkMfGj7X/OlYQ0FG"], ["created_at", "2018-11-18 21:31:00.966470"], ["updated_at", "2018-11-18 21:31:00.966470"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:00.973162"], ["updated_at", "2018-11-18 21:31:00.973162"], ["user_id", 33]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 33], ["created_at", "2018-11-18 21:31:00.979101"], ["updated_at", "2018-11-18 21:31:00.979101"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 33], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$U6.zaNkg1ngH7BTIQ11ATuYI9pfoRn67QzHnviSKpJe1Q/kQK8kp."], ["created_at", "2018-11-18 21:31:00.997836"], ["updated_at", "2018-11-18 21:31:00.997836"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.004940"], ["updated_at", "2018-11-18 21:31:01.004940"], ["user_id", 34]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 34], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 1.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tPUxxA7tWpcDpUfX7jjP1ev.BmCN2LhIjtDdI0vGIzgOeeXum5JQq"], ["created_at", "2018-11-18 21:31:01.028623"], ["updated_at", "2018-11-18 21:31:01.028623"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.035604"], ["updated_at", "2018-11-18 21:31:01.035604"], ["user_id", 35]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 35], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.7ms)
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 35]]
  [1m[36mLdl Load (0.4ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 35]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pdDbCsGpLX8.waHeRTphpOjH.qRmiC4.46DxLyHHrY1cDN0eoqO/2"], ["created_at", "2018-11-18 21:31:01.058799"], ["updated_at", "2018-11-18 21:31:01.058799"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.065880"], ["updated_at", "2018-11-18 21:31:01.065880"], ["user_id", 36]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 36], ["LIMIT", 1]]
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 2.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XhrvRdJo0mbRoUFAHMydl.Hnu3MEiDTWtytL5PJN4U54zg1H0uESG"], ["created_at", "2018-11-18 21:31:01.085944"], ["updated_at", "2018-11-18 21:31:01.085944"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.092637"], ["updated_at", "2018-11-18 21:31:01.092637"], ["user_id", 37]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 16ms (Views: 7.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MpQhCipBfnSaoKVWno6fC.OcYGHS.0NrLSgE0iWNthV.BagP.iQgS"], ["created_at", "2018-11-18 21:31:01.122360"], ["updated_at", "2018-11-18 21:31:01.122360"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.129452"], ["updated_at", "2018-11-18 21:31:01.129452"], ["user_id", 38]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 38], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PtKxD0tvdzshqrYWYYPrR.Cqaj1fyPXJwRNTNj.fDt7iH9rmU652e"], ["created_at", "2018-11-18 21:31:01.146979"], ["updated_at", "2018-11-18 21:31:01.146979"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.153459"], ["updated_at", "2018-11-18 21:31:01.153459"], ["user_id", 39]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"date"=>"2018-11-17 21:31:01 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 39], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.5ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 39], ["created_at", "2018-11-18 21:31:01.165585"], ["updated_at", "2018-11-18 21:31:01.165585"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 10ms (ActiveRecord: 1.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4PAF6Kp7ujcrkFAQKdd7BerfjXAePGY1HJP9FRV1Bhqud74Sgr9Ga"], ["created_at", "2018-11-18 21:31:01.178005"], ["updated_at", "2018-11-18 21:31:01.178005"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.184590"], ["updated_at", "2018-11-18 21:31:01.184590"], ["user_id", 40]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 40]]
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"date"=>"2018-11-17 21:31:01 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 40], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.5ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 40], ["created_at", "2018-11-18 21:31:01.197662"], ["updated_at", "2018-11-18 21:31:01.197662"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 9ms (ActiveRecord: 1.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 40]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$kiEkFzx2QRCMFkNDeit3Hu4Ls31woH7n1bxjvjogHrNHj4.csbhBO"], ["created_at", "2018-11-18 21:31:01.210850"], ["updated_at", "2018-11-18 21:31:01.210850"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.218439"], ["updated_at", "2018-11-18 21:31:01.218439"], ["user_id", 41]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 41]]
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 41], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 2.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 41]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mwemX7XON5uuHWWh90cGT.nb9zZiDSRhW/Am.e1JKEDBvqWLMtdUC"], ["created_at", "2018-11-18 21:31:01.245507"], ["updated_at", "2018-11-18 21:31:01.245507"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.251942"], ["updated_at", "2018-11-18 21:31:01.251942"], ["user_id", 42]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 42], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 2.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fHKMz9pCZLhmqL43Te2PI.XiztuhFrbQ2Hx7I0bAqksjWhWPVgGoG"], ["created_at", "2018-11-18 21:31:01.275988"], ["updated_at", "2018-11-18 21:31:01.275988"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.283770"], ["updated_at", "2018-11-18 21:31:01.283770"], ["user_id", 43]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (1.5ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 43], ["created_at", "2018-11-18 21:31:01.289043"], ["updated_at", "2018-11-18 21:31:01.289043"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls"[0m
Processing by VldlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 43], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Destroy (0.5ms)[0m  [1m[31mDELETE FROM "vldls" WHERE "vldls"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 11ms (ActiveRecord: 2.2ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls"[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$GEpNNtneezDbZ3.aN8SRAugEaEtuH1DnF9/2Y/RhvHJKmDrjSQ1AC"], ["created_at", "2018-11-18 21:31:01.318864"], ["updated_at", "2018-11-18 21:31:01.318864"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.325749"], ["updated_at", "2018-11-18 21:31:01.325749"], ["user_id", 44]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.7ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 44], ["created_at", "2018-11-18 21:31:01.331490"], ["updated_at", "2018-11-18 21:31:01.331490"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 44], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Destroy (0.5ms)[0m  [1m[31mDELETE FROM "vldls" WHERE "vldls"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ULoEUfAT9hgwAsSL71ly3uRP3WsyGRbnlc6ivzwEnIrFrdQ..oPvG"], ["created_at", "2018-11-18 21:31:01.355574"], ["updated_at", "2018-11-18 21:31:01.355574"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.363614"], ["updated_at", "2018-11-18 21:31:01.363614"], ["user_id", 45]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 45], ["created_at", "2018-11-18 21:31:01.378850"], ["updated_at", "2018-11-18 21:31:01.378850"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"date"=>"2018-10-25", "value"=>"85"}, "profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 45], ["LIMIT", 1]]
  [1m[36mVldl Update (0.6ms)[0m  [1m[33mUPDATE "vldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "vldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 85], ["updated_at", "2018-11-18 21:31:01.391819"], ["id", 3]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 12ms (ActiveRecord: 2.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6MmF3xiLTzrFo2CJZIrar.19325CIGk5aSM55MO/13rfNgW83rVvC"], ["created_at", "2018-11-18 21:31:01.404364"], ["updated_at", "2018-11-18 21:31:01.404364"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.410656"], ["updated_at", "2018-11-18 21:31:01.410656"], ["user_id", 46]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 46], ["created_at", "2018-11-18 21:31:01.415244"], ["updated_at", "2018-11-18 21:31:01.415244"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"date"=>"2018-10-25", "value"=>"85"}, "profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[36mVldl Update (0.7ms)[0m  [1m[33mUPDATE "vldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "vldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 85], ["updated_at", "2018-11-18 21:31:01.425840"], ["id", 4]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 46], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.TkuGPZe4RCLPOSJyjSd2e03lA3ibL9K3D/WRUxLm4m53HUmaSDX2"], ["created_at", "2018-11-18 21:31:01.441365"], ["updated_at", "2018-11-18 21:31:01.441365"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.449117"], ["updated_at", "2018-11-18 21:31:01.449117"], ["user_id", 47]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.5ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 47], ["created_at", "2018-11-18 21:31:01.453442"], ["updated_at", "2018-11-18 21:31:01.453442"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.4ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 12ms (Views: 4.7ms | ActiveRecord: 1.5ms)
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 47], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Obm8sqCrP7cpkt8c7vyZGOv8Mv9my2HWT8WCimod0dPsasIvwXeCu"], ["created_at", "2018-11-18 21:31:01.477722"], ["updated_at", "2018-11-18 21:31:01.477722"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.483277"], ["updated_at", "2018-11-18 21:31:01.483277"], ["user_id", 48]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 48], ["created_at", "2018-11-18 21:31:01.486012"], ["updated_at", "2018-11-18 21:31:01.486012"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 48], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fFT5JQBXxvLHH1X/IlP6eeuij30QmpQDBhXUW7QP7qGOf7lRI8ry6"], ["created_at", "2018-11-18 21:31:01.500822"], ["updated_at", "2018-11-18 21:31:01.500822"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.504667"], ["updated_at", "2018-11-18 21:31:01.504667"], ["user_id", 49]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 49], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 49]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 49]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pv9JoSAjxrk.QlPhMWLmW.VdoEB.rb2OvE9IIYGRYDUd/tiwBud6S"], ["created_at", "2018-11-18 21:31:01.522383"], ["updated_at", "2018-11-18 21:31:01.522383"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.526011"], ["updated_at", "2018-11-18 21:31:01.526011"], ["user_id", 50]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 50], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$clIyx6c82FhzAYq8/cz/8e5l/vr3K/7pLHX/3Yn6AA94qimo8Z.1S"], ["created_at", "2018-11-18 21:31:01.538452"], ["updated_at", "2018-11-18 21:31:01.538452"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.542166"], ["updated_at", "2018-11-18 21:31:01.542166"], ["user_id", 51]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 51], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JKV2gAsm5UgP06PwfFj7ceYHkLr4Y6pVEA/v/AAB3gIS/SXDihgTi"], ["created_at", "2018-11-18 21:31:01.554110"], ["updated_at", "2018-11-18 21:31:01.554110"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.558007"], ["updated_at", "2018-11-18 21:31:01.558007"], ["user_id", 52]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 52], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$kg.wKA89rWazwjI1L5pzguCgNGrQrIevTNNWGOK92zu9gK3kUyFY."], ["created_at", "2018-11-18 21:31:01.575174"], ["updated_at", "2018-11-18 21:31:01.575174"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.578898"], ["updated_at", "2018-11-18 21:31:01.578898"], ["user_id", 53]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 53], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wIkPJbrXAVtMJe6Fe.LVCOOkxiGlui5thccr.2nt534I5/TwDvcNW"], ["created_at", "2018-11-18 21:31:01.590392"], ["updated_at", "2018-11-18 21:31:01.590392"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.594032"], ["updated_at", "2018-11-18 21:31:01.594032"], ["user_id", 54]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.5ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 54], ["created_at", "2018-11-18 21:31:01.597374"], ["updated_at", "2018-11-18 21:31:01.597374"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 54], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/ZDZcBkgqiZ4.rDrVcwVjuuiKV2lekRvv9vIcNc2MiGkQl0z9xE4."], ["created_at", "2018-11-18 21:31:01.609599"], ["updated_at", "2018-11-18 21:31:01.609599"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.614700"], ["updated_at", "2018-11-18 21:31:01.614700"], ["user_id", 55]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 55], ["created_at", "2018-11-18 21:31:01.617397"], ["updated_at", "2018-11-18 21:31:01.617397"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 55], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CGStQX8ql9Sno6X9Qxn6rurrK68xOi9OmZGihG5.TJLb4WD8yb79a"], ["created_at", "2018-11-18 21:31:01.629440"], ["updated_at", "2018-11-18 21:31:01.629440"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.633037"], ["updated_at", "2018-11-18 21:31:01.633037"], ["user_id", 56]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.3ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 56], ["created_at", "2018-11-18 21:31:01.635774"], ["updated_at", "2018-11-18 21:31:01.635774"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 56], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$U5YUGuSVoicVo5wQxkh36Om2LQx0GZQjTVgVPLdUtKksYLP6pAzdy"], ["created_at", "2018-11-18 21:31:01.650239"], ["updated_at", "2018-11-18 21:31:01.650239"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.654965"], ["updated_at", "2018-11-18 21:31:01.654965"], ["user_id", 57]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 57]]
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"date"=>"2018-11-17 21:31:01 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 57], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 57], ["created_at", "2018-11-18 21:31:01.664090"], ["updated_at", "2018-11-18 21:31:01.664090"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 57]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$277utQ.BT4qyoEd9adtKRO3.xD049iInXrOlj2xRjheh1SIyqo6Yq"], ["created_at", "2018-11-18 21:31:01.672990"], ["updated_at", "2018-11-18 21:31:01.672990"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.676545"], ["updated_at", "2018-11-18 21:31:01.676545"], ["user_id", 58]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"date"=>"2018-11-17 21:31:01 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 58], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.3ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 58], ["created_at", "2018-11-18 21:31:01.683327"], ["updated_at", "2018-11-18 21:31:01.683327"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$cEtQCUh0adlUd2D.7GCHI.UXgJLXmr6s0KlgWSHg2QYn2pW0CkHf6"], ["created_at", "2018-11-18 21:31:01.690932"], ["updated_at", "2018-11-18 21:31:01.690932"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.694876"], ["updated_at", "2018-11-18 21:31:01.694876"], ["user_id", 59]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 59]]
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 59], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 59]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tEz1HolGFoDMivmYJo/IweaXGnVo9kdiU38vWpLphNln8ughjKC8y"], ["created_at", "2018-11-18 21:31:01.711431"], ["updated_at", "2018-11-18 21:31:01.711431"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.715024"], ["updated_at", "2018-11-18 21:31:01.715024"], ["user_id", 60]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 60], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2saE63fvb2v.flcYczmjxuthwnwJuTksmze7u.ctx3bnAyAiyjo72"], ["created_at", "2018-11-18 21:31:01.742455"], ["updated_at", "2018-11-18 21:31:01.742455"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.745085"], ["updated_at", "2018-11-18 21:31:01.745085"], ["user_id", 61]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bIDIAQoayJxiINGgNs4Nc.ti60G/Qpq651.Lrq44T6crzKG7PMciO"], ["created_at", "2018-11-18 21:31:01.753544"], ["updated_at", "2018-11-18 21:31:01.753544"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.756340"], ["updated_at", "2018-11-18 21:31:01.756340"], ["user_id", 62]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DXtp2KFPMZruQMrfpzRSeOfcS16u4GoM/uLx2hPazYC2Kw6wQz1/m"], ["created_at", "2018-11-18 21:31:01.766686"], ["updated_at", "2018-11-18 21:31:01.766686"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.769070"], ["updated_at", "2018-11-18 21:31:01.769070"], ["user_id", 63]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$86VCDMQqUgmSlSELDNo/cuVRcaUqiWpBVWpqSsXA33uz8K0x3hROW"], ["created_at", "2018-11-18 21:31:01.781972"], ["updated_at", "2018-11-18 21:31:01.781972"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.786149"], ["updated_at", "2018-11-18 21:31:01.786149"], ["user_id", 64]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8IEqAR6gyJEJ9UoU32DX.e2zUsDvHrLHWsO/8PtgsXKphTgBDjQuu"], ["created_at", "2018-11-18 21:31:01.801717"], ["updated_at", "2018-11-18 21:31:01.801717"]]
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.806029"], ["updated_at", "2018-11-18 21:31:01.806029"], ["user_id", 65]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zei8a40.k.Gjx.y8YZ2y4u4xN5VFP419xK9LygE9qhryQZG7GkEwe"], ["created_at", "2018-11-18 21:31:01.823992"], ["updated_at", "2018-11-18 21:31:01.823992"]]
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.829097"], ["updated_at", "2018-11-18 21:31:01.829097"], ["user_id", 66]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RBErIOePVS9m1ylYbR4FyeA61BAUgKILtrzhoj.2VG3P3tLyu53AK"], ["created_at", "2018-11-18 21:31:01.842506"], ["updated_at", "2018-11-18 21:31:01.842506"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.846307"], ["updated_at", "2018-11-18 21:31:01.846307"], ["user_id", 67]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 67]]
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 21:31:01 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 67], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.8ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["start", "2018-06-25"], ["finish", "2018-11-17"], ["profile_id", 67], ["created_at", "2018-11-18 21:31:01.868073"], ["updated_at", "2018-11-18 21:31:01.868073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 16ms (ActiveRecord: 3.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 67]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wVDtHs3yks0MP5BgEHFeDex./BUAbwYprMMXyCcD3vKpnILnuHIn2"], ["created_at", "2018-11-18 21:31:01.877050"], ["updated_at", "2018-11-18 21:31:01.877050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.880783"], ["updated_at", "2018-11-18 21:31:01.880783"], ["user_id", 68]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 21:31:01 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 68], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["start", "2018-06-25"], ["finish", "2018-11-17"], ["profile_id", 68], ["created_at", "2018-11-18 21:31:01.886896"], ["updated_at", "2018-11-18 21:31:01.886896"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MLKj/O2B6K9BE.Hum8KifOG20amlKRtFiJQVoGQOAWoma3Wrtr19O"], ["created_at", "2018-11-18 21:31:01.895270"], ["updated_at", "2018-11-18 21:31:01.895270"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.899355"], ["updated_at", "2018-11-18 21:31:01.899355"], ["user_id", 69]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 69]]
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 69], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (1.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 5.7ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 69]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JxR3AuUXcWLN/8/AAssb0.Xc6z/FpernirqhoTC7vU6HYTSg1bE3C"], ["created_at", "2018-11-18 21:31:01.920143"], ["updated_at", "2018-11-18 21:31:01.920143"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.923772"], ["updated_at", "2018-11-18 21:31:01.923772"], ["user_id", 70]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 70], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EQ2r24bgWVEHkuZJ3puAUuFOeIKkZ.fTdM3bQdQ22Q.m5.YCzDO6u"], ["created_at", "2018-11-18 21:31:01.938376"], ["updated_at", "2018-11-18 21:31:01.938376"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.941996"], ["updated_at", "2018-11-18 21:31:01.941996"], ["user_id", 71]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 71], ["created_at", "2018-11-18 21:31:01.945320"], ["updated_at", "2018-11-18 21:31:01.945320"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 71], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0uHpgVatCjl4fXBcCoc2VupriC3IGGPMv3iYWeKU2LCz0x3zXLym6"], ["created_at", "2018-11-18 21:31:01.961808"], ["updated_at", "2018-11-18 21:31:01.961808"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.966364"], ["updated_at", "2018-11-18 21:31:01.966364"], ["user_id", 72]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 72], ["created_at", "2018-11-18 21:31:01.969093"], ["updated_at", "2018-11-18 21:31:01.969093"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 72], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BuKiJNaq3K.r8CtWWtDzWup9DdoTYGYtkmQHeD/0Y0tbM6qiw4neC"], ["created_at", "2018-11-18 21:31:01.980871"], ["updated_at", "2018-11-18 21:31:01.980871"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:01.984549"], ["updated_at", "2018-11-18 21:31:01.984549"], ["user_id", 73]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 73], ["created_at", "2018-11-18 21:31:01.987422"], ["updated_at", "2018-11-18 21:31:01.987422"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 73], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OoK/ppZM47NysGMfhWceRuqcxMQm8DUmwveMMTCzKlmqz28ETTlDm"], ["created_at", "2018-11-18 21:31:02.001216"], ["updated_at", "2018-11-18 21:31:02.001216"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.004850"], ["updated_at", "2018-11-18 21:31:02.004850"], ["user_id", 74]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 74], ["created_at", "2018-11-18 21:31:02.007515"], ["updated_at", "2018-11-18 21:31:02.007515"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 74], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$YMJx93OAsqBsuDESRlaWh.iYm5M6lwhR40EVWUh4GOLHIgkbp2RX6"], ["created_at", "2018-11-18 21:31:02.021877"], ["updated_at", "2018-11-18 21:31:02.021877"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.025447"], ["updated_at", "2018-11-18 21:31:02.025447"], ["user_id", 75]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 75], ["created_at", "2018-11-18 21:31:02.028489"], ["updated_at", "2018-11-18 21:31:02.028489"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions"[0m
Processing by ReactionsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 75], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8XH/hv74mBqk.q/6y7.ohOmKzNGMsVnhNUaw2NFBMCRxHZDtsaIU."], ["created_at", "2018-11-18 21:31:02.043836"], ["updated_at", "2018-11-18 21:31:02.043836"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.048845"], ["updated_at", "2018-11-18 21:31:02.048845"], ["user_id", 76]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 76], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$YZLw5CRmAe9G6RPkwag.p.EzyskA42g24Da3b0PyVD5SV51/RaSAu"], ["created_at", "2018-11-18 21:31:02.060700"], ["updated_at", "2018-11-18 21:31:02.060700"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.065240"], ["updated_at", "2018-11-18 21:31:02.065240"], ["user_id", 77]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 77], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LKuLT4v74f3lLmfi34l4tePjPPpKRaT8AlawHAeX01Bjx4HvRbqQu"], ["created_at", "2018-11-18 21:31:02.077308"], ["updated_at", "2018-11-18 21:31:02.077308"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.082437"], ["updated_at", "2018-11-18 21:31:02.082437"], ["user_id", 78]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 78], ["created_at", "2018-11-18 21:31:02.085158"], ["updated_at", "2018-11-18 21:31:02.085158"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 21:31:02 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[36mReaction Update (0.6ms)[0m  [1m[33mUPDATE "reactions" SET "start" = $1, "name" = $2, "cause" = $3, "description" = $4, "finish" = $5, "updated_at" = $6 WHERE "reactions"."id" = $7[0m  [["start", "2018-06-25"], ["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["finish", "2018-11-17"], ["updated_at", "2018-11-18 21:31:02.093752"], ["id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 78], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qkkECKWRfX8e0fusl7uZhuJoIUpiOae9WWskwBh9nYCUK.kNXsim."], ["created_at", "2018-11-18 21:31:02.103824"], ["updated_at", "2018-11-18 21:31:02.103824"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.107442"], ["updated_at", "2018-11-18 21:31:02.107442"], ["user_id", 79]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 79], ["created_at", "2018-11-18 21:31:02.110344"], ["updated_at", "2018-11-18 21:31:02.110344"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 21:31:02 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 79], ["LIMIT", 1]]
  [1m[36mReaction Update (0.4ms)[0m  [1m[33mUPDATE "reactions" SET "start" = $1, "name" = $2, "cause" = $3, "description" = $4, "finish" = $5, "updated_at" = $6 WHERE "reactions"."id" = $7[0m  [["start", "2018-06-25"], ["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["finish", "2018-11-17"], ["updated_at", "2018-11-18 21:31:02.118034"], ["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DK/0zECDql/6yMDkcpFZKuG1UXM1qD51KS61GB10kGLKXCGruEU6i"], ["created_at", "2018-11-18 21:31:02.125801"], ["updated_at", "2018-11-18 21:31:02.125801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.129956"], ["updated_at", "2018-11-18 21:31:02.129956"], ["user_id", 80]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 80], ["created_at", "2018-11-18 21:31:02.132829"], ["updated_at", "2018-11-18 21:31:02.132829"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 1.1ms)
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 80], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XKgNB1t5.wZmFjYSFhhdBO6Y4mCf4pUIGOr7ndvZmrr0gVnZSkyXi"], ["created_at", "2018-11-18 21:31:02.151309"], ["updated_at", "2018-11-18 21:31:02.151309"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.155108"], ["updated_at", "2018-11-18 21:31:02.155108"], ["user_id", 81]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 81], ["created_at", "2018-11-18 21:31:02.157901"], ["updated_at", "2018-11-18 21:31:02.157901"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 81], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5xR2sOrk0H.CYoC.m3Dc.OIhZ6hIOc1SGk/focxfCn/.pYSE4tIX2"], ["created_at", "2018-11-18 21:31:02.174142"], ["updated_at", "2018-11-18 21:31:02.174142"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.178023"], ["updated_at", "2018-11-18 21:31:02.178023"], ["user_id", 82]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 82], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RBPMOig7n7vW9ABh0pArr.pTZFbn8VPYiICSZa2rMh4Dqed9YqBZ2"], ["created_at", "2018-11-18 21:31:02.194067"], ["updated_at", "2018-11-18 21:31:02.194067"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.199469"], ["updated_at", "2018-11-18 21:31:02.199469"], ["user_id", 83]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 83], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 83]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 83]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JpHqrrYNzt.VL9TOR5DttOKs5BLKsjn79U72fBF6LlxjZLkqGQmp."], ["created_at", "2018-11-18 21:31:02.212891"], ["updated_at", "2018-11-18 21:31:02.212891"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.216486"], ["updated_at", "2018-11-18 21:31:02.216486"], ["user_id", 84]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 84], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Tfkv78Kje84lr.eedS8IJu9kJ1Hc.yiEHR3pAE83ZRsxuZ09Rmu06"], ["created_at", "2018-11-18 21:31:02.243673"], ["updated_at", "2018-11-18 21:31:02.243673"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.246438"], ["updated_at", "2018-11-18 21:31:02.246438"], ["user_id", 85]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WjvWd5gYoNllH9v.qeardeY8.mwfv7M.NXCyBOB8w0iBrA9EBvsMa"], ["created_at", "2018-11-18 21:31:02.255419"], ["updated_at", "2018-11-18 21:31:02.255419"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.257961"], ["updated_at", "2018-11-18 21:31:02.257961"], ["user_id", 86]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PghU.UpqruUUP/loRQ3lZuolGWJf.F21ggndmEGJaq2r18KJ9T94i"], ["created_at", "2018-11-18 21:31:02.267298"], ["updated_at", "2018-11-18 21:31:02.267298"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.269715"], ["updated_at", "2018-11-18 21:31:02.269715"], ["user_id", 87]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PBIJB805of4x9iJXljiO6uSAkBdXvk4cAsjLZ9dYdfh7WL5/h0QYy"], ["created_at", "2018-11-18 21:31:02.281392"], ["updated_at", "2018-11-18 21:31:02.281392"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.283885"], ["updated_at", "2018-11-18 21:31:02.283885"], ["user_id", 88]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BYm42jRhBICpaxUsTEmYEe0seF.8JPjDoNPRk9cH2AwLVnJhXE5kW"], ["created_at", "2018-11-18 21:31:02.293853"], ["updated_at", "2018-11-18 21:31:02.293853"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.302234"], ["updated_at", "2018-11-18 21:31:02.302234"], ["user_id", 89]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$W43uFHIA7yUnHIP2IWiMceKPQ.N.S/osdN383ZOBOG1W2xjYG61a6"], ["created_at", "2018-11-18 21:31:02.313897"], ["updated_at", "2018-11-18 21:31:02.313897"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.316488"], ["updated_at", "2018-11-18 21:31:02.316488"], ["user_id", 90]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.1tnhpTXCR.pSEeuM/L4Wuq0RbGyVdeuMIgVngp4JPkYtAaFyFn/i"], ["created_at", "2018-11-18 21:31:02.325452"], ["updated_at", "2018-11-18 21:31:02.325452"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.329954"], ["updated_at", "2018-11-18 21:31:02.329954"], ["user_id", 91]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (1.2ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 91], ["created_at", "2018-11-18 21:31:02.342630"], ["updated_at", "2018-11-18 21:31:02.342630"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 91], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergies" WHERE "allergies"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nzZvGDgH0rZi57Cb46OQCOynflDr43OEMKvFcHaDAB6QZ2Z7pXvEO"], ["created_at", "2018-11-18 21:31:02.359200"], ["updated_at", "2018-11-18 21:31:02.359200"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.364094"], ["updated_at", "2018-11-18 21:31:02.364094"], ["user_id", 92]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 92], ["created_at", "2018-11-18 21:31:02.366673"], ["updated_at", "2018-11-18 21:31:02.366673"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies"[0m
Processing by AllergiesController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 92], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergies" WHERE "allergies"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dCPWrZMcMGy868LG4BireuyT1m92dntMiUX1RoTSvli03etoXKQ/q"], ["created_at", "2018-11-18 21:31:02.381842"], ["updated_at", "2018-11-18 21:31:02.381842"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.385449"], ["updated_at", "2018-11-18 21:31:02.385449"], ["user_id", 93]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.5ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 93], ["created_at", "2018-11-18 21:31:02.388136"], ["updated_at", "2018-11-18 21:31:02.388136"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 12ms (Views: 4.8ms | ActiveRecord: 1.3ms)
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 93], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PS4Vi6L9dPw7lSp00QsNDuWdMnv1ioVsNfXUkbCcfPGPywUE0Nq06"], ["created_at", "2018-11-18 21:31:02.410876"], ["updated_at", "2018-11-18 21:31:02.410876"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.414581"], ["updated_at", "2018-11-18 21:31:02.414581"], ["user_id", 94]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 94], ["created_at", "2018-11-18 21:31:02.417607"], ["updated_at", "2018-11-18 21:31:02.417607"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 94], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$9yDAQ/dD8VMx4i6mPYOqguppV6mioSqrPT15.Z8X26QrYDiD5ylC6"], ["created_at", "2018-11-18 21:31:02.432730"], ["updated_at", "2018-11-18 21:31:02.432730"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.436305"], ["updated_at", "2018-11-18 21:31:02.436305"], ["user_id", 95]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 95], ["created_at", "2018-11-18 21:31:02.438873"], ["updated_at", "2018-11-18 21:31:02.438873"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"Princípio Ativo: Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[36mAllergy Update (0.4ms)[0m  [1m[33mUPDATE "allergies" SET "name" = $1, "description" = $2, "updated_at" = $3 WHERE "allergies"."id" = $4[0m  [["name", "Buscopan"], ["description", "Princípio Ativo: Dipirona Sódica"], ["updated_at", "2018-11-18 21:31:02.447819"], ["id", 5]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 95], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Up1p/43eN/9/qnZpcQ3gVOkreS4s7jT5iygex3we15UwvcNWbkUMO"], ["created_at", "2018-11-18 21:31:02.457373"], ["updated_at", "2018-11-18 21:31:02.457373"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.461191"], ["updated_at", "2018-11-18 21:31:02.461191"], ["user_id", 96]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.3ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 96], ["created_at", "2018-11-18 21:31:02.464688"], ["updated_at", "2018-11-18 21:31:02.464688"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"Princípio Ativo: Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 96], ["LIMIT", 1]]
  [1m[36mAllergy Update (0.4ms)[0m  [1m[33mUPDATE "allergies" SET "name" = $1, "description" = $2, "updated_at" = $3 WHERE "allergies"."id" = $4[0m  [["name", "Buscopan"], ["description", "Princípio Ativo: Dipirona Sódica"], ["updated_at", "2018-11-18 21:31:02.471285"], ["id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MkWocO6G3QLxSoYQqs9Z3ODmjt0RGPfTvUGt6yu0Dqdo.wgiSpvWq"], ["created_at", "2018-11-18 21:31:02.478940"], ["updated_at", "2018-11-18 21:31:02.478940"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.482857"], ["updated_at", "2018-11-18 21:31:02.482857"], ["user_id", 97]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 97], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 97]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 97]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ZYdjoMTev.IJePuybB1Ef.tp6GH8jO3MVuXaqnUIL40HYkt/ZLJ.O"], ["created_at", "2018-11-18 21:31:02.500229"], ["updated_at", "2018-11-18 21:31:02.500229"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.503771"], ["updated_at", "2018-11-18 21:31:02.503771"], ["user_id", 98]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 98], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ky5miBIA7TThtivlUMgVX.Jj4rhX6nGXjTxSWtGABwFCxMURf7RRO"], ["created_at", "2018-11-18 21:31:02.515350"], ["updated_at", "2018-11-18 21:31:02.515350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.518933"], ["updated_at", "2018-11-18 21:31:02.518933"], ["user_id", 99]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 99], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1DI69sTLrHGzgwVjn3peh.HRq62q9qE45YAYDb8N/7JAzkwNiIwBK"], ["created_at", "2018-11-18 21:31:02.531377"], ["updated_at", "2018-11-18 21:31:02.531377"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.535062"], ["updated_at", "2018-11-18 21:31:02.535062"], ["user_id", 100]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 100], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$U1T354VNw8dFUq43KrqrTuqmxfa.xRgYrot0CJsaae6v521V9R4aC"], ["created_at", "2018-11-18 21:31:02.549189"], ["updated_at", "2018-11-18 21:31:02.549189"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.552821"], ["updated_at", "2018-11-18 21:31:02.552821"], ["user_id", 101]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 101], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$TqSYR/f1Cz.Z7Mzuai1Un.aZ0KraNed4qGlPVCQTwgvfRdjmJo5Q."], ["created_at", "2018-11-18 21:31:02.564786"], ["updated_at", "2018-11-18 21:31:02.564786"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.568416"], ["updated_at", "2018-11-18 21:31:02.568416"], ["user_id", 102]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 102], ["created_at", "2018-11-18 21:31:02.571086"], ["updated_at", "2018-11-18 21:31:02.571086"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 102], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 2.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$f3kAtxOhGoziXcjitJhBQOtNbzeGG6mH0oXVGzMMyCSuFDkwPKPI."], ["created_at", "2018-11-18 21:31:02.583907"], ["updated_at", "2018-11-18 21:31:02.583907"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.587505"], ["updated_at", "2018-11-18 21:31:02.587505"], ["user_id", 103]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 103], ["created_at", "2018-11-18 21:31:02.590068"], ["updated_at", "2018-11-18 21:31:02.590068"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 103], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (1.2ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 2.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UPnZYsvh/VelDCICdARxdOveScAvpR3Fu20gV8HTQaarWPgXzd2uC"], ["created_at", "2018-11-18 21:31:02.603139"], ["updated_at", "2018-11-18 21:31:02.603139"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.606803"], ["updated_at", "2018-11-18 21:31:02.606803"], ["user_id", 104]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 104], ["created_at", "2018-11-18 21:31:02.609371"], ["updated_at", "2018-11-18 21:31:02.609371"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 104], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MeJVTykk5IZpKcIHjuKqaumjISlb5KCjUmfFmE.ka2TSmKm2u4e3a"], ["created_at", "2018-11-18 21:31:02.621868"], ["updated_at", "2018-11-18 21:31:02.621868"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.625510"], ["updated_at", "2018-11-18 21:31:02.625510"], ["user_id", 105]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 105]]
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 105], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.3ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Buscopan"], ["description", "Dipirona Sódica"], ["profile_id", 105], ["created_at", "2018-11-18 21:31:02.633501"], ["updated_at", "2018-11-18 21:31:02.633501"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 105]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$YUO/AJDswQx0y5iMlXNOEOQRTxaA1FzH64d.MPVGxyvRd6gBfe7sq"], ["created_at", "2018-11-18 21:31:02.641387"], ["updated_at", "2018-11-18 21:31:02.641387"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.645264"], ["updated_at", "2018-11-18 21:31:02.645264"], ["user_id", 106]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 106], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Buscopan"], ["description", "Dipirona Sódica"], ["profile_id", 106], ["created_at", "2018-11-18 21:31:02.650856"], ["updated_at", "2018-11-18 21:31:02.650856"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gRS/Vr4c9zdF486qG31ih.K/9TDY1YRbp8hrcPxgl64XG51HeV8Dm"], ["created_at", "2018-11-18 21:31:02.658615"], ["updated_at", "2018-11-18 21:31:02.658615"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.663144"], ["updated_at", "2018-11-18 21:31:02.663144"], ["user_id", 107]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 107]]
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 107], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 107]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sGMqeds7MO53y1N/avKx7untNDWXRDYhFJeEellkEuNFOUb24g26O"], ["created_at", "2018-11-18 21:31:02.678600"], ["updated_at", "2018-11-18 21:31:02.678600"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.682128"], ["updated_at", "2018-11-18 21:31:02.682128"], ["user_id", 108]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 108], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OsJTTaprTzJnyic1nAg81OZuEfzdwjtHxcOvL6NORQSW419XuZmqK"], ["created_at", "2018-11-18 21:31:02.697956"], ["updated_at", "2018-11-18 21:31:02.697956"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.701536"], ["updated_at", "2018-11-18 21:31:02.701536"], ["user_id", 109]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.9ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 109], ["created_at", "2018-11-18 21:31:02.716493"], ["updated_at", "2018-11-18 21:31:02.716493"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 109], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Destroy (0.4ms)[0m  [1m[31mDELETE FROM "medications" WHERE "medications"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.9ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$50ccriRxKuL.T/tljfihVeKPobdDGeZEtqW8iuUyj1luoh3KM4Lqe"], ["created_at", "2018-11-18 21:31:02.734047"], ["updated_at", "2018-11-18 21:31:02.734047"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.737650"], ["updated_at", "2018-11-18 21:31:02.737650"], ["user_id", 110]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 110], ["created_at", "2018-11-18 21:31:02.740343"], ["updated_at", "2018-11-18 21:31:02.740343"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications"[0m
Processing by MedicationsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 110], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Destroy (0.3ms)[0m  [1m[31mDELETE FROM "medications" WHERE "medications"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$vCTnG1.OYDeuvnB6A6w6LucvUDGHAqS78Ujj/pmVkNUiqrQu7qarG"], ["created_at", "2018-11-18 21:31:02.755572"], ["updated_at", "2018-11-18 21:31:02.755572"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.759147"], ["updated_at", "2018-11-18 21:31:02.759147"], ["user_id", 111]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 111], ["created_at", "2018-11-18 21:31:02.762575"], ["updated_at", "2018-11-18 21:31:02.762575"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"inalavel", "dosage"=>"test", "finish"=>"2019-01-03", "infadd"=>"info adicionais", "name"=>"dipirona", "start"=>"2018-01-03"}, "profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 111], ["LIMIT", 1]]
  [1m[36mMedication Update (0.4ms)[0m  [1m[33mUPDATE "medications" SET "name" = $1, "categorize" = $2, "start" = $3, "finish" = $4, "dosage" = $5, "infadd" = $6, "updated_at" = $7 WHERE "medications"."id" = $8[0m  [["name", "dipirona"], ["categorize", "inalavel"], ["start", "2018-01-03"], ["finish", "2019-01-03"], ["dosage", "test"], ["infadd", "info adicionais"], ["updated_at", "2018-11-18 21:31:02.770824"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AAwxHnBrNd2S8j5JEvYasOizcBhFH5vw9FAyngO4E8tfwr/Rf4aC6"], ["created_at", "2018-11-18 21:31:02.778663"], ["updated_at", "2018-11-18 21:31:02.778663"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.783671"], ["updated_at", "2018-11-18 21:31:02.783671"], ["user_id", 112]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 112], ["created_at", "2018-11-18 21:31:02.786314"], ["updated_at", "2018-11-18 21:31:02.786314"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"inalavel", "dosage"=>"test", "finish"=>"2019-01-03", "infadd"=>"info adicionais", "name"=>"dipirona", "start"=>"2018-01-03"}, "profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[36mMedication Update (0.8ms)[0m  [1m[33mUPDATE "medications" SET "name" = $1, "categorize" = $2, "start" = $3, "finish" = $4, "dosage" = $5, "infadd" = $6, "updated_at" = $7 WHERE "medications"."id" = $8[0m  [["name", "dipirona"], ["categorize", "inalavel"], ["start", "2018-01-03"], ["finish", "2019-01-03"], ["dosage", "test"], ["infadd", "info adicionais"], ["updated_at", "2018-11-18 21:31:02.793973"], ["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 7ms (ActiveRecord: 2.1ms)
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 112], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2Xfu6Zo/LDgEcpZRlawPG.mfw/klLIcCVvGZw80xa1Pl2lwnKeuFG"], ["created_at", "2018-11-18 21:31:02.804266"], ["updated_at", "2018-11-18 21:31:02.804266"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.808634"], ["updated_at", "2018-11-18 21:31:02.808634"], ["user_id", 113]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 113], ["created_at", "2018-11-18 21:31:02.813668"], ["updated_at", "2018-11-18 21:31:02.813668"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "infadd"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 113], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 6.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bp7gUPBXoCRjmH.kF7/hquO9yeeUJ3w0bbInv2AOmjKl9Y6xWJtpa"], ["created_at", "2018-11-18 21:31:02.834753"], ["updated_at", "2018-11-18 21:31:02.834753"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.838295"], ["updated_at", "2018-11-18 21:31:02.838295"], ["user_id", 114]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 114], ["created_at", "2018-11-18 21:31:02.840991"], ["updated_at", "2018-11-18 21:31:02.840991"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "infadd"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 1.3ms)
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 114], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dV58nUicDJw4U8r80LsTju7QUNzlZZmdSbE/L2dxmOx8gOZ0jeznm"], ["created_at", "2018-11-18 21:31:02.859671"], ["updated_at", "2018-11-18 21:31:02.859671"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.863885"], ["updated_at", "2018-11-18 21:31:02.863885"], ["user_id", 115]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 115], ["created_at", "2018-11-18 21:31:02.866982"], ["updated_at", "2018-11-18 21:31:02.866982"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 115], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1l4NcbCMQLvmizRrdBmhfeEWwX3q6VHn2CALz32fSk0zTjuaUTs1C"], ["created_at", "2018-11-18 21:31:02.879847"], ["updated_at", "2018-11-18 21:31:02.879847"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.883690"], ["updated_at", "2018-11-18 21:31:02.883690"], ["user_id", 116]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.3ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 116], ["created_at", "2018-11-18 21:31:02.886308"], ["updated_at", "2018-11-18 21:31:02.886308"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 116], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LMX8MxT2a/0bbASUkoPCduQnhXdkMsBMEYg.Ktg7TTOKiCTTBlCO."], ["created_at", "2018-11-18 21:31:02.898927"], ["updated_at", "2018-11-18 21:31:02.898927"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.902864"], ["updated_at", "2018-11-18 21:31:02.902864"], ["user_id", 117]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.3ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 117], ["created_at", "2018-11-18 21:31:02.905606"], ["updated_at", "2018-11-18 21:31:02.905606"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 117], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/0n03iA/7adZSkCa9ex8f.uqavl4r.72Z7edz/irqJc58kly0GUX."], ["created_at", "2018-11-18 21:31:02.920015"], ["updated_at", "2018-11-18 21:31:02.920015"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.924102"], ["updated_at", "2018-11-18 21:31:02.924102"], ["user_id", 118]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 118], ["LIMIT", 1]]
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$HKe2UkUnHV34uXydCEAFY.bc/k3AROKJe5xrK2yAqZy0.2qhcgcEK"], ["created_at", "2018-11-18 21:31:02.938225"], ["updated_at", "2018-11-18 21:31:02.938225"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.941863"], ["updated_at", "2018-11-18 21:31:02.941863"], ["user_id", 119]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 119], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4khbq/ggh4Bbgcy2yk/Czef/G8ZaSnRHzXjgxO7dJqoExIBwQJMte"], ["created_at", "2018-11-18 21:31:02.954247"], ["updated_at", "2018-11-18 21:31:02.954247"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.957935"], ["updated_at", "2018-11-18 21:31:02.957935"], ["user_id", 120]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 120]]
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 120], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 120]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JhrZuwX4vIxwrRuPmZBgAONnpZmqpxvJd5xSrnWOYhpXsh/LgRxc."], ["created_at", "2018-11-18 21:31:02.977311"], ["updated_at", "2018-11-18 21:31:02.977311"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.981085"], ["updated_at", "2018-11-18 21:31:02.981085"], ["user_id", 121]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 121], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$P3C.1jpGAeNiuS9u2Nv4DuQg15fO.FFsbylz/Fe0zsKFEa4LpJOWO"], ["created_at", "2018-11-18 21:31:02.995887"], ["updated_at", "2018-11-18 21:31:02.995887"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:02.999532"], ["updated_at", "2018-11-18 21:31:02.999532"], ["user_id", 122]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 122]]
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"powder", "dosage"=>"teste", "finish"=>"2019-01-01", "infadd"=>"blabla", "name"=>"aspirina", "start"=>"2018-01-01"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 122], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.5ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "aspirina"], ["categorize", "powder"], ["start", "2018-01-01"], ["finish", "2019-01-01"], ["dosage", "teste"], ["infadd", "blabla"], ["profile_id", 122], ["created_at", "2018-11-18 21:31:03.006628"], ["updated_at", "2018-11-18 21:31:03.006628"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 122]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VBhnnE8jLkUdSebKTrjqm.FIzM7Wj5vAc5Pc/Com8GNDge7P.Gjky"], ["created_at", "2018-11-18 21:31:03.016758"], ["updated_at", "2018-11-18 21:31:03.016758"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.020844"], ["updated_at", "2018-11-18 21:31:03.020844"], ["user_id", 123]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"powder", "dosage"=>"teste", "finish"=>"2019-01-01", "infadd"=>"blabla", "name"=>"aspirina", "start"=>"2018-01-01"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 123], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "aspirina"], ["categorize", "powder"], ["start", "2018-01-01"], ["finish", "2019-01-01"], ["dosage", "teste"], ["infadd", "blabla"], ["profile_id", 123], ["created_at", "2018-11-18 21:31:03.027167"], ["updated_at", "2018-11-18 21:31:03.027167"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$apCWhkPUy6fU2xarm6B62utdYwpjbLLLBPoaJIbrfuNcbGsAXGRMC"], ["created_at", "2018-11-18 21:31:03.035938"], ["updated_at", "2018-11-18 21:31:03.035938"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.039549"], ["updated_at", "2018-11-18 21:31:03.039549"], ["user_id", 124]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 124], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$A9w4DV5POUOrG.t4c/0MvOcCedD7jZ0PpNuxrOJBg/H3wPF.x3Qwy"], ["created_at", "2018-11-18 21:31:03.053286"], ["updated_at", "2018-11-18 21:31:03.053286"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.056938"], ["updated_at", "2018-11-18 21:31:03.056938"], ["user_id", 125]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 125], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 125]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 125]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Pc2vVxq686VWmm3KsByzKus4LZNNULpZ377tzEbJCCwvcmmxSmKT2"], ["created_at", "2018-11-18 21:31:03.072214"], ["updated_at", "2018-11-18 21:31:03.072214"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.075816"], ["updated_at", "2018-11-18 21:31:03.075816"], ["user_id", 126]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 126], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yGp4QLTdOCYYbPXP3BeJwucnPI5oZswd4IhUqBXW/0.YdPG1dSMKO"], ["created_at", "2018-11-18 21:31:03.088317"], ["updated_at", "2018-11-18 21:31:03.088317"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.091986"], ["updated_at", "2018-11-18 21:31:03.091986"], ["user_id", 127]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 127]]
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 21:31:03 UTC", "diastolic"=>"10", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 127], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.8ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 80], ["diastolic", 10], ["date", "2018-11-17 21:31:03"], ["profile_id", 127], ["created_at", "2018-11-18 21:31:03.111585"], ["updated_at", "2018-11-18 21:31:03.111585"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 14ms (ActiveRecord: 3.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 127]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Fwdi2fINJ5huCqhUN5tmeujHvkiJLrOgXATC46OZZjym6nSr2S0Ky"], ["created_at", "2018-11-18 21:31:03.120397"], ["updated_at", "2018-11-18 21:31:03.120397"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.124115"], ["updated_at", "2018-11-18 21:31:03.124115"], ["user_id", 128]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 21:31:03 UTC", "diastolic"=>"10", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 128], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 80], ["diastolic", 10], ["date", "2018-11-17 21:31:03"], ["profile_id", 128], ["created_at", "2018-11-18 21:31:03.131225"], ["updated_at", "2018-11-18 21:31:03.131225"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$c2RJGzyKVSUoYoynBrsa2O4/CbXDhGQ6FcYAwVAwC6sfzaQwEn9Sq"], ["created_at", "2018-11-18 21:31:03.143120"], ["updated_at", "2018-11-18 21:31:03.143120"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.146984"], ["updated_at", "2018-11-18 21:31:03.146984"], ["user_id", 129]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 129], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.7ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LSMCdvP3ZzRa9pBJ0QE0IufYGo8pEU3GT4l1TzLKnra10oDb0QsMS"], ["created_at", "2018-11-18 21:31:03.160955"], ["updated_at", "2018-11-18 21:31:03.160955"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.165837"], ["updated_at", "2018-11-18 21:31:03.165837"], ["user_id", 130]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 130], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$571lTQO0O/y1wT99BxFFjec/HTPMuTSfoOSRp0.zd6AXwIlqOkBC."], ["created_at", "2018-11-18 21:31:03.177431"], ["updated_at", "2018-11-18 21:31:03.177431"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.181264"], ["updated_at", "2018-11-18 21:31:03.181264"], ["user_id", 131]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 131]]
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 21:31:03 UTC", "diastolic"=>"", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 131], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 131]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4l8Mf7iTYIRNJ4qxZBIOiegou1ywVCSozkQO.LaJ8ztiEiPLGoRoK"], ["created_at", "2018-11-18 21:31:03.198238"], ["updated_at", "2018-11-18 21:31:03.198238"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.201976"], ["updated_at", "2018-11-18 21:31:03.201976"], ["user_id", 132]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 21:31:03 UTC", "diastolic"=>"", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 132], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Ccf1eY0GyxEf4IbyHZMnmeR63q1iT/Ywxs7lrsdqc4ungzYP/2//K"], ["created_at", "2018-11-18 21:31:03.216107"], ["updated_at", "2018-11-18 21:31:03.216107"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.219691"], ["updated_at", "2018-11-18 21:31:03.219691"], ["user_id", 133]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 133], ["created_at", "2018-11-18 21:31:03.222618"], ["updated_at", "2018-11-18 21:31:03.222618"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"11", "systolic"=>"22"}, "profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.8ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[36mPressure Update (0.5ms)[0m  [1m[33mUPDATE "pressures" SET "systolic" = $1, "diastolic" = $2, "updated_at" = $3 WHERE "pressures"."id" = $4[0m  [["systolic", 22], ["diastolic", 11], ["updated_at", "2018-11-18 21:31:03.232475"], ["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 133], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$jMkFbWamLEzZUN1q6i.WmecQ1.1MKnYv2T5EQYjGjcLnnXX8Qv8.O"], ["created_at", "2018-11-18 21:31:03.242540"], ["updated_at", "2018-11-18 21:31:03.242540"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.246361"], ["updated_at", "2018-11-18 21:31:03.246361"], ["user_id", 134]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 134], ["created_at", "2018-11-18 21:31:03.249372"], ["updated_at", "2018-11-18 21:31:03.249372"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"11", "systolic"=>"22"}, "profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 134], ["LIMIT", 1]]
  [1m[36mPressure Update (0.4ms)[0m  [1m[33mUPDATE "pressures" SET "systolic" = $1, "diastolic" = $2, "updated_at" = $3 WHERE "pressures"."id" = $4[0m  [["systolic", 22], ["diastolic", 11], ["updated_at", "2018-11-18 21:31:03.258329"], ["id", 4]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 8ms (ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$W6N6N9oEuUWMY.iXoYmBDuPI9I/C3Co0H03MftCodhwLdHzJHqmk2"], ["created_at", "2018-11-18 21:31:03.267199"], ["updated_at", "2018-11-18 21:31:03.267199"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.270932"], ["updated_at", "2018-11-18 21:31:03.270932"], ["user_id", 135]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 135], ["created_at", "2018-11-18 21:31:03.274128"], ["updated_at", "2018-11-18 21:31:03.274128"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"-2", "systolic"=>"-1"}, "profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 135], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 12ms (Views: 4.5ms | ActiveRecord: 1.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SRvfmyNG6MepEnxstT2hr.uK8e2V6XTJfOpJDM76SkdZrcSB35HOG"], ["created_at", "2018-11-18 21:31:03.295212"], ["updated_at", "2018-11-18 21:31:03.295212"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.299083"], ["updated_at", "2018-11-18 21:31:03.299083"], ["user_id", 136]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.3ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 136], ["created_at", "2018-11-18 21:31:03.301862"], ["updated_at", "2018-11-18 21:31:03.301862"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"-2", "systolic"=>"-1"}, "profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 136], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$eOavxEESeBSFcinwzUW8RuvfqYSvE8erIkiKqdMawShG/s7DEJuG."], ["created_at", "2018-11-18 21:31:03.318895"], ["updated_at", "2018-11-18 21:31:03.318895"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.322884"], ["updated_at", "2018-11-18 21:31:03.322884"], ["user_id", 137]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.5ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 137], ["created_at", "2018-11-18 21:31:03.326868"], ["updated_at", "2018-11-18 21:31:03.326868"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 137], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4qiGLMvjuDUZ2DEbry9yXum7cb.TGcOh2I6RIowQhMUAFEsJ.3ZmO"], ["created_at", "2018-11-18 21:31:03.339627"], ["updated_at", "2018-11-18 21:31:03.339627"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.343231"], ["updated_at", "2018-11-18 21:31:03.343231"], ["user_id", 138]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 138], ["created_at", "2018-11-18 21:31:03.346687"], ["updated_at", "2018-11-18 21:31:03.346687"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 138], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xlBCRCQ1wKAByhuKcsE5SOjzro53PbVmhflhICONmPzwtMt1BwMNu"], ["created_at", "2018-11-18 21:31:03.357743"], ["updated_at", "2018-11-18 21:31:03.357743"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.362342"], ["updated_at", "2018-11-18 21:31:03.362342"], ["user_id", 139]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.3ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 139], ["created_at", "2018-11-18 21:31:03.365239"], ["updated_at", "2018-11-18 21:31:03.365239"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 139], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (1.0ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xe9sbEVkwBnJ7fyV4yAwX..UhwHd7wOPdkLiHrt/xqw0Q4E5ZGwRS"], ["created_at", "2018-11-18 21:31:03.377909"], ["updated_at", "2018-11-18 21:31:03.377909"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.382675"], ["updated_at", "2018-11-18 21:31:03.382675"], ["user_id", 140]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 140], ["created_at", "2018-11-18 21:31:03.385467"], ["updated_at", "2018-11-18 21:31:03.385467"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 140], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "pressures" WHERE "pressures"."id" = $1[0m  [["id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fv88A4Hd.J3E.9oBMiXR8.gQr2led6baJDSdQdl8cGddhWAXpYj6O"], ["created_at", "2018-11-18 21:31:03.399009"], ["updated_at", "2018-11-18 21:31:03.399009"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.402581"], ["updated_at", "2018-11-18 21:31:03.402581"], ["user_id", 141]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 141], ["created_at", "2018-11-18 21:31:03.405408"], ["updated_at", "2018-11-18 21:31:03.405408"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures"[0m
Processing by PressuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 141], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "pressures" WHERE "pressures"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VpSRBZPamgdKPYH/yf.GhuxQn2Y4IQafdzw74FcpoT7PuoERYghTW"], ["created_at", "2018-11-18 21:31:03.421236"], ["updated_at", "2018-11-18 21:31:03.421236"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.424782"], ["updated_at", "2018-11-18 21:31:03.424782"], ["user_id", 142]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 142], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/index.html.erb within layouts/internal (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qphUxi75ckCGOWP3wToVLeCGnfg0qe7zisUPeZ/u/VTNhAWJNMa4W"], ["created_at", "2018-11-18 21:31:03.438518"], ["updated_at", "2018-11-18 21:31:03.438518"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.442112"], ["updated_at", "2018-11-18 21:31:03.442112"], ["user_id", 143]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 143], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$piuy.Vh2IvS.X7wy28DgROdJNBkc4tC7..ubSTKpieYgImD186cL."], ["created_at", "2018-11-18 21:31:03.454237"], ["updated_at", "2018-11-18 21:31:03.454237"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.457919"], ["updated_at", "2018-11-18 21:31:03.457919"], ["user_id", 144]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 144], ["LIMIT", 1]]
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 144]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 144]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/EQCI4mQsL1VOG5Ugs1uG.jpDbHdUTsrM/7DMX/hReC1i.GgRZQhe"], ["created_at", "2018-11-18 21:31:03.474191"], ["updated_at", "2018-11-18 21:31:03.474191"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.476553"], ["updated_at", "2018-11-18 21:31:03.476553"], ["user_id", 145]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$67Yb3RQMM.QBuUmNc/USq.B8shnaQTAJPjLNIu32J6P6h348LVXdK"], ["created_at", "2018-11-18 21:31:03.495008"], ["updated_at", "2018-11-18 21:31:03.495008"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.497362"], ["updated_at", "2018-11-18 21:31:03.497362"], ["user_id", 146]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$KJSlheCpMLxZSNRKHkmoI.LekYptJqiSp6h7s.trYfmZkTPQ6iyWi"], ["created_at", "2018-11-18 21:31:03.507026"], ["updated_at", "2018-11-18 21:31:03.507026"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.509379"], ["updated_at", "2018-11-18 21:31:03.509379"], ["user_id", 147]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XaBJmBc/1V8f2DxKyghXjehZD5iuTcwiny3ptYslLbtnLzt51kEry"], ["created_at", "2018-11-18 21:31:03.519335"], ["updated_at", "2018-11-18 21:31:03.519335"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.521667"], ["updated_at", "2018-11-18 21:31:03.521667"], ["user_id", 148]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$d9DtebfMRfflM1wqjWpgeuCdtT2yC9C7BCclcMQdvfgeEhEaMiHc6"], ["created_at", "2018-11-18 21:31:03.532714"], ["updated_at", "2018-11-18 21:31:03.532714"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.535113"], ["updated_at", "2018-11-18 21:31:03.535113"], ["user_id", 149]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OOkQgmkKWwmfEaOUvkxlD.RGN1cnZc4HzhecPHy3EZguPI5eN5GBC"], ["created_at", "2018-11-18 21:31:03.544717"], ["updated_at", "2018-11-18 21:31:03.544717"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.547091"], ["updated_at", "2018-11-18 21:31:03.547091"], ["user_id", 150]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$lsgNkIC2J3SCe2CBPVliiOLteFL4Z7VZz/eSLyWWcmCpqlEPsUs9C"], ["created_at", "2018-11-18 21:31:03.559708"], ["updated_at", "2018-11-18 21:31:03.559708"]]
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.563084"], ["updated_at", "2018-11-18 21:31:03.563084"], ["user_id", 151]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nzmRARuawZ9ncGvIqMvk9.rAFBWFGoiOjp9vu12eblp6sGVnN9agS"], ["created_at", "2018-11-18 21:31:03.581989"], ["updated_at", "2018-11-18 21:31:03.581989"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.584308"], ["updated_at", "2018-11-18 21:31:03.584308"], ["user_id", 152]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nMPd/2AeJfWSwzRlr/bI5usJJ/.LXgiVqFa2g/mZH7b1H1gQd/Zrq"], ["created_at", "2018-11-18 21:31:03.594537"], ["updated_at", "2018-11-18 21:31:03.594537"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.598095"], ["updated_at", "2018-11-18 21:31:03.598095"], ["user_id", 153]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zVilx8xmHzsv.sqBGn55buVHAmf1pLAxSn7G30nwb4dlh3/k6VoTK"], ["created_at", "2018-11-18 21:31:03.623830"], ["updated_at", "2018-11-18 21:31:03.623830"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.626236"], ["updated_at", "2018-11-18 21:31:03.626236"], ["user_id", 154]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VtoliR46XFD4JVjlvAHOZuTD8TU3WzfX2YxwXd5FvjoIpyVgSw.3."], ["created_at", "2018-11-18 21:31:03.637014"], ["updated_at", "2018-11-18 21:31:03.637014"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.639357"], ["updated_at", "2018-11-18 21:31:03.639357"], ["user_id", 155]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$YfGO9YzvFjQUmjW2eG365O8bOaNs4/J0J3VpqP3LLkw1MXfcB4ryK"], ["created_at", "2018-11-18 21:31:03.648705"], ["updated_at", "2018-11-18 21:31:03.648705"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.651002"], ["updated_at", "2018-11-18 21:31:03.651002"], ["user_id", 156]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$g8YOqW5c4uNrNL6CGU/TPO1eRR7LSv6cwtdZs/3DaEZokI/g6rWm6"], ["created_at", "2018-11-18 21:31:03.659951"], ["updated_at", "2018-11-18 21:31:03.659951"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.663347"], ["updated_at", "2018-11-18 21:31:03.663347"], ["user_id", 157]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tHCvkMkC61pvcCWWOeoWOelULuGM1axcWEPpxsNkjAMUDNDwSU1wi"], ["created_at", "2018-11-18 21:31:03.672246"], ["updated_at", "2018-11-18 21:31:03.672246"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.674565"], ["updated_at", "2018-11-18 21:31:03.674565"], ["user_id", 158]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yag.GE5rKTr8vAD9SVUMc.sl9c27SDlJj5RHC.Br2gSUABDOqdGXa"], ["created_at", "2018-11-18 21:31:03.684972"], ["updated_at", "2018-11-18 21:31:03.684972"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (1.0ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.687461"], ["updated_at", "2018-11-18 21:31:03.687461"], ["user_id", 159]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UStTIiYdzxl4l54qnZ9iYesSAXufz.LmjRgIuc1csZRc1B1tyFDRC"], ["created_at", "2018-11-18 21:31:03.703353"], ["updated_at", "2018-11-18 21:31:03.703353"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.708181"], ["updated_at", "2018-11-18 21:31:03.708181"], ["user_id", 160]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.9ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3WD.X1adEvG6hAOvLDoajOH0zTH7ipF8iz/qgSn1h5Gw2aNmgzIom"], ["created_at", "2018-11-18 21:31:03.719058"], ["updated_at", "2018-11-18 21:31:03.719058"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.721548"], ["updated_at", "2018-11-18 21:31:03.721548"], ["user_id", 161]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tshfnY.U7wH9yumdzVvaaumyQTPlPFGeB3SDkxcxrlbllJEUHvdt6"], ["created_at", "2018-11-18 21:31:03.732295"], ["updated_at", "2018-11-18 21:31:03.732295"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.734683"], ["updated_at", "2018-11-18 21:31:03.734683"], ["user_id", 162]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$05pJ7xtbNYthEFN2kke6mefUKq5/4ZBdqcTBkeJ8/qyjk1TpjXjtW"], ["created_at", "2018-11-18 21:31:03.744085"], ["updated_at", "2018-11-18 21:31:03.744085"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.747029"], ["updated_at", "2018-11-18 21:31:03.747029"], ["user_id", 163]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ur6Tabv24VmawIJwSmR5POMuFqS8.BqKyWNyvCMnullt5gVpoHmem"], ["created_at", "2018-11-18 21:31:03.759784"], ["updated_at", "2018-11-18 21:31:03.759784"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.765753"], ["updated_at", "2018-11-18 21:31:03.765753"], ["user_id", 164]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 164], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 5.0ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4MPXBvlSBGiPHnp8GiiZmO0Ez2UAIpsR7yXB8ji2WqE/EWBy8rCI2"], ["created_at", "2018-11-18 21:31:03.784570"], ["updated_at", "2018-11-18 21:31:03.784570"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.789784"], ["updated_at", "2018-11-18 21:31:03.789784"], ["user_id", 165]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 165]]
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 165], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 165]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$A.WTVIBFN24acRyVON3y5ulFCp4PI3j1SUOJndnGuy.UkBggUhMH."], ["created_at", "2018-11-18 21:31:03.808162"], ["updated_at", "2018-11-18 21:31:03.808162"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.812623"], ["updated_at", "2018-11-18 21:31:03.812623"], ["user_id", 166]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 166]]
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"date"=>"2018-11-17 21:31:03 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 166], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (1.0ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 166], ["created_at", "2018-11-18 21:31:03.819788"], ["updated_at", "2018-11-18 21:31:03.819788"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 6ms (ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 166]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$HkndyAR6bGwTgdzprKZFyer44h7iSIaRNO1MEaYXga34nffYl4ybm"], ["created_at", "2018-11-18 21:31:03.829082"], ["updated_at", "2018-11-18 21:31:03.829082"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.832812"], ["updated_at", "2018-11-18 21:31:03.832812"], ["user_id", 167]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"date"=>"2018-11-17 21:31:03 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 167], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 167], ["created_at", "2018-11-18 21:31:03.839291"], ["updated_at", "2018-11-18 21:31:03.839291"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ySlVWQRvwjrIKY55W1CVDuH4Vng.nHcnWUZU5WhOV2abMbMXu/yVu"], ["created_at", "2018-11-18 21:31:03.848200"], ["updated_at", "2018-11-18 21:31:03.848200"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.851852"], ["updated_at", "2018-11-18 21:31:03.851852"], ["user_id", 168]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 168], ["created_at", "2018-11-18 21:31:03.854878"], ["updated_at", "2018-11-18 21:31:03.854878"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights"[0m
Processing by WeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 168], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "weights" WHERE "weights"."id" = $1[0m  [["id", 3]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 7ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Kqq.MGpmd1EMGjlU75f2v.C.Y/dpphQd4XQsdM06Z0hkPnk9HlAES"], ["created_at", "2018-11-18 21:31:03.870957"], ["updated_at", "2018-11-18 21:31:03.870957"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.875242"], ["updated_at", "2018-11-18 21:31:03.875242"], ["user_id", 169]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 169], ["created_at", "2018-11-18 21:31:03.880033"], ["updated_at", "2018-11-18 21:31:03.880033"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 169], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "weights" WHERE "weights"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iJZZ/9abyQg7o7VoQ9B/x.3zKyADpLcbgoudFF8Y.1hcqcQFZ8FMa"], ["created_at", "2018-11-18 21:31:03.894566"], ["updated_at", "2018-11-18 21:31:03.894566"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.898983"], ["updated_at", "2018-11-18 21:31:03.898983"], ["user_id", 170]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 170], ["created_at", "2018-11-18 21:31:03.901808"], ["updated_at", "2018-11-18 21:31:03.901808"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 4.9ms | ActiveRecord: 1.3ms)
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 170], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3E2ECXdxCqBF/pDXmkMKbOG.hK8ExqUx6/cPQrPvF/UJWHc5rOyp."], ["created_at", "2018-11-18 21:31:03.923920"], ["updated_at", "2018-11-18 21:31:03.923920"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.928265"], ["updated_at", "2018-11-18 21:31:03.928265"], ["user_id", 171]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 171], ["created_at", "2018-11-18 21:31:03.932221"], ["updated_at", "2018-11-18 21:31:03.932221"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 171], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3dmECBenpXo2C6bV/ONvV.aoUOz1l0pL7P1Ks/s6LjhM8ndwJnAam"], ["created_at", "2018-11-18 21:31:03.947880"], ["updated_at", "2018-11-18 21:31:03.947880"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.951535"], ["updated_at", "2018-11-18 21:31:03.951535"], ["user_id", 172]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 172], ["created_at", "2018-11-18 21:31:03.954496"], ["updated_at", "2018-11-18 21:31:03.954496"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"date"=>"2018-06-25", "value"=>"65"}, "profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 172], ["LIMIT", 1]]
  [1m[36mWeight Update (0.4ms)[0m  [1m[33mUPDATE "weights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "weights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "65.0"], ["updated_at", "2018-11-18 21:31:03.962382"], ["id", 7]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8Lz65acHVvsXEk6FO1QdI.tN82wM.XbCqpZ9bcHXOB8K8dfgNREXu"], ["created_at", "2018-11-18 21:31:03.970154"], ["updated_at", "2018-11-18 21:31:03.970154"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:03.973941"], ["updated_at", "2018-11-18 21:31:03.973941"], ["user_id", 173]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 173], ["created_at", "2018-11-18 21:31:03.981606"], ["updated_at", "2018-11-18 21:31:03.981606"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"date"=>"2018-06-25", "value"=>"65"}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.1ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[36mWeight Update (0.4ms)[0m  [1m[33mUPDATE "weights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "weights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "65.0"], ["updated_at", "2018-11-18 21:31:03.988749"], ["id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 173], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BSztDFnjniYdWSUemhQqpOLWTFqeSAXNzc6AOKQCezCt5usA/DY4i"], ["created_at", "2018-11-18 21:31:03.999791"], ["updated_at", "2018-11-18 21:31:03.999791"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.003264"], ["updated_at", "2018-11-18 21:31:04.003264"], ["user_id", 174]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 174], ["created_at", "2018-11-18 21:31:04.006578"], ["updated_at", "2018-11-18 21:31:04.006578"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 174], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sz19.6aYVOMHjJFN1IXezOeKsxsmlOGJdsNLeylfFOlSYsAUrn6me"], ["created_at", "2018-11-18 21:31:04.018870"], ["updated_at", "2018-11-18 21:31:04.018870"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.022430"], ["updated_at", "2018-11-18 21:31:04.022430"], ["user_id", 175]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 175], ["created_at", "2018-11-18 21:31:04.025267"], ["updated_at", "2018-11-18 21:31:04.025267"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 175], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$eDanHFccmlRDkI5gaVEWie1QcXjMOboE1wE21nxy/In92vlMnBW/m"], ["created_at", "2018-11-18 21:31:04.038446"], ["updated_at", "2018-11-18 21:31:04.038446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.041897"], ["updated_at", "2018-11-18 21:31:04.041897"], ["user_id", 176]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 176], ["created_at", "2018-11-18 21:31:04.045016"], ["updated_at", "2018-11-18 21:31:04.045016"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 176], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zI/5PMm/UfHcMU3BppcxSO0PfmLEoXmWFFHX8fKs4DiZ9DvUsih5m"], ["created_at", "2018-11-18 21:31:04.058362"], ["updated_at", "2018-11-18 21:31:04.058362"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.062483"], ["updated_at", "2018-11-18 21:31:04.062483"], ["user_id", 177]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 177], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$E7PdpvsJDEDP7CeQ0Mnfse39b6eE9WtSrsExhf0HdfpM8UIhpWS5y"], ["created_at", "2018-11-18 21:31:04.078109"], ["updated_at", "2018-11-18 21:31:04.078109"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.083108"], ["updated_at", "2018-11-18 21:31:04.083108"], ["user_id", 178]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 178], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0/3cVteSnWtXiOfh0MACpOrj9tniImGhm0n1vToZ75l720P41nG0e"], ["created_at", "2018-11-18 21:31:04.094566"], ["updated_at", "2018-11-18 21:31:04.094566"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.098603"], ["updated_at", "2018-11-18 21:31:04.098603"], ["user_id", 179]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 179], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 179]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 179]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PCsMThQqOrQWZMuf2aPDnOAhQPRoqCgGFhJ5D7KmEbJjzfzQXVKrC"], ["created_at", "2018-11-18 21:31:04.113961"], ["updated_at", "2018-11-18 21:31:04.113961"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.117639"], ["updated_at", "2018-11-18 21:31:04.117639"], ["user_id", 180]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 180], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$lLVpo/fDgjt35LIm/Lu.YOihUK68h/7cKL6wyBg97FMISQ3kPLAU6"], ["created_at", "2018-11-18 21:31:04.129923"], ["updated_at", "2018-11-18 21:31:04.129923"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.133853"], ["updated_at", "2018-11-18 21:31:04.133853"], ["user_id", 181]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 181], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qbm8cu1hK8C9o6/At2bSm.TJ.1BXa0u6DITEcRmLLtSjlNVedzs9m"], ["created_at", "2018-11-18 21:31:04.161074"], ["updated_at", "2018-11-18 21:31:04.161074"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.164169"], ["updated_at", "2018-11-18 21:31:04.164169"], ["user_id", 182]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WwrsRejexnuTjPLzUiKxc.qX5FtnE7GGCWpGPqso4tJvXPnG.0iia"], ["created_at", "2018-11-18 21:31:04.173975"], ["updated_at", "2018-11-18 21:31:04.173975"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.176296"], ["updated_at", "2018-11-18 21:31:04.176296"], ["user_id", 183]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5wEVdoVATKlDi7lNXBXcleANrKMInqtNmdbnGIFUerOpi7fH9IodS"], ["created_at", "2018-11-18 21:31:04.185549"], ["updated_at", "2018-11-18 21:31:04.185549"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.188255"], ["updated_at", "2018-11-18 21:31:04.188255"], ["user_id", 184]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2wqtR9nIAhzt0FfwntMUa.6V4KupBmcHu5GSVtAWM7YJ8M2ciWPui"], ["created_at", "2018-11-18 21:31:04.198768"], ["updated_at", "2018-11-18 21:31:04.198768"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.201108"], ["updated_at", "2018-11-18 21:31:04.201108"], ["user_id", 185]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$j8gxnC.Mk6A8uQkgfWBQeegqROk7BjkZQ0Cw0Tk/mSiTe8RW28HQK"], ["created_at", "2018-11-18 21:31:04.211171"], ["updated_at", "2018-11-18 21:31:04.211171"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.213644"], ["updated_at", "2018-11-18 21:31:04.213644"], ["user_id", 186]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yxJBMgPcBvbnSCZqS1pzzOVwJLrMk9hc1mNd0UB1PXiKHQQsKQkJG"], ["created_at", "2018-11-18 21:31:04.222192"], ["updated_at", "2018-11-18 21:31:04.222192"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.224740"], ["updated_at", "2018-11-18 21:31:04.224740"], ["user_id", 187]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$W5DqqWLBpSz0g.7nbOmvZ.Eot822cEz.p5NvVx.WNieUHgnmg.TJa"], ["created_at", "2018-11-18 21:31:04.235323"], ["updated_at", "2018-11-18 21:31:04.235323"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.237612"], ["updated_at", "2018-11-18 21:31:04.237612"], ["user_id", 188]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$FBIA/WOUoLayEdXg4EZmSe9rawl2ujuYAe2WrPDHQFd/LMW9kCWR6"], ["created_at", "2018-11-18 21:31:04.246771"], ["updated_at", "2018-11-18 21:31:04.246771"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.249037"], ["updated_at", "2018-11-18 21:31:04.249037"], ["user_id", 189]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XFOizAx9.73zRuHHCM8HOOW9zIw7NyXT5zL8FWOW/cIsstC3KvAZm"], ["created_at", "2018-11-18 21:31:04.258001"], ["updated_at", "2018-11-18 21:31:04.258001"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.261351"], ["updated_at", "2018-11-18 21:31:04.261351"], ["user_id", 190]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$eGkcrWK.ZlqHw494iCLnM.7Hgj7KpWbXNXvHGyo2H.CHCf5a.YnJW"], ["created_at", "2018-11-18 21:31:04.273520"], ["updated_at", "2018-11-18 21:31:04.273520"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.277301"], ["updated_at", "2018-11-18 21:31:04.277301"], ["user_id", 191]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.9ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 191], ["created_at", "2018-11-18 21:31:04.281457"], ["updated_at", "2018-11-18 21:31:04.281457"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 191], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "hdls" WHERE "hdls"."id" = $1[0m  [["id", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CiSvqPFSB.w7OAjlfGEfK.I6UTXaBJ.WacrR5V4Y0j7Hgx.svYcYu"], ["created_at", "2018-11-18 21:31:04.297819"], ["updated_at", "2018-11-18 21:31:04.297819"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.301683"], ["updated_at", "2018-11-18 21:31:04.301683"], ["user_id", 192]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 192], ["created_at", "2018-11-18 21:31:04.304412"], ["updated_at", "2018-11-18 21:31:04.304412"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls"[0m
Processing by HdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 192], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Destroy (1.0ms)[0m  [1m[31mDELETE FROM "hdls" WHERE "hdls"."id" = $1[0m  [["id", 2]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 7ms (ActiveRecord: 2.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EdjbuIlspYZESaPp0w8g6.jEqqyTTFe0Sd9e5mbMkHiZ3NNzsoZ7C"], ["created_at", "2018-11-18 21:31:04.320387"], ["updated_at", "2018-11-18 21:31:04.320387"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.323928"], ["updated_at", "2018-11-18 21:31:04.323928"], ["user_id", 193]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 193], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 2.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$oVWboPAwdu6aSxKqhVcTk.4vuREPCwYbVcDPCqYZDkpjohXMaMz1e"], ["created_at", "2018-11-18 21:31:04.340065"], ["updated_at", "2018-11-18 21:31:04.340065"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.343731"], ["updated_at", "2018-11-18 21:31:04.343731"], ["user_id", 194]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 194], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Rfa6CCyy2xczh3.PE6Fz.OgBcb9DvQlElMhDV6tGpN1Cmd3NBoeCC"], ["created_at", "2018-11-18 21:31:04.355383"], ["updated_at", "2018-11-18 21:31:04.355383"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.358895"], ["updated_at", "2018-11-18 21:31:04.358895"], ["user_id", 195]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 195], ["created_at", "2018-11-18 21:31:04.361801"], ["updated_at", "2018-11-18 21:31:04.361801"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 195], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 2.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pVc1ooPraWLSer7.2W0Qr.QV2vtFF1rOqtsw3J3laQc02FzCk7HzK"], ["created_at", "2018-11-18 21:31:04.379476"], ["updated_at", "2018-11-18 21:31:04.379476"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.383121"], ["updated_at", "2018-11-18 21:31:04.383121"], ["user_id", 196]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 196], ["created_at", "2018-11-18 21:31:04.386489"], ["updated_at", "2018-11-18 21:31:04.386489"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 196], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DNSXH7sZ29OVROruevZPnOMVrAw3egNdEZIfHC2XeP9C5saLbsHXy"], ["created_at", "2018-11-18 21:31:04.400875"], ["updated_at", "2018-11-18 21:31:04.400875"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.404688"], ["updated_at", "2018-11-18 21:31:04.404688"], ["user_id", 197]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 197], ["created_at", "2018-11-18 21:31:04.407477"], ["updated_at", "2018-11-18 21:31:04.407477"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 197], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ECmw8IJbxtyCyXHaj8p7gO/mcfW5BjaZQlAflYgJ8HQW6uDF/QIPe"], ["created_at", "2018-11-18 21:31:04.419677"], ["updated_at", "2018-11-18 21:31:04.419677"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.423443"], ["updated_at", "2018-11-18 21:31:04.423443"], ["user_id", 198]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"date"=>"2018-11-17 21:31:04 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 198], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.5ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 198], ["created_at", "2018-11-18 21:31:04.431423"], ["updated_at", "2018-11-18 21:31:04.431423"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$oi7ztaindrXubDtnD7cX1eynbfdTakhy2pVZLffrRpyC1szKEYtkC"], ["created_at", "2018-11-18 21:31:04.438885"], ["updated_at", "2018-11-18 21:31:04.438885"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.442485"], ["updated_at", "2018-11-18 21:31:04.442485"], ["user_id", 199]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 199]]
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"date"=>"2018-11-17 21:31:04 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 199], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 199], ["created_at", "2018-11-18 21:31:04.451546"], ["updated_at", "2018-11-18 21:31:04.451546"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 199]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6qcKGzNOEBaQyBwcHaR2D.zPATzgSupS35rLyf9zl7ChGz3/re4Ii"], ["created_at", "2018-11-18 21:31:04.459556"], ["updated_at", "2018-11-18 21:31:04.459556"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.463852"], ["updated_at", "2018-11-18 21:31:04.463852"], ["user_id", 200]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 200]]
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 200], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 200]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yInCAow2rZZ1M8b5eQpmXe9v/120kHmL/Fk5OcBMvPNs0Ha2zdEOm"], ["created_at", "2018-11-18 21:31:04.480968"], ["updated_at", "2018-11-18 21:31:04.480968"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.484640"], ["updated_at", "2018-11-18 21:31:04.484640"], ["user_id", 201]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 201], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RAztkmOx7ctL9p9pULNc7e61kZzd4QSHI22tkeaELgxeUtK9s/Jru"], ["created_at", "2018-11-18 21:31:04.498646"], ["updated_at", "2018-11-18 21:31:04.498646"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.502212"], ["updated_at", "2018-11-18 21:31:04.502212"], ["user_id", 202]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 202], ["created_at", "2018-11-18 21:31:04.504943"], ["updated_at", "2018-11-18 21:31:04.504943"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"date"=>"2018-10-25", "value"=>"121"}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 202], ["LIMIT", 1]]
  [1m[36mHdl Update (0.4ms)[0m  [1m[33mUPDATE "hdls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "hdls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 121], ["updated_at", "2018-11-18 21:31:04.513700"], ["id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wu0aJD1izShixU.giZcIsOr6MCA2u3o6sARUlnam0FYVRC6ImSdLi"], ["created_at", "2018-11-18 21:31:04.521185"], ["updated_at", "2018-11-18 21:31:04.521185"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.524791"], ["updated_at", "2018-11-18 21:31:04.524791"], ["user_id", 203]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.5ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 203], ["created_at", "2018-11-18 21:31:04.527790"], ["updated_at", "2018-11-18 21:31:04.527790"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"date"=>"2018-10-25", "value"=>"121"}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[36mHdl Update (0.4ms)[0m  [1m[33mUPDATE "hdls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "hdls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 121], ["updated_at", "2018-11-18 21:31:04.535246"], ["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 203], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$f.vwmXGN0aEo56Vxo8gy3OA9k1DiWgqHQOdT6WlpmfwzfwjVhDMT6"], ["created_at", "2018-11-18 21:31:04.544626"], ["updated_at", "2018-11-18 21:31:04.544626"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.548282"], ["updated_at", "2018-11-18 21:31:04.548282"], ["user_id", 204]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 204], ["created_at", "2018-11-18 21:31:04.551374"], ["updated_at", "2018-11-18 21:31:04.551374"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 204], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Bim5Cg1PZc/1Z4JvhLyKhuuPe940vCwi1SZCZ07Jw1IIWAl/YIRwa"], ["created_at", "2018-11-18 21:31:04.567360"], ["updated_at", "2018-11-18 21:31:04.567360"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.570980"], ["updated_at", "2018-11-18 21:31:04.570980"], ["user_id", 205]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 205], ["created_at", "2018-11-18 21:31:04.573732"], ["updated_at", "2018-11-18 21:31:04.573732"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.2ms)
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 205], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$95sJVMf3kksbuwN0gFt5aOVFKowlzHUmkUjFb5ocKSORfbOdkRuhC"], ["created_at", "2018-11-18 21:31:04.590163"], ["updated_at", "2018-11-18 21:31:04.590163"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.593840"], ["updated_at", "2018-11-18 21:31:04.593840"], ["user_id", 206]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 206], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 2.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OhHPLrLfz42RfijiiP1zruA6giFGvXHlPYUxnD/jVlImVso0XaWjy"], ["created_at", "2018-11-18 21:31:04.611137"], ["updated_at", "2018-11-18 21:31:04.611137"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.615974"], ["updated_at", "2018-11-18 21:31:04.615974"], ["user_id", 207]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 207], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$INUomqjvXV76Rs5I4spDf.rmEwe2wP7cFP1zxvXpuIPu1zNdRzTHO"], ["created_at", "2018-11-18 21:31:04.627229"], ["updated_at", "2018-11-18 21:31:04.627229"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.631607"], ["updated_at", "2018-11-18 21:31:04.631607"], ["user_id", 208]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 208], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 208]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 208]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$QGZleooJK5e/171y9Gq.c.VC5GVj4QH/EXuJNSj.OhmGfYwyktcTy"], ["created_at", "2018-11-18 21:31:04.649200"], ["updated_at", "2018-11-18 21:31:04.649200"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.651568"], ["updated_at", "2018-11-18 21:31:04.651568"], ["user_id", 209]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UUEAcEn3pxZVVYhqAIO33e7l1iPPd3qQVbDPCgvLKFhXdqu6mta76"], ["created_at", "2018-11-18 21:31:04.660209"], ["updated_at", "2018-11-18 21:31:04.660209"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.663884"], ["updated_at", "2018-11-18 21:31:04.663884"], ["user_id", 210]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MsvaVMdbI/MCebLWesOuCe4Pyog3NdSg6d26.0DfI4EWmDg6Fpxf."], ["created_at", "2018-11-18 21:31:04.672932"], ["updated_at", "2018-11-18 21:31:04.672932"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.675275"], ["updated_at", "2018-11-18 21:31:04.675275"], ["user_id", 211]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$17eJ0QDisgRFQTJy5VkXOuzBMAlAXGuAky7Hni22JJIg2WXBKc87C"], ["created_at", "2018-11-18 21:31:04.686579"], ["updated_at", "2018-11-18 21:31:04.686579"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.688937"], ["updated_at", "2018-11-18 21:31:04.688937"], ["user_id", 212]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$cOZmppBoImVzlBBbDawwh.Im.ptj0V15uDsZyrDLcwGw0TF15rG6."], ["created_at", "2018-11-18 21:31:04.698267"], ["updated_at", "2018-11-18 21:31:04.698267"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.701918"], ["updated_at", "2018-11-18 21:31:04.701918"], ["user_id", 213]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 213], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UNM4jdBHk0y2TuX6Gazd8uES9liuw0F5JMDVqy2vPd8L3mlc13IEO"], ["created_at", "2018-11-18 21:31:04.718104"], ["updated_at", "2018-11-18 21:31:04.718104"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.721813"], ["updated_at", "2018-11-18 21:31:04.721813"], ["user_id", 214]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 214], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$u4wKv4nxlEkZ8bIdS2cpCO/yNo6J5xWlk3qsCKi3HI4wR1UTj742a"], ["created_at", "2018-11-18 21:31:04.734866"], ["updated_at", "2018-11-18 21:31:04.734866"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.738457"], ["updated_at", "2018-11-18 21:31:04.738457"], ["user_id", 215]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 215]]
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 215], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 215]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ShcmxIO5qTG0ZEhQ9lvUSe28iddEbwUFUZ7j4ktDaOx9Dl2FmPROS"], ["created_at", "2018-11-18 21:31:04.755165"], ["updated_at", "2018-11-18 21:31:04.755165"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.758819"], ["updated_at", "2018-11-18 21:31:04.758819"], ["user_id", 216]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 216], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$U7W.RoBl/gFpBEqryY79pOiiHkSen1QeBcgLqtKMvVa6UKTqIHoBK"], ["created_at", "2018-11-18 21:31:04.774651"], ["updated_at", "2018-11-18 21:31:04.774651"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.778627"], ["updated_at", "2018-11-18 21:31:04.778627"], ["user_id", 217]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"antonio@exemplo.org", "mobile"=>"11981812828", "name"=>"Antonio", "phone"=>"1129291121"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 217], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.8ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "antonio@exemplo.org"], ["name", "Antonio"], ["phone", "1129291121"], ["mobile", "11981812828"], ["profile_id", 217], ["created_at", "2018-11-18 21:31:04.785877"], ["updated_at", "2018-11-18 21:31:04.785877"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 5ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$KohlahQgJALPCplpuzqH8ei5Zo5Gm5yO30vzjqOImEHxpgsg6i3ES"], ["created_at", "2018-11-18 21:31:04.794127"], ["updated_at", "2018-11-18 21:31:04.794127"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.798511"], ["updated_at", "2018-11-18 21:31:04.798511"], ["user_id", 218]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 218]]
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"antonio@exemplo.org", "mobile"=>"11981812828", "name"=>"Antonio", "phone"=>"1129291121"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 218], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "antonio@exemplo.org"], ["name", "Antonio"], ["phone", "1129291121"], ["mobile", "11981812828"], ["profile_id", 218], ["created_at", "2018-11-18 21:31:04.806105"], ["updated_at", "2018-11-18 21:31:04.806105"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 218]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$IztRCerXDDxYoyPvnvtxZOV9E7.eIdSFJRkpSuldpuBiPaAJTrkdm"], ["created_at", "2018-11-18 21:31:04.815341"], ["updated_at", "2018-11-18 21:31:04.815341"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.819113"], ["updated_at", "2018-11-18 21:31:04.819113"], ["user_id", 219]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 219], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/index.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 12ms (Views: 1.9ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RS7P2s/QeD0weopVTEivpuhhATd7Vof2eBAPXhp.j0LcqdyO7Yvzq"], ["created_at", "2018-11-18 21:31:04.839655"], ["updated_at", "2018-11-18 21:31:04.839655"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.843286"], ["updated_at", "2018-11-18 21:31:04.843286"], ["user_id", 220]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 220], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 220]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 220]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wDxEgj9PDJ6lCEcGkHv3x.u7nr4FgGz2uJNz0UKwdSs8U6a64JigC"], ["created_at", "2018-11-18 21:31:04.857229"], ["updated_at", "2018-11-18 21:31:04.857229"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (1.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.861149"], ["updated_at", "2018-11-18 21:31:04.861149"], ["user_id", 221]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 221], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$7GhTHPacR7X1kUfbTJkpSO8ftObMFHNJ1Joa1j75WZXiJvQ82Ulhm"], ["created_at", "2018-11-18 21:31:04.874254"], ["updated_at", "2018-11-18 21:31:04.874254"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.878142"], ["updated_at", "2018-11-18 21:31:04.878142"], ["user_id", 222]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 222], ["created_at", "2018-11-18 21:31:04.881375"], ["updated_at", "2018-11-18 21:31:04.881375"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 222], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.6ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qAosyaftmufE3mLMl6GxbOvN2ovrPGhYF8211iMjfkkPVJxpSQ9Wq"], ["created_at", "2018-11-18 21:31:04.898382"], ["updated_at", "2018-11-18 21:31:04.898382"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.902087"], ["updated_at", "2018-11-18 21:31:04.902087"], ["user_id", 223]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 223], ["created_at", "2018-11-18 21:31:04.905114"], ["updated_at", "2018-11-18 21:31:04.905114"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 223], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$930BN7k46mPBDK3WSVX8CuqAkJb3xYEq3GqREhx6MHO3sYFwHbx1K"], ["created_at", "2018-11-18 21:31:04.916971"], ["updated_at", "2018-11-18 21:31:04.916971"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.921068"], ["updated_at", "2018-11-18 21:31:04.921068"], ["user_id", 224]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.5ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 224], ["created_at", "2018-11-18 21:31:04.923748"], ["updated_at", "2018-11-18 21:31:04.923748"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 224], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$FDptyD4mwbGm6i2x7hPH/OboVY5ZagNP8UJ.Cb8d69xwlRlLjz1Oi"], ["created_at", "2018-11-18 21:31:04.937101"], ["updated_at", "2018-11-18 21:31:04.937101"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.940730"], ["updated_at", "2018-11-18 21:31:04.940730"], ["user_id", 225]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 225], ["created_at", "2018-11-18 21:31:04.943387"], ["updated_at", "2018-11-18 21:31:04.943387"]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts"[0m
Processing by ContactsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 225], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Destroy (0.3ms)[0m  [1m[31mDELETE FROM "contacts" WHERE "contacts"."id" = $1[0m  [["id", 6]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$QFMCoD2HwPknJHSyjjwjTez4r7EKiyr1MGwVgxOuE3G3f/79zX/7O"], ["created_at", "2018-11-18 21:31:04.959896"], ["updated_at", "2018-11-18 21:31:04.959896"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.964760"], ["updated_at", "2018-11-18 21:31:04.964760"], ["user_id", 226]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 226], ["created_at", "2018-11-18 21:31:04.967740"], ["updated_at", "2018-11-18 21:31:04.967740"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 226], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Destroy (0.3ms)[0m  [1m[31mDELETE FROM "contacts" WHERE "contacts"."id" = $1[0m  [["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$o3eZve8fJBLt179rEscP1.99zImyV4E8eQYM/HqNEKYvAvrAT9oSK"], ["created_at", "2018-11-18 21:31:04.983518"], ["updated_at", "2018-11-18 21:31:04.983518"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:04.987164"], ["updated_at", "2018-11-18 21:31:04.987164"], ["user_id", 227]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 227], ["created_at", "2018-11-18 21:31:04.990298"], ["updated_at", "2018-11-18 21:31:04.990298"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"petrus@exemplo.org", "mobile"=>"11982838128", "name"=>"Petrus", "phone"=>"1120201323"}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  [1m[36mContact Update (0.4ms)[0m  [1m[33mUPDATE "contacts" SET "email" = $1, "name" = $2, "phone" = $3, "mobile" = $4, "updated_at" = $5 WHERE "contacts"."id" = $6[0m  [["email", "petrus@exemplo.org"], ["name", "Petrus"], ["phone", "1120201323"], ["mobile", "11982838128"], ["updated_at", "2018-11-18 21:31:04.997722"], ["id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 227], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0cK4zvWtrp3LlscDV/fwqO/unVBQlazwYNkkcpUdsN/zUS4UdPNpK"], ["created_at", "2018-11-18 21:31:05.007211"], ["updated_at", "2018-11-18 21:31:05.007211"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.010928"], ["updated_at", "2018-11-18 21:31:05.010928"], ["user_id", 228]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 228], ["created_at", "2018-11-18 21:31:05.014122"], ["updated_at", "2018-11-18 21:31:05.014122"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"petrus@exemplo.org", "mobile"=>"11982838128", "name"=>"Petrus", "phone"=>"1120201323"}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 228], ["LIMIT", 1]]
  [1m[36mContact Update (0.4ms)[0m  [1m[33mUPDATE "contacts" SET "email" = $1, "name" = $2, "phone" = $3, "mobile" = $4, "updated_at" = $5 WHERE "contacts"."id" = $6[0m  [["email", "petrus@exemplo.org"], ["name", "Petrus"], ["phone", "1120201323"], ["mobile", "11982838128"], ["updated_at", "2018-11-18 21:31:05.020972"], ["id", 9]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$rRCF4YGi95Fmr2uOvC2cVu3pUpz.0.7W4yXLGI8i4gwYzMFgqHjKq"], ["created_at", "2018-11-18 21:31:05.029002"], ["updated_at", "2018-11-18 21:31:05.029002"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.033897"], ["updated_at", "2018-11-18 21:31:05.033897"], ["user_id", 229]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 229], ["created_at", "2018-11-18 21:31:05.036495"], ["updated_at", "2018-11-18 21:31:05.036495"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 1.2ms)
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 229], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1If0iEmspd150ysFipLDYeivsH.ug9Y0MymeizINLWAnzJdVHLWfu"], ["created_at", "2018-11-18 21:31:05.053445"], ["updated_at", "2018-11-18 21:31:05.053445"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.056961"], ["updated_at", "2018-11-18 21:31:05.056961"], ["user_id", 230]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 230], ["created_at", "2018-11-18 21:31:05.059848"], ["updated_at", "2018-11-18 21:31:05.059848"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 230], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$o7yL1z3lHA.iAB5zyRl1hOjVzmHnYCYrMJmeMM70sTAjCHugDf8na"], ["created_at", "2018-11-18 21:31:05.081150"], ["updated_at", "2018-11-18 21:31:05.081150"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.085276"], ["updated_at", "2018-11-18 21:31:05.085276"], ["user_id", 231]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 231], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/index.html.erb within layouts/internal (0.9ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 2.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$99vIpZtJCRO95txSPO8K9uxH7i1Fk682ayEbMSYjBUYuLhkf77c0u"], ["created_at", "2018-11-18 21:31:05.102073"], ["updated_at", "2018-11-18 21:31:05.102073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.105699"], ["updated_at", "2018-11-18 21:31:05.105699"], ["user_id", 232]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 232], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DCwX1FbBVqb7Wan7romXOujTVTh6Ig6vSGFg0GdzIhif6ECwCHJXm"], ["created_at", "2018-11-18 21:31:05.118438"], ["updated_at", "2018-11-18 21:31:05.118438"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.122074"], ["updated_at", "2018-11-18 21:31:05.122074"], ["user_id", 233]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 233], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[36mNonHdl Load (0.5ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 233]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 233]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nL1RyFLQ1GC60M1yKmJh2u2EpsRZrymJOOp3vdjQrtFP/0G6HmDyq"], ["created_at", "2018-11-18 21:31:05.136882"], ["updated_at", "2018-11-18 21:31:05.136882"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.140481"], ["updated_at", "2018-11-18 21:31:05.140481"], ["user_id", 234]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.9ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 234], ["created_at", "2018-11-18 21:31:05.143323"], ["updated_at", "2018-11-18 21:31:05.143323"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 234], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Pr6s/pbmeF9ZYEmw5KmOIORrOEB3IzuYenDhBkWKBR2k6nfSo.J5K"], ["created_at", "2018-11-18 21:31:05.160663"], ["updated_at", "2018-11-18 21:31:05.160663"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.165547"], ["updated_at", "2018-11-18 21:31:05.165547"], ["user_id", 235]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 235], ["created_at", "2018-11-18 21:31:05.168284"], ["updated_at", "2018-11-18 21:31:05.168284"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 235], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$7JF9zWmHhvlIwqsoYqub5ONR5YoICsoC3J8DVB0fI4HbTm40ShomG"], ["created_at", "2018-11-18 21:31:05.180117"], ["updated_at", "2018-11-18 21:31:05.180117"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.183746"], ["updated_at", "2018-11-18 21:31:05.183746"], ["user_id", 236]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 236], ["created_at", "2018-11-18 21:31:05.186912"], ["updated_at", "2018-11-18 21:31:05.186912"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 236], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Qe5EwYL.T5Xv5Zb0FMrlAeh/ymYJOZAmHdNvjRUtQKR1RCaYfzAP2"], ["created_at", "2018-11-18 21:31:05.200133"], ["updated_at", "2018-11-18 21:31:05.200133"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.204372"], ["updated_at", "2018-11-18 21:31:05.204372"], ["user_id", 237]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 237], ["created_at", "2018-11-18 21:31:05.207057"], ["updated_at", "2018-11-18 21:31:05.207057"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls"[0m
Processing by NonhdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 237], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "non_hdls" WHERE "non_hdls"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NIqugzvOHyIwbRXg.WgHC..WbvbDTg91FcpzqOh7g.BX66zP.bDf."], ["created_at", "2018-11-18 21:31:05.222328"], ["updated_at", "2018-11-18 21:31:05.222328"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.226075"], ["updated_at", "2018-11-18 21:31:05.226075"], ["user_id", 238]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 238], ["created_at", "2018-11-18 21:31:05.229451"], ["updated_at", "2018-11-18 21:31:05.229451"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 238], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "non_hdls" WHERE "non_hdls"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zzpBYKLQisrajtPYdrkXuu686d8Exedh45n75875Bq8goZt4Pd/X2"], ["created_at", "2018-11-18 21:31:05.243037"], ["updated_at", "2018-11-18 21:31:05.243037"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.248182"], ["updated_at", "2018-11-18 21:31:05.248182"], ["user_id", 239]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 239], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yk9atcpjMT/yQ78KMayC5efQvKrwuUANfzK/psNfvMWIxt7WnYiL2"], ["created_at", "2018-11-18 21:31:05.263632"], ["updated_at", "2018-11-18 21:31:05.263632"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.267705"], ["updated_at", "2018-11-18 21:31:05.267705"], ["user_id", 240]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 240], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mX/.iulP.43azB8xd2InOuwiBlKfMI71/0tbTAz1CYK7DFiXZt1FC"], ["created_at", "2018-11-18 21:31:05.280882"], ["updated_at", "2018-11-18 21:31:05.280882"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.284619"], ["updated_at", "2018-11-18 21:31:05.284619"], ["user_id", 241]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-11-17 21:31:05 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 241], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 241], ["created_at", "2018-11-18 21:31:05.290529"], ["updated_at", "2018-11-18 21:31:05.290529"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$B2lPn6mJKMMpYkLVbuq2KuucTwhpCiyIe8XIFbLak9x8JUU9f7j7S"], ["created_at", "2018-11-18 21:31:05.298315"], ["updated_at", "2018-11-18 21:31:05.298315"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.301974"], ["updated_at", "2018-11-18 21:31:05.301974"], ["user_id", 242]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 242]]
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-11-17 21:31:05 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 242], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 242], ["created_at", "2018-11-18 21:31:05.309032"], ["updated_at", "2018-11-18 21:31:05.309032"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 242]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$h4MHfuiCEzDACWykckOsReTi7YIfa7gQahw2gaEEWLICTL6z77M7u"], ["created_at", "2018-11-18 21:31:05.318687"], ["updated_at", "2018-11-18 21:31:05.318687"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.322346"], ["updated_at", "2018-11-18 21:31:05.322346"], ["user_id", 243]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 243], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$L8xb6PCLu4qNg5KEo9VkvOJm3eVV3IdBOWXNY5vo1wyZQxJ6vdFTm"], ["created_at", "2018-11-18 21:31:05.336992"], ["updated_at", "2018-11-18 21:31:05.336992"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.340574"], ["updated_at", "2018-11-18 21:31:05.340574"], ["user_id", 244]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 244]]
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 244], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 244]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$vJVOj1ZBYX5VBoI6/7JE/.0OCs9/qCb4sHI5OLxWBvOjH5.FRVxFq"], ["created_at", "2018-11-18 21:31:05.357010"], ["updated_at", "2018-11-18 21:31:05.357010"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.360754"], ["updated_at", "2018-11-18 21:31:05.360754"], ["user_id", 245]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 245], ["created_at", "2018-11-18 21:31:05.364959"], ["updated_at", "2018-11-18 21:31:05.364959"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-10-25", "value"=>"149"}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 245], ["LIMIT", 1]]
  [1m[36mNonHdl Update (0.4ms)[0m  [1m[33mUPDATE "non_hdls" SET "date" = $1, "updated_at" = $2 WHERE "non_hdls"."id" = $3[0m  [["date", "2018-10-25"], ["updated_at", "2018-11-18 21:31:05.371982"], ["id", 8]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$TdcQiaXxf/LfsFozLcwgIuUKr9fgKAqMO4glXcl22vQ2IPkPoDSvC"], ["created_at", "2018-11-18 21:31:05.379608"], ["updated_at", "2018-11-18 21:31:05.379608"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.383218"], ["updated_at", "2018-11-18 21:31:05.383218"], ["user_id", 246]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 246], ["created_at", "2018-11-18 21:31:05.385877"], ["updated_at", "2018-11-18 21:31:05.385877"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-10-25", "value"=>"149"}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[36mNonHdl Update (0.4ms)[0m  [1m[33mUPDATE "non_hdls" SET "date" = $1, "updated_at" = $2 WHERE "non_hdls"."id" = $3[0m  [["date", "2018-10-25"], ["updated_at", "2018-11-18 21:31:05.393111"], ["id", 9]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 246], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$k0UCq7qWw.RFCGabhaTaqukX96SOHJvMKl/DMDNYLu.oQlsdBFtLO"], ["created_at", "2018-11-18 21:31:05.403946"], ["updated_at", "2018-11-18 21:31:05.403946"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.407574"], ["updated_at", "2018-11-18 21:31:05.407574"], ["user_id", 247]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 247], ["created_at", "2018-11-18 21:31:05.410254"], ["updated_at", "2018-11-18 21:31:05.410254"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 247], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ZT.QBfSIQrEYE5KSHGuV4uV.AM4wzBjd0ZANtt/ykdzUmbu3aYhLm"], ["created_at", "2018-11-18 21:31:05.425593"], ["updated_at", "2018-11-18 21:31:05.425593"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.429959"], ["updated_at", "2018-11-18 21:31:05.429959"], ["user_id", 248]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 248], ["created_at", "2018-11-18 21:31:05.432666"], ["updated_at", "2018-11-18 21:31:05.432666"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 1.2ms)
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 248], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$GiMYbEcNyjKE9IVF6gf.hOvfBSHfrCu6qPDdMrWDhR05ANI6cTxTu"], ["created_at", "2018-11-18 21:31:05.451567"], ["updated_at", "2018-11-18 21:31:05.451567"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sDNRLp8AVwzy4K4wZoolTOuXLBRnSEydZm72/gVNAPtTbdfoDLOHW"], ["created_at", "2018-11-18 21:31:05.459108"], ["updated_at", "2018-11-18 21:31:05.459108"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.463486"], ["updated_at", "2018-11-18 21:31:05.463486"], ["user_id", 250]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 250], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Vz.szWk70YserMWgak8Y7.oZ38fRq3Z.VsHIEob0kHYmuUWHb5MHS"], ["created_at", "2018-11-18 21:31:05.479527"], ["updated_at", "2018-11-18 21:31:05.479527"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.483759"], ["updated_at", "2018-11-18 21:31:05.483759"], ["user_id", 251]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 251], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Z9SQaPvjMQo9JE5dN9SUXuKqtVLD0fye5vPFwydG/d/dNkgjCELeq"], ["created_at", "2018-11-18 21:31:05.496972"], ["updated_at", "2018-11-18 21:31:05.496972"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.500890"], ["updated_at", "2018-11-18 21:31:05.500890"], ["user_id", 252]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.9ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 251], ["created_at", "2018-11-18 21:31:05.503783"], ["updated_at", "2018-11-18 21:31:05.503783"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 252], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$141dckvjS25l44Lyt3h4u..hc830BUb7KhkajhRzlxl0J51rU9.MK"], ["created_at", "2018-11-18 21:31:05.520350"], ["updated_at", "2018-11-18 21:31:05.520350"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.524091"], ["updated_at", "2018-11-18 21:31:05.524091"], ["user_id", 253]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.5ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 252], ["created_at", "2018-11-18 21:31:05.527085"], ["updated_at", "2018-11-18 21:31:05.527085"]]
  [1m[35m (0.7ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 253], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$34FXLAk.TGCJzEJot5W2FOOYlU5vPGfRF5oMHQP.cdaDzJUYV7lAq"], ["created_at", "2018-11-18 21:31:05.540191"], ["updated_at", "2018-11-18 21:31:05.540191"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.543903"], ["updated_at", "2018-11-18 21:31:05.543903"], ["user_id", 254]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 253], ["created_at", "2018-11-18 21:31:05.546660"], ["updated_at", "2018-11-18 21:31:05.546660"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AvYmPcD69vjSII.muf/M.OcGsXeGNe5kVFvTeNLasfIC3t3Ctv5kC"], ["created_at", "2018-11-18 21:31:05.558697"], ["updated_at", "2018-11-18 21:31:05.558697"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.563156"], ["updated_at", "2018-11-18 21:31:05.563156"], ["user_id", 255]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 254], ["created_at", "2018-11-18 21:31:05.566479"], ["updated_at", "2018-11-18 21:31:05.566479"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 254], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.8ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$rjcvZ2gUBRy36yLzkPRx2uXO/Y5oppwBSeuc0UJyeGDNM0UZqfL9S"], ["created_at", "2018-11-18 21:31:05.583945"], ["updated_at", "2018-11-18 21:31:05.583945"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.587653"], ["updated_at", "2018-11-18 21:31:05.587653"], ["user_id", 256]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 255], ["created_at", "2018-11-18 21:31:05.590361"], ["updated_at", "2018-11-18 21:31:05.590361"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.4ms)
  [1m[36mTotal Load (0.5ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 255], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qbjmAbC61vO7L0U.OP.ufO8vdYwhW5mGVvO86Ope0R5sn2oA8mp1e"], ["created_at", "2018-11-18 21:31:05.608561"], ["updated_at", "2018-11-18 21:31:05.608561"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.612540"], ["updated_at", "2018-11-18 21:31:05.612540"], ["user_id", 257]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 256], ["created_at", "2018-11-18 21:31:05.615525"], ["updated_at", "2018-11-18 21:31:05.615525"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"date"=>"2018-10-25", "value"=>"190"}, "profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[36mTotal Update (0.4ms)[0m  [1m[33mUPDATE "totals" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "totals"."id" = $4[0m  [["date", "2018-10-25"], ["value", 190], ["updated_at", "2018-11-18 21:31:05.622781"], ["id", 6]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 256], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.4ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$adOo3LqzzIXc59Raf.syvujAWccgzTtyskLHM6bVAfIgEfHhO1WKG"], ["created_at", "2018-11-18 21:31:05.633959"], ["updated_at", "2018-11-18 21:31:05.633959"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.637641"], ["updated_at", "2018-11-18 21:31:05.637641"], ["user_id", 258]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.3ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 257], ["created_at", "2018-11-18 21:31:05.640385"], ["updated_at", "2018-11-18 21:31:05.640385"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"date"=>"2018-10-25", "value"=>"190"}, "profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 258], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 257], ["LIMIT", 1]]
  [1m[36mTotal Update (0.4ms)[0m  [1m[33mUPDATE "totals" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "totals"."id" = $4[0m  [["date", "2018-10-25"], ["value", 190], ["updated_at", "2018-11-18 21:31:05.648004"], ["id", 7]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CBvQueyW8xQGhmBHP6x1G.1IA4tcLQCAxgfmKEMe0c2i10noV6rt6"], ["created_at", "2018-11-18 21:31:05.655776"], ["updated_at", "2018-11-18 21:31:05.655776"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.659453"], ["updated_at", "2018-11-18 21:31:05.659453"], ["user_id", 259]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 259], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6Dzk1BePVIKCWvl5Itycfe.80x3rrbeS7AewMK617fHfEPpvSHGNO"], ["created_at", "2018-11-18 21:31:05.674089"], ["updated_at", "2018-11-18 21:31:05.674089"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.683663"], ["updated_at", "2018-11-18 21:31:05.683663"], ["user_id", 260]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 259]]
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 260], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 259]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$QcNVUATp0iSfyfY8tviQYeCy3JRUO573GHCmhXJ08gO8d0dqLX1qW"], ["created_at", "2018-11-18 21:31:05.701490"], ["updated_at", "2018-11-18 21:31:05.701490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.705414"], ["updated_at", "2018-11-18 21:31:05.705414"], ["user_id", 261]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 260]]
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"date"=>"2018-11-17 21:31:05 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 261], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 260], ["created_at", "2018-11-18 21:31:05.714196"], ["updated_at", "2018-11-18 21:31:05.714196"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 7ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 260]]
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iCpoZeQWHNiAf4//3nrNQODPuFZ4NFLri/6VxeAHXERa0Px7n0Wi."], ["created_at", "2018-11-18 21:31:05.723971"], ["updated_at", "2018-11-18 21:31:05.723971"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.727712"], ["updated_at", "2018-11-18 21:31:05.727712"], ["user_id", 262]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"date"=>"2018-11-17 21:31:05 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.3ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 261], ["created_at", "2018-11-18 21:31:05.734184"], ["updated_at", "2018-11-18 21:31:05.734184"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3Od34td1aTBW9nNddK1zfeZiMLdT9pjUBqfTI87BK.WgI6bPqh.7m"], ["created_at", "2018-11-18 21:31:05.742050"], ["updated_at", "2018-11-18 21:31:05.742050"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.745946"], ["updated_at", "2018-11-18 21:31:05.745946"], ["user_id", 263]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.3ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 262], ["created_at", "2018-11-18 21:31:05.748629"], ["updated_at", "2018-11-18 21:31:05.748629"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 262], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Destroy (0.3ms)[0m  [1m[31mDELETE FROM "totals" WHERE "totals"."id" = $1[0m  [["id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dmGPvkwa8JNgE0mNk0Z2zuPf8sBG2yufg0rYHWpIksB0qhGr3wCPW"], ["created_at", "2018-11-18 21:31:05.763746"], ["updated_at", "2018-11-18 21:31:05.763746"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.767797"], ["updated_at", "2018-11-18 21:31:05.767797"], ["user_id", 264]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.3ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 263], ["created_at", "2018-11-18 21:31:05.770474"], ["updated_at", "2018-11-18 21:31:05.770474"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals"[0m
Processing by TotalsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 264], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 263], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Destroy (0.3ms)[0m  [1m[31mDELETE FROM "totals" WHERE "totals"."id" = $1[0m  [["id", 11]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iRX.tfJPEKs8LNuo69rTl.OZXuD2bpfwu4HJtyElc5VWobXaKR5t2"], ["created_at", "2018-11-18 21:31:05.785216"], ["updated_at", "2018-11-18 21:31:05.785216"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.788813"], ["updated_at", "2018-11-18 21:31:05.788813"], ["user_id", 265]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 265], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$A3yK24ofzVy5GrFYDZSEyOuYwepCFH03DHKgUwu.BH15sydIFSNQ6"], ["created_at", "2018-11-18 21:31:05.803985"], ["updated_at", "2018-11-18 21:31:05.803985"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.807511"], ["updated_at", "2018-11-18 21:31:05.807511"], ["user_id", 266]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 266], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.7ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$lWj4DhrPfP9lWYvTrUeceubyXcq1uvxE0pGJO.n3GdFPwSZ8jQ7RK"], ["created_at", "2018-11-18 21:31:05.819431"], ["updated_at", "2018-11-18 21:31:05.819431"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.823075"], ["updated_at", "2018-11-18 21:31:05.823075"], ["user_id", 267]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 267], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 2.0ms | ActiveRecord: 0.4ms)
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 266]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 266]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AoPsAByM8p9zQe.p6deEB.lITyaUQaapqwaPfxW.km56T3OYXTVre"], ["created_at", "2018-11-18 21:31:05.865725"], ["updated_at", "2018-11-18 21:31:05.865725"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.868118"], ["updated_at", "2018-11-18 21:31:05.868118"], ["user_id", 268]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.9ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 267], ["created_at", "2018-11-18 21:31:05.871765"], ["updated_at", "2018-11-18 21:31:05.871765"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-17"], ["profile_id", 267], ["created_at", "2018-11-18 21:31:05.874961"], ["updated_at", "2018-11-18 21:31:05.874961"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.5ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 267], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao_silva@example.org"], ["encrypted_password", "$2a$04$xb7LS.EcMZR33k8yfpamFOrz.WHZmuYYsB8Pw1AI6t871cM/zgpdy"], ["created_at", "2018-11-18 21:31:05.900893"], ["updated_at", "2018-11-18 21:31:05.900893"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao_silva@example.org"], ["firstname", "João"], ["lastname", "Silva"], ["birthdate", "2000-05-05"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.903229"], ["updated_at", "2018-11-18 21:31:05.903229"], ["user_id", 269]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UZs9AQOq8ree59B5C/hBvu64vNTEY12ZF8RPLgUiCVh6Ifs54OYlG"], ["created_at", "2018-11-18 21:31:05.922871"], ["updated_at", "2018-11-18 21:31:05.922871"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.925151"], ["updated_at", "2018-11-18 21:31:05.925151"], ["user_id", 270]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 269], ["created_at", "2018-11-18 21:31:05.928457"], ["updated_at", "2018-11-18 21:31:05.928457"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 269], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Kv4ee1vuwc0xJe7d9dvAQeTIOBv3RLWGhmG0wseJe39cAcfUNJGZa"], ["created_at", "2018-11-18 21:31:05.938817"], ["updated_at", "2018-11-18 21:31:05.938817"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.941115"], ["updated_at", "2018-11-18 21:31:05.941115"], ["user_id", 271]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 270], ["created_at", "2018-11-18 21:31:05.944973"], ["updated_at", "2018-11-18 21:31:05.944973"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 270], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 270], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$seNfjNw0b3jt5eGI35uO/.xYF9Xh1b4skOSDMd4fehCPOHlNzoGLK"], ["created_at", "2018-11-18 21:31:05.955944"], ["updated_at", "2018-11-18 21:31:05.955944"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.958319"], ["updated_at", "2018-11-18 21:31:05.958319"], ["user_id", 272]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 271], ["created_at", "2018-11-18 21:31:05.962619"], ["updated_at", "2018-11-18 21:31:05.962619"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 271], ["created_at", "2018-11-18 21:31:05.965822"], ["updated_at", "2018-11-18 21:31:05.965822"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 271], ["LIMIT", 1]]
  [1m[36mWeight Load (0.4ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 271], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 271], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 271], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NusjKGLhLN.93Eyr.fDtf.LVHgHGbOuliaC4azhxk92Ud7r8HqIhq"], ["created_at", "2018-11-18 21:31:05.981238"], ["updated_at", "2018-11-18 21:31:05.981238"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:05.983552"], ["updated_at", "2018-11-18 21:31:05.983552"], ["user_id", 273]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.3ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-11-18"], ["profile_id", 272], ["created_at", "2018-11-18 21:31:05.986695"], ["updated_at", "2018-11-18 21:31:05.986695"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-11-17"], ["profile_id", 272], ["created_at", "2018-11-18 21:31:05.989093"], ["updated_at", "2018-11-18 21:31:05.989093"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 272], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$r0SlPWsmfG6ARPvmDjZr.uRbWa3d5HHnQPr.5lKGCklJRumZ9MVfu"], ["created_at", "2018-11-18 21:31:06.001745"], ["updated_at", "2018-11-18 21:31:06.001745"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.005389"], ["updated_at", "2018-11-18 21:31:06.005389"], ["user_id", 274]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (1.0ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 273], ["created_at", "2018-11-18 21:31:06.034702"], ["updated_at", "2018-11-18 21:31:06.034702"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 274], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 1], ["LIMIT", 1]]
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.8ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$YK7v491E51aCs7vq2sN6eOT9xsce94reWIafccK0iKsihZWnhymIO"], ["created_at", "2018-11-18 21:31:06.053265"], ["updated_at", "2018-11-18 21:31:06.053265"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.057052"], ["updated_at", "2018-11-18 21:31:06.057052"], ["user_id", 275]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 274], ["created_at", "2018-11-18 21:31:06.060176"], ["updated_at", "2018-11-18 21:31:06.060176"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"2"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 275], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 2], ["LIMIT", 1]]
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$eEzUDLxXI0JLS8RxAF1Rg.AYXoEnJRy3PeBAaJ1CMVC/X6QKg8ef2"], ["created_at", "2018-11-18 21:31:06.073519"], ["updated_at", "2018-11-18 21:31:06.073519"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.077298"], ["updated_at", "2018-11-18 21:31:06.077298"], ["user_id", 276]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 275], ["created_at", "2018-11-18 21:31:06.080804"], ["updated_at", "2018-11-18 21:31:06.080804"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"3"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 276], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 3], ["LIMIT", 1]]
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$72navPNLHu94jWUkRf3n0eFA3dfPejqS5BU4ujVqT/gDY5V2odq5S"], ["created_at", "2018-11-18 21:31:06.093641"], ["updated_at", "2018-11-18 21:31:06.093641"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.098543"], ["updated_at", "2018-11-18 21:31:06.098543"], ["user_id", 277]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 277], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EnKNQdvawVR9so1rYz.lA.8GbqhO9RXKD4CrcVpfO.JSixcOX0tUu"], ["created_at", "2018-11-18 21:31:06.111354"], ["updated_at", "2018-11-18 21:31:06.111354"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.115067"], ["updated_at", "2018-11-18 21:31:06.115067"], ["user_id", 278]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$McpT7ZG2ja3M0dkgHVEzgu0h6fwR0GtDL3D1L8eKQIYSH3HjWVUty"], ["created_at", "2018-11-18 21:31:06.127517"], ["updated_at", "2018-11-18 21:31:06.127517"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.132455"], ["updated_at", "2018-11-18 21:31:06.132455"], ["user_id", 279]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 278], ["created_at", "2018-11-18 21:31:06.135570"], ["updated_at", "2018-11-18 21:31:06.135570"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"4"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 278], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Destroy (0.4ms)[0m  [1m[31mDELETE FROM "platelets" WHERE "platelets"."id" = $1[0m  [["id", 4]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ElmjKuKB9kzUMlDZ8GE3Yuh/Tl6O9JueUZ7d/Bn.f4Gi6/iiPTYWq"], ["created_at", "2018-11-18 21:31:06.150285"], ["updated_at", "2018-11-18 21:31:06.150285"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.153938"], ["updated_at", "2018-11-18 21:31:06.153938"], ["user_id", 280]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (1.0ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 279], ["created_at", "2018-11-18 21:31:06.174931"], ["updated_at", "2018-11-18 21:31:06.174931"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets"[0m
Processing by PlateletsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 280], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 279], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Destroy (0.4ms)[0m  [1m[31mDELETE FROM "platelets" WHERE "platelets"."id" = $1[0m  [["id", 5]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 10ms (ActiveRecord: 2.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1BVdfErPIRew6a5GNRYsMOiW0Pi2YissjQW642pSGbg81YiYrRAU2"], ["created_at", "2018-11-18 21:31:06.206622"], ["updated_at", "2018-11-18 21:31:06.206622"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.211073"], ["updated_at", "2018-11-18 21:31:06.211073"], ["user_id", 281]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 281], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$95bRtQZRF3J/TTmvPwrE0OJ/6AuXwjpPoHqDiuGc97CrXA4.6fkYC"], ["created_at", "2018-11-18 21:31:06.226741"], ["updated_at", "2018-11-18 21:31:06.226741"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.232154"], ["updated_at", "2018-11-18 21:31:06.232154"], ["user_id", 282]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 282], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$eCcpVX3SJxCDUe9xT1oy0ezyY5runEfXCmtTKpy4aq/75l8uL2tcu"], ["created_at", "2018-11-18 21:31:06.247165"], ["updated_at", "2018-11-18 21:31:06.247165"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.252178"], ["updated_at", "2018-11-18 21:31:06.252178"], ["user_id", 283]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 283], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/index.html.erb within layouts/internal (1.0ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 2.4ms | ActiveRecord: 0.5ms)
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 282]]
  [1m[36mPlatelet Load (0.5ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 282]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/e9OjKxFXo6V1AkxnhS8W.PqL75UUQJrS3xuBlQIVwYS/JCYlo3Ly"], ["created_at", "2018-11-18 21:31:06.290028"], ["updated_at", "2018-11-18 21:31:06.290028"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.293675"], ["updated_at", "2018-11-18 21:31:06.293675"], ["user_id", 284]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 283]]
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 284], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["profile_id", 283], ["created_at", "2018-11-18 21:31:06.303263"], ["updated_at", "2018-11-18 21:31:06.303263"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 283]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CaaigNL4BInb5gHoL1FFue1w2jKBTWAzxyuH3DB4UZhxmoMp2h4Dq"], ["created_at", "2018-11-18 21:31:06.312041"], ["updated_at", "2018-11-18 21:31:06.312041"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.315723"], ["updated_at", "2018-11-18 21:31:06.315723"], ["user_id", 285]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 285], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["profile_id", 284], ["created_at", "2018-11-18 21:31:06.323927"], ["updated_at", "2018-11-18 21:31:06.323927"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 7ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RJC2Fh22sz7zfN6U9r3NHusMfnWQ2X3aoZgOhyZVytjDeM6N.phKu"], ["created_at", "2018-11-18 21:31:06.333642"], ["updated_at", "2018-11-18 21:31:06.333642"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.337406"], ["updated_at", "2018-11-18 21:31:06.337406"], ["user_id", 286]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 286], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 13ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JsaO066a4w4uoPsqTcJ5EOfx9pNVqdfTAx0hI2Hyz64NmeCwX2tDC"], ["created_at", "2018-11-18 21:31:06.359768"], ["updated_at", "2018-11-18 21:31:06.359768"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.364613"], ["updated_at", "2018-11-18 21:31:06.364613"], ["user_id", 287]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 286]]
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 14ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 286]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1xgQ0lCrGnnBaTwUM7rXDeGz5WG5iH4dr7HcVH707ZzQSKIcdACj."], ["created_at", "2018-11-18 21:31:06.389811"], ["updated_at", "2018-11-18 21:31:06.389811"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.393937"], ["updated_at", "2018-11-18 21:31:06.393937"], ["user_id", 288]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 287], ["created_at", "2018-11-18 21:31:06.398132"], ["updated_at", "2018-11-18 21:31:06.398132"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 287], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 14ms (Views: 1.4ms | ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zlQCRJ.2X91YTiMmc6fmdO8RdQ4w1JGr05apbxVUD5Z0TnY.1RaV."], ["created_at", "2018-11-18 21:31:06.422252"], ["updated_at", "2018-11-18 21:31:06.422252"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.425892"], ["updated_at", "2018-11-18 21:31:06.425892"], ["user_id", 289]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 288], ["created_at", "2018-11-18 21:31:06.430067"], ["updated_at", "2018-11-18 21:31:06.430067"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 14ms (Views: 1.4ms | ActiveRecord: 1.3ms)
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 288], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zijS2e6JrOoOqGRA4biP9u5b8KV0/hEK57uLxQgqXAeL8wrA/BMHC"], ["created_at", "2018-11-18 21:31:06.455928"], ["updated_at", "2018-11-18 21:31:06.455928"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.465157"], ["updated_at", "2018-11-18 21:31:06.465157"], ["user_id", 290]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 289], ["created_at", "2018-11-18 21:31:06.468358"], ["updated_at", "2018-11-18 21:31:06.468358"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 289], ["LIMIT", 1]]
  [1m[36mPlatelet Update (0.5ms)[0m  [1m[33mUPDATE "platelets" SET "erythrocyte" = $1, "hemoglobin" = $2, "hematocrit" = $3, "vcm" = $4, "hcm" = $5, "chcm" = $6, "rdw" = $7, "leukocytep" = $8, "neutrophilp" = $9, "eosinophilp" = $10, "basophilp" = $11, "lymphocytep" = $12, "monocytep" = $13, "leukocyteul" = $14, "neutrophilul" = $15, "eosinophilul" = $16, "basophilul" = $17, "lymphocyteul" = $18, "monocyteul" = $19, "total" = $20, "updated_at" = $21 WHERE "platelets"."id" = $22[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["updated_at", "2018-11-18 21:31:06.478141"], ["id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$B4.x2xLMSnTNZXb2AFggcO6bwAdRY2AuWv3uMXDXwt3EqMbrPMQb2"], ["created_at", "2018-11-18 21:31:06.486707"], ["updated_at", "2018-11-18 21:31:06.486707"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.490326"], ["updated_at", "2018-11-18 21:31:06.490326"], ["user_id", 291]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 290], ["created_at", "2018-11-18 21:31:06.493415"], ["updated_at", "2018-11-18 21:31:06.493415"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 291], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[36mPlatelet Update (0.5ms)[0m  [1m[33mUPDATE "platelets" SET "erythrocyte" = $1, "hemoglobin" = $2, "hematocrit" = $3, "vcm" = $4, "hcm" = $5, "chcm" = $6, "rdw" = $7, "leukocytep" = $8, "neutrophilp" = $9, "eosinophilp" = $10, "basophilp" = $11, "lymphocytep" = $12, "monocytep" = $13, "leukocyteul" = $14, "neutrophilul" = $15, "eosinophilul" = $16, "basophilul" = $17, "lymphocyteul" = $18, "monocyteul" = $19, "total" = $20, "updated_at" = $21 WHERE "platelets"."id" = $22[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["updated_at", "2018-11-18 21:31:06.503660"], ["id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 8ms (ActiveRecord: 1.6ms)
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 290], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$boZlTZvHA4k1ohnEKzoeSOLjncfBdGTWhHbJ4qZKcTTx1DSDrTsqm"], ["created_at", "2018-11-18 21:31:06.519630"], ["updated_at", "2018-11-18 21:31:06.519630"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.522198"], ["updated_at", "2018-11-18 21:31:06.522198"], ["user_id", 292]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1DzgvlHHKH7SaNFlklEBiO6zLHOuKnJ2ElYbRTbPrN4UBstqvmZrO"], ["created_at", "2018-11-18 21:31:06.532064"], ["updated_at", "2018-11-18 21:31:06.532064"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.534442"], ["updated_at", "2018-11-18 21:31:06.534442"], ["user_id", 293]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$uiWmF7AZN2AsKPo2myKh1OypDcNlLwcvE9/IakwTLzIJrNxSmqaWm"], ["created_at", "2018-11-18 21:31:06.543508"], ["updated_at", "2018-11-18 21:31:06.543508"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.548119"], ["updated_at", "2018-11-18 21:31:06.548119"], ["user_id", 294]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UG0Hqh4hpKcbxWA8PnCOSev760u6c4hf5TLqeLDvyuHVo8tgBfb7G"], ["created_at", "2018-11-18 21:31:06.556890"], ["updated_at", "2018-11-18 21:31:06.556890"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.559205"], ["updated_at", "2018-11-18 21:31:06.559205"], ["user_id", 295]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gOiN0u8kzDa3zAp0cro4veVP7umO.4vp8LvjQPbnf4k874J1TX/eW"], ["created_at", "2018-11-18 21:31:06.569195"], ["updated_at", "2018-11-18 21:31:06.569195"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.572777"], ["updated_at", "2018-11-18 21:31:06.572777"], ["user_id", 296]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 295], ["created_at", "2018-11-18 21:31:06.575490"], ["updated_at", "2018-11-18 21:31:06.575490"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"5"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 296], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 5], ["LIMIT", 1]]
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.9ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$HZBe2ot8He0BgGWJCxvRnOxi6c1XIhuS9D5ErMkBj7c.YtunrvQSq"], ["created_at", "2018-11-18 21:31:06.593392"], ["updated_at", "2018-11-18 21:31:06.593392"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.598239"], ["updated_at", "2018-11-18 21:31:06.598239"], ["user_id", 297]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 296], ["created_at", "2018-11-18 21:31:06.601124"], ["updated_at", "2018-11-18 21:31:06.601124"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 297], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 6], ["LIMIT", 1]]
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$A/6eLdDWDwmEY3BvRN2z1u8SINCHGojQbQTviCMQYoZt4J9RiESqG"], ["created_at", "2018-11-18 21:31:06.613079"], ["updated_at", "2018-11-18 21:31:06.613079"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.616642"], ["updated_at", "2018-11-18 21:31:06.616642"], ["user_id", 298]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 297], ["created_at", "2018-11-18 21:31:06.619303"], ["updated_at", "2018-11-18 21:31:06.619303"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"7"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 7], ["LIMIT", 1]]
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$X5Wj2X4GgbyPBJp6ztuJDOYcvviztKcHbFzVYtViu5B389Tt8JsGa"], ["created_at", "2018-11-18 21:31:06.632536"], ["updated_at", "2018-11-18 21:31:06.632536"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.636175"], ["updated_at", "2018-11-18 21:31:06.636175"], ["user_id", 299]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.3ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 298], ["created_at", "2018-11-18 21:31:06.638908"], ["updated_at", "2018-11-18 21:31:06.638908"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"8"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 8], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 298], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$E/AySlxn4sF3WRAJBZdw5uc2V3RvhbsuLFzVyGoeIsqMEAE8gG9si"], ["created_at", "2018-11-18 21:31:06.654117"], ["updated_at", "2018-11-18 21:31:06.654117"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.657753"], ["updated_at", "2018-11-18 21:31:06.657753"], ["user_id", 300]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 299], ["created_at", "2018-11-18 21:31:06.660488"], ["updated_at", "2018-11-18 21:31:06.660488"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"9"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.3ms)
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 9], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 299], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (1.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SajrT8stFfatLT41lpm33O/RsRy9axiRCUtcn8Vj4yYw/ry5VLq0O"], ["created_at", "2018-11-18 21:31:06.678331"], ["updated_at", "2018-11-18 21:31:06.678331"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.683205"], ["updated_at", "2018-11-18 21:31:06.683205"], ["user_id", 301]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.3ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 300], ["created_at", "2018-11-18 21:31:06.685964"], ["updated_at", "2018-11-18 21:31:06.685964"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"date"=>"2018-06-25", "value"=>"1.85"}, "profile_email"=>"joao@example.org", "id"=>"10"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 10], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 300], ["LIMIT", 1]]
  [1m[36mHeight Update (0.6ms)[0m  [1m[33mUPDATE "heights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "heights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "1.85"], ["updated_at", "2018-11-18 21:31:06.692786"], ["id", 10]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5MiUbgC6W1P.qe9ghAg.B.SWt9aHDIe26hm0nYkDeGXcMW7ZJODTK"], ["created_at", "2018-11-18 21:31:06.701321"], ["updated_at", "2018-11-18 21:31:06.701321"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.704961"], ["updated_at", "2018-11-18 21:31:06.704961"], ["user_id", 302]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 301], ["created_at", "2018-11-18 21:31:06.707958"], ["updated_at", "2018-11-18 21:31:06.707958"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"date"=>"2018-06-25", "value"=>"1.85"}, "profile_email"=>"joao@example.org", "id"=>"11"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  [1m[36mHeight Update (0.4ms)[0m  [1m[33mUPDATE "heights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "heights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "1.85"], ["updated_at", "2018-11-18 21:31:06.716400"], ["id", 11]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 11], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 301], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$d8ON.kt0DcAQd/Kxc0CBlOotB.rstLItyvYSy8W1B3LAXSaofFShW"], ["created_at", "2018-11-18 21:31:06.726100"], ["updated_at", "2018-11-18 21:31:06.726100"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.730407"], ["updated_at", "2018-11-18 21:31:06.730407"], ["user_id", 303]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 302], ["created_at", "2018-11-18 21:31:06.733143"], ["updated_at", "2018-11-18 21:31:06.733143"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 302], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "heights" WHERE "heights"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Zkwq/qgz8XtXWQjSkUaVAuEKjIDjfjNmQUvjZC3YXaTO1usbU/Go6"], ["created_at", "2018-11-18 21:31:06.746073"], ["updated_at", "2018-11-18 21:31:06.746073"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.749767"], ["updated_at", "2018-11-18 21:31:06.749767"], ["user_id", 304]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.3ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 303], ["created_at", "2018-11-18 21:31:06.752487"], ["updated_at", "2018-11-18 21:31:06.752487"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights"[0m
Processing by HeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 304], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 303], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "heights" WHERE "heights"."id" = $1[0m  [["id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (1.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Nt5sMfFLQQEwN14ioJClSe307qNm8W5VYev0NbFU/GaQS6mASHs4m"], ["created_at", "2018-11-18 21:31:06.769052"], ["updated_at", "2018-11-18 21:31:06.769052"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.772749"], ["updated_at", "2018-11-18 21:31:06.772749"], ["user_id", 305]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"date"=>"2018-11-17 21:31:06 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 305], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 304], ["created_at", "2018-11-18 21:31:06.779040"], ["updated_at", "2018-11-18 21:31:06.779040"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ORQRog2GQ.n/l/wJeNnCeeAB77bFijuymvWWPMpTp/70ws08KY/kG"], ["created_at", "2018-11-18 21:31:06.786473"], ["updated_at", "2018-11-18 21:31:06.786473"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.790521"], ["updated_at", "2018-11-18 21:31:06.790521"], ["user_id", 306]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 305]]
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"date"=>"2018-11-17 21:31:06 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 306], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.5ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 305], ["created_at", "2018-11-18 21:31:06.798390"], ["updated_at", "2018-11-18 21:31:06.798390"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 305]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1drBLo6FSfn/NDerRmaCludRtI5ef0zy9g.Z/zIPIOLbGD8xBtm.q"], ["created_at", "2018-11-18 21:31:06.806736"], ["updated_at", "2018-11-18 21:31:06.806736"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.810634"], ["updated_at", "2018-11-18 21:31:06.810634"], ["user_id", 307]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 306]]
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 307], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.9ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 5.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 306]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wIahfLFaS5/iVJIsl5bhquWycoWtMe4ECvezy3lhxPWxJQaaWV5eu"], ["created_at", "2018-11-18 21:31:06.833616"], ["updated_at", "2018-11-18 21:31:06.833616"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.839189"], ["updated_at", "2018-11-18 21:31:06.839189"], ["user_id", 308]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 308], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.9ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$KFRgGOONW/oX3Hou0ryuGOUFAjevgDAT7caPSen1U9zAAEMLwXkWK"], ["created_at", "2018-11-18 21:31:06.859668"], ["updated_at", "2018-11-18 21:31:06.859668"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.865675"], ["updated_at", "2018-11-18 21:31:06.865675"], ["user_id", 309]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 309], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bNHqyTGpp3zZeZXYXvpjtuorbMB2aeo.AvSlFjUm4.wCQapVg7dZy"], ["created_at", "2018-11-18 21:31:06.877577"], ["updated_at", "2018-11-18 21:31:06.877577"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.881474"], ["updated_at", "2018-11-18 21:31:06.881474"], ["user_id", 310]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 310], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1jzf7hjb14OFMeAFt.Kq8uVnvKTST7tpKQCOEl3.4JzWALyPK9r.6"], ["created_at", "2018-11-18 21:31:06.893921"], ["updated_at", "2018-11-18 21:31:06.893921"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.899567"], ["updated_at", "2018-11-18 21:31:06.899567"], ["user_id", 311]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 311], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.8ms | ActiveRecord: 0.5ms)
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 310]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 310]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$kfJgquI0YGlLsO/RcLolBu7tuBZxV//Xfni.wk7WzmmcJe1.Yx6rK"], ["created_at", "2018-11-18 21:31:06.916054"], ["updated_at", "2018-11-18 21:31:06.916054"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.919735"], ["updated_at", "2018-11-18 21:31:06.919735"], ["user_id", 312]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 312], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AQcUlNl93jfq8t3UObWkZOk/nk2DlN/mdXnL1uMA7brhrsCCfbbh."], ["created_at", "2018-11-18 21:31:06.932255"], ["updated_at", "2018-11-18 21:31:06.932255"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.936437"], ["updated_at", "2018-11-18 21:31:06.936437"], ["user_id", 313]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 313], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tSVYxYh2.MjfdyuYD9JFreasO54ofJk3yzNw0cpm.SB7zK1udoSt2"], ["created_at", "2018-11-18 21:31:06.962810"], ["updated_at", "2018-11-18 21:31:06.962810"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.965416"], ["updated_at", "2018-11-18 21:31:06.965416"], ["user_id", 314]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$J6nTwqQfv9BKnVLCsZhdzePnrqNHtVb6QOGio0mK0v2oYNKCkjKDy"], ["created_at", "2018-11-18 21:31:06.973957"], ["updated_at", "2018-11-18 21:31:06.973957"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.976345"], ["updated_at", "2018-11-18 21:31:06.976345"], ["user_id", 315]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$38mjc3jy79u0CgUQvP49d.dsSk9nshZjuGoJTk9WkY4MtvzIkANtu"], ["created_at", "2018-11-18 21:31:06.987289"], ["updated_at", "2018-11-18 21:31:06.987289"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:06.989641"], ["updated_at", "2018-11-18 21:31:06.989641"], ["user_id", 316]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yTpvtVw7XKw7s1DyH/rxNOc3soLFbDMj8l7ZKegaEoCcKpbr24SgG"], ["created_at", "2018-11-18 21:31:06.999751"], ["updated_at", "2018-11-18 21:31:06.999751"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.002478"], ["updated_at", "2018-11-18 21:31:07.002478"], ["user_id", 317]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$IkPAFGPj8kj7bL0xNJ0Q0eRT8apN2WlQ1bqF1/Hv4c2vwk5ca6/pq"], ["created_at", "2018-11-18 21:31:07.012063"], ["updated_at", "2018-11-18 21:31:07.012063"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.015954"], ["updated_at", "2018-11-18 21:31:07.015954"], ["user_id", 318]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WtfEmgH/qksFd.zCkMUX3.P0n4C0YjNgACtVS6MW/r7P.5u1gNCqO"], ["created_at", "2018-11-18 21:31:07.025061"], ["updated_at", "2018-11-18 21:31:07.025061"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.027551"], ["updated_at", "2018-11-18 21:31:07.027551"], ["user_id", 319]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$h/dHt/5.x5rypXWiZ5bnqexbXRCq4nFDQzz2BMiO9cEtyAYaQdSNi"], ["created_at", "2018-11-18 21:31:07.040454"], ["updated_at", "2018-11-18 21:31:07.040454"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.044459"], ["updated_at", "2018-11-18 21:31:07.044459"], ["user_id", 320]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 320], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering profiles/show.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/show.html.erb within layouts/internal (1.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
Processing by ProfilesController#index as HTML
  Rendering profiles/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$F//dsOtiHiJLY7qpe/jfrezVP/NCyrPeTLHqDCsL7rLEfmNFYkaOa"], ["created_at", "2018-11-18 21:31:07.075099"], ["updated_at", "2018-11-18 21:31:07.075099"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.080438"], ["updated_at", "2018-11-18 21:31:07.080438"], ["user_id", 321]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>"1999-12-21", "gender"=>"Male", "sex"=>"male"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 320], ["LIMIT", 1]]
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "updated_at" = $3 WHERE "profiles"."id" = $4[0m  [["birthdate", "1999-12-21"], ["sex", "male"], ["updated_at", "2018-11-18 21:31:07.089747"], ["id", 320]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (1.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 14ms (Views: 5.6ms | ActiveRecord: 2.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2APek7qidkGcupebWd368eQIQZJL0yPMOANFFYXVqfRYMdpyDm9EK"], ["created_at", "2018-11-18 21:31:07.103594"], ["updated_at", "2018-11-18 21:31:07.103594"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.107286"], ["updated_at", "2018-11-18 21:31:07.107286"], ["user_id", 322]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>"1999-12-21", "gender"=>"Male", "sex"=>"male"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 321], ["LIMIT", 1]]
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "updated_at" = $3 WHERE "profiles"."id" = $4[0m  [["birthdate", "1999-12-21"], ["sex", "male"], ["updated_at", "2018-11-18 21:31:07.116114"], ["id", 321]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 2.4ms | ActiveRecord: 2.0ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 321], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fx3sOxQQLlv1VxfJsob5FezKIr4jMW9XXrqSkzndp.aEL0tOBhDyG"], ["created_at", "2018-11-18 21:31:07.127291"], ["updated_at", "2018-11-18 21:31:07.127291"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.131608"], ["updated_at", "2018-11-18 21:31:07.131608"], ["user_id", 323]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>"1999-12-21", "gender"=>"Male", "sex"=>"male"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 322], ["LIMIT", 1]]
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "updated_at" = $3 WHERE "profiles"."id" = $4[0m  [["birthdate", "1999-12-21"], ["sex", "male"], ["updated_at", "2018-11-18 21:31:07.141811"], ["id", 322]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 1.9ms | ActiveRecord: 2.1ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 322], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6NI9MzylvUNWrXXdaBVe7uS.Cd6TZ0wPaeyvgzFqGJZlLkSgW01zC"], ["created_at", "2018-11-18 21:31:07.153045"], ["updated_at", "2018-11-18 21:31:07.153045"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.157017"], ["updated_at", "2018-11-18 21:31:07.157017"], ["user_id", 324]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>""}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 324], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 323], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 1.7ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 323], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8Dz04FbRn5UmNT4pfO1FyuXbwTB70plWONzgmL7vQYXJAXOYxRdYi"], ["created_at", "2018-11-18 21:31:07.175211"], ["updated_at", "2018-11-18 21:31:07.175211"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.179293"], ["updated_at", "2018-11-18 21:31:07.179293"], ["user_id", 325]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>""}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 324], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1fDZ0TRhLXPpyig9VHfAf.q19VtS5JaYvTGWZnng4dF.Yqscj4w6W"], ["created_at", "2018-11-18 21:31:07.197766"], ["updated_at", "2018-11-18 21:31:07.197766"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.201761"], ["updated_at", "2018-11-18 21:31:07.201761"], ["user_id", 326]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"email"=>"teste@example.org", "firstname"=>"teste", "lastname"=>"sauro"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
Unpermitted parameters: :email, :firstname, :lastname
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 326], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 1.6ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 325], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LQgL5qRU/jXgX5l4ZHE84ORaDJHDJjZSUbr9kWzsDyYy9E7jTuiW."], ["created_at", "2018-11-18 21:31:07.219477"], ["updated_at", "2018-11-18 21:31:07.219477"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 327], ["LIMIT", 1]]
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PACYlau3HZW3FbWEwEoiZex1fzzod0kAPYmwA/s.qX9uYjWWp.hPW"], ["created_at", "2018-11-18 21:31:07.233920"], ["updated_at", "2018-11-18 21:31:07.233920"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.237833"], ["updated_at", "2018-11-18 21:31:07.237833"], ["user_id", 328]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 328], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$QauyRYOORmmrx4mby.APT.aDdisZPhzEUyuD1m1nu0MYclau8fI26"], ["created_at", "2018-11-18 21:31:07.251556"], ["updated_at", "2018-11-18 21:31:07.251556"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"", "email"=>"", "firstname"=>"", "lastname"=>""}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 329], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$veJrv1mIqSvlLjQy5gkOJeqCiUGtVnS.ll0v8rVOjQBEmOQ2oapPW"], ["created_at", "2018-11-18 21:31:07.267508"], ["updated_at", "2018-11-18 21:31:07.267508"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"", "email"=>"", "firstname"=>"", "lastname"=>""}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 330], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.6ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
  [1m[35m (0.7ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wcPdAa8OXEQCb.AyhXES7eNlUoW71koBiYoKzsJzveX4KxCiYy78G"], ["created_at", "2018-11-18 21:31:07.286439"], ["updated_at", "2018-11-18 21:31:07.286439"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.290237"], ["updated_at", "2018-11-18 21:31:07.290237"], ["user_id", 331]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 331], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$GCTntRzdDq1K0XVqdGanAu1VkX7YeYOQLPeI9JAvrwFw41GK4W1OC"], ["created_at", "2018-11-18 21:31:07.311303"], ["updated_at", "2018-11-18 21:31:07.311303"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 21:31:07.316355"], ["updated_at", "2018-11-18 21:31:07.316355"], ["user_id", 332]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 332], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ewWqJ44gol3e0Ruz5KavguGj5wxo/pNh7EJIEpSmKBKpjbHFHl.jG"], ["created_at", "2018-11-18 21:31:07.331088"], ["updated_at", "2018-11-18 21:31:07.331088"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 333], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "Silva"], ["birthdate", "2000-12-15"], ["created_at", "2018-11-18 21:31:07.337798"], ["updated_at", "2018-11-18 21:31:07.337798"], ["user_id", 333]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$kb4tKYZ3iNgu/j0x3gO/2uqrXwKmwSeNtKA.P6p.72Z7Hksy8bXga"], ["created_at", "2018-11-18 21:31:07.347450"], ["updated_at", "2018-11-18 21:31:07.347450"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 334], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "Silva"], ["birthdate", "2000-12-15"], ["created_at", "2018-11-18 21:31:07.353455"], ["updated_at", "2018-11-18 21:31:07.353455"], ["user_id", 334]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (4.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (4.8ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (3.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (4.7ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ZkT01ULG0LK9wvVAe7WOSu9aIVt0l.Qer8kz6XB309sRF9HjNyLMC"], ["created_at", "2018-11-18 22:22:25.576258"], ["updated_at", "2018-11-18 22:22:25.576258"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (6.1ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.585611"], ["updated_at", "2018-11-18 22:22:25.585611"], ["user_id", 335]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.8ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Q0X9B.AGR4jrWZbqQM8/Yu2NZxWng.GOVv5N5XL9hwe688GvtIQDu"], ["created_at", "2018-11-18 22:22:25.655125"], ["updated_at", "2018-11-18 22:22:25.655125"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.658103"], ["updated_at", "2018-11-18 22:22:25.658103"], ["user_id", 336]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CywUBQKHs0GlHfJm5VMUpOW.5mp.8nSvjMIDPvfCyqO9bnLL9gLkW"], ["created_at", "2018-11-18 22:22:25.668089"], ["updated_at", "2018-11-18 22:22:25.668089"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.671628"], ["updated_at", "2018-11-18 22:22:25.671628"], ["user_id", 337]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Aedc5mnzx8.oR1Vrcank2.aUXOh3xn0jTILPxoDqziegWBmGZcRMy"], ["created_at", "2018-11-18 22:22:25.681588"], ["updated_at", "2018-11-18 22:22:25.681588"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.684409"], ["updated_at", "2018-11-18 22:22:25.684409"], ["user_id", 338]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.5ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$axhu0hsF34JrIGB60dDrduaOCpQRtQ9eiWh35rN/.c064JJceTzjK"], ["created_at", "2018-11-18 22:22:25.704239"], ["updated_at", "2018-11-18 22:22:25.704239"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.708883"], ["updated_at", "2018-11-18 22:22:25.708883"], ["user_id", 339]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T20:22:25-02:00", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 339], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 28ms (Views: 12.1ms | ActiveRecord: 2.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MLaC3W.Z8T.h8Oy/SO9wVerCNuXgrPNCvtMcmUfLs5ncmVd.7Xw3C"], ["created_at", "2018-11-18 22:22:25.760469"], ["updated_at", "2018-11-18 22:22:25.760469"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.764691"], ["updated_at", "2018-11-18 22:22:25.764691"], ["user_id", 340]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (7.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 336]]
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T20:22:25-02:00", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 340], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 1.0ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 336]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fDazcmxgqZ4lYT5orrPeReDvKZRvx/eC0G2lqG.9qGN.aIRYNitoG"], ["created_at", "2018-11-18 22:22:25.810648"], ["updated_at", "2018-11-18 22:22:25.810648"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.814769"], ["updated_at", "2018-11-18 22:22:25.814769"], ["user_id", 341]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 337]]
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T20:22:25-02:00", "fasting"=>"true", "value"=>"100"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 341], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.6ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (2.8ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 100.0], ["date", "2018-11-18 22:22:25"], ["fasting", true], ["profile_id", 337], ["created_at", "2018-11-18 22:22:25.823702"], ["updated_at", "2018-11-18 22:22:25.823702"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 12ms (ActiveRecord: 4.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 337]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Pgi7wUvcUhLBRwRNZEUMeuZ5TFnVlPWUqwQmuFADpJ38ViJRG1DyG"], ["created_at", "2018-11-18 22:22:25.838220"], ["updated_at", "2018-11-18 22:22:25.838220"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.843664"], ["updated_at", "2018-11-18 22:22:25.843664"], ["user_id", 342]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#create as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18T20:22:25-02:00", "fasting"=>"true", "value"=>"100"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 342], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.5ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 100.0], ["date", "2018-11-18 22:22:25"], ["fasting", true], ["profile_id", 338], ["created_at", "2018-11-18 22:22:25.850575"], ["updated_at", "2018-11-18 22:22:25.850575"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 6ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$7mV4ROTWajbwdPLJG9DI8u7Ro2qxkR1OZ07qVLd7qqSsdCd2.UOOa"], ["created_at", "2018-11-18 22:22:25.861704"], ["updated_at", "2018-11-18 22:22:25.861704"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.866182"], ["updated_at", "2018-11-18 22:22:25.866182"], ["user_id", 343]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.5ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 339], ["created_at", "2018-11-18 22:22:25.869038"], ["updated_at", "2018-11-18 22:22:25.869038"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures"[0m
Processing by GlucoseMeasuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 343], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Destroy (0.5ms)[0m  [1m[31mDELETE FROM "glucose_measures" WHERE "glucose_measures"."id" = $1[0m  [["id", 14]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "glucose_measures"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BDy6uoJwi6Li.8RN8pNt/eXGjvjOjfCBjtU8AWJnsIfO3oQAzZ5mS"], ["created_at", "2018-11-18 22:22:25.886207"], ["updated_at", "2018-11-18 22:22:25.886207"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.891490"], ["updated_at", "2018-11-18 22:22:25.891490"], ["user_id", 344]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.5ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 340], ["created_at", "2018-11-18 22:22:25.895164"], ["updated_at", "2018-11-18 22:22:25.895164"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "glucose_measures" WHERE "glucose_measures"."id" = $1[0m  [["id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.mvC1ZREROBtptdPjX5EI.Y0Zhszuye4OILWExDJO6M0jf32slB9a"], ["created_at", "2018-11-18 22:22:25.910000"], ["updated_at", "2018-11-18 22:22:25.910000"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.914425"], ["updated_at", "2018-11-18 22:22:25.914425"], ["user_id", 345]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 4.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mRCPssRK4.cXUIq67vFvQOf086WR6POgWRTZ5cBD5cQ2iSZ32CqLu"], ["created_at", "2018-11-18 22:22:25.932455"], ["updated_at", "2018-11-18 22:22:25.932455"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.936904"], ["updated_at", "2018-11-18 22:22:25.936904"], ["user_id", 346]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$e2JQvOxCbwPunvWW11/kLOrTtwFCpPK2O2LF2Lc35Q9eKl8Hz2poO"], ["created_at", "2018-11-18 22:22:25.949909"], ["updated_at", "2018-11-18 22:22:25.949909"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.954320"], ["updated_at", "2018-11-18 22:22:25.954320"], ["user_id", 347]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 343]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."profile_id" = $1[0m  [["profile_id", 343]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nBUewWf07kwHD.f/8GGk..H4GKgy7bXfKsg6jPfmYG4AeGWfI65Si"], ["created_at", "2018-11-18 22:22:25.975560"], ["updated_at", "2018-11-18 22:22:25.975560"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:25.979358"], ["updated_at", "2018-11-18 22:22:25.979358"], ["user_id", 348]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 344], ["created_at", "2018-11-18 22:22:25.982941"], ["updated_at", "2018-11-18 22:22:25.982941"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 20:22:25", "fasting"=>"true", "value"=>"50"}, "profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 348], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.4ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Update (0.5ms)[0m  [1m[33mUPDATE "glucose_measures" SET "value" = $1, "fasting" = $2, "date" = $3, "updated_at" = $4 WHERE "glucose_measures"."id" = $5[0m  [["value", 50.0], ["fasting", true], ["date", "2018-11-18 20:22:25"], ["updated_at", "2018-11-18 22:22:25.993297"], ["id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 10ms (ActiveRecord: 1.9ms)
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 344], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.9ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WZiFUrhTrL1cdQoz7GYsaOyT5x6tvBYjRxN9UTwPuFHXyJVvVTFKa"], ["created_at", "2018-11-18 22:22:26.005615"], ["updated_at", "2018-11-18 22:22:26.005615"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.010649"], ["updated_at", "2018-11-18 22:22:26.010649"], ["user_id", 349]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 345], ["created_at", "2018-11-18 22:22:26.013292"], ["updated_at", "2018-11-18 22:22:26.013292"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 20:22:26", "fasting"=>"true", "value"=>"50"}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 349], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 345], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Update (0.6ms)[0m  [1m[33mUPDATE "glucose_measures" SET "value" = $1, "fasting" = $2, "date" = $3, "updated_at" = $4 WHERE "glucose_measures"."id" = $5[0m  [["value", 50.0], ["fasting", true], ["date", "2018-11-18 20:22:26"], ["updated_at", "2018-11-18 22:22:26.021192"], ["id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/glucose_measures
Completed 302 Found in 8ms (ActiveRecord: 1.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$PbeSwZIuXPADdFarlFYd6ui5HfAAPpuJbm1anZqTB5GzfSstXDMaO"], ["created_at", "2018-11-18 22:22:26.030576"], ["updated_at", "2018-11-18 22:22:26.030576"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.034247"], ["updated_at", "2018-11-18 22:22:26.034247"], ["user_id", 350]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.6ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 346], ["created_at", "2018-11-18 22:22:26.037190"], ["updated_at", "2018-11-18 22:22:26.037190"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 20:22:26", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 350], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 346], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 3.1ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$TllyKm99p1HE8t.ZOj7RaufLEwrE/t65qp6ZeNunkOK9Pb.SP87di"], ["created_at", "2018-11-18 22:22:26.054687"], ["updated_at", "2018-11-18 22:22:26.054687"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.058847"], ["updated_at", "2018-11-18 22:22:26.058847"], ["user_id", 351]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 347], ["created_at", "2018-11-18 22:22:26.061547"], ["updated_at", "2018-11-18 22:22:26.061547"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#update as HTML
  Parameters: {"glucose_measure"=>{"date"=>"2018-11-18 20:22:26", "fasting"=>"true", "value"=>""}, "profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 351], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 1.3ms)
  [1m[36mGlucoseMeasure Load (0.3ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 347], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yl8Xj0ARJ3cvJr7Wy8cBoe5Jp4RC24YmGtjUsPvRBdFN13eGfIj06"], ["created_at", "2018-11-18 22:22:26.079246"], ["updated_at", "2018-11-18 22:22:26.079246"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.082884"], ["updated_at", "2018-11-18 22:22:26.082884"], ["user_id", 352]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 352], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pAUcPFQwFCgmxEKstfLlXe85M1nQMrhayfQ7V2dOO4lsAW2gHmqQS"], ["created_at", "2018-11-18 22:22:26.094566"], ["updated_at", "2018-11-18 22:22:26.094566"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.098119"], ["updated_at", "2018-11-18 22:22:26.098119"], ["user_id", 353]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 353], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering glucose_measures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CNoZA4QXzEY5WRYDFuYgaeUE4L.cSObWw31ySuBjE7iOvlff09Way"], ["created_at", "2018-11-18 22:22:26.109353"], ["updated_at", "2018-11-18 22:22:26.109353"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.112993"], ["updated_at", "2018-11-18 22:22:26.112993"], ["user_id", 354]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 350], ["created_at", "2018-11-18 22:22:26.115644"], ["updated_at", "2018-11-18 22:22:26.115644"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 354], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.TpoADDHkU7MqZ2sMxuT1ugCq6HIjDBKPOhJHSWifS1/xAtjkasQ6"], ["created_at", "2018-11-18 22:22:26.127563"], ["updated_at", "2018-11-18 22:22:26.127563"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.131147"], ["updated_at", "2018-11-18 22:22:26.131147"], ["user_id", 355]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 351], ["created_at", "2018-11-18 22:22:26.133875"], ["updated_at", "2018-11-18 22:22:26.133875"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 355], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yp0ONPLmR1Pw5SMfJytWNuQAkPQSzSujBeQaMHsVOPOhN8Qc.pTsa"], ["created_at", "2018-11-18 22:22:26.145338"], ["updated_at", "2018-11-18 22:22:26.145338"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.148939"], ["updated_at", "2018-11-18 22:22:26.148939"], ["user_id", 356]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mGlucoseMeasure Create (0.4ms)[0m  [1m[32mINSERT INTO "glucose_measures" ("value", "date", "fasting", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["value", 1.5], ["date", "2018-10-26 17:44:36"], ["fasting", false], ["profile_id", 352], ["created_at", "2018-11-18 22:22:26.151612"], ["updated_at", "2018-11-18 22:22:26.151612"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by GlucoseMeasuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 356], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mGlucoseMeasure Load (0.2ms)[0m  [1m[34mSELECT  "glucose_measures".* FROM "glucose_measures" WHERE "glucose_measures"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering glucose_measures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered glucose_measures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 6.2ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$779FsHXPAHD1vGhgG1isred6bCq5ILvmV2VqaIEQ7sU823oOHPreK"], ["created_at", "2018-11-18 22:22:26.177971"], ["updated_at", "2018-11-18 22:22:26.177971"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.180350"], ["updated_at", "2018-11-18 22:22:26.180350"], ["user_id", 357]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$QLRnJqBdvrcityQgDiGHOecpo2JGMPukHBbkFPwJIF9xGIzWEbmt6"], ["created_at", "2018-11-18 22:22:26.199598"], ["updated_at", "2018-11-18 22:22:26.199598"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.201969"], ["updated_at", "2018-11-18 22:22:26.201969"], ["user_id", 358]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2TUnutuTOrveHQLWUEXdkeDrUUMh47lTpAgvoXlmKcZz38XJSYXA2"], ["created_at", "2018-11-18 22:22:26.212056"], ["updated_at", "2018-11-18 22:22:26.212056"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.214424"], ["updated_at", "2018-11-18 22:22:26.214424"], ["user_id", 359]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (1.1ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8zKKQmhxPYpEwtbnDDD70Oqkq5oTpDf9SE3Ii1hq1KXN5F1gRHIPy"], ["created_at", "2018-11-18 22:22:26.225897"], ["updated_at", "2018-11-18 22:22:26.225897"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.228592"], ["updated_at", "2018-11-18 22:22:26.228592"], ["user_id", 360]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JTvnWZkHaG2AEI08JOmCKuzD7SjiotWUrjEO1Dsw4.DKSljl7FkBe"], ["created_at", "2018-11-18 22:22:26.238115"], ["updated_at", "2018-11-18 22:22:26.238115"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.242317"], ["updated_at", "2018-11-18 22:22:26.242317"], ["user_id", 361]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$uEkn27NVQgs9skuQUldIl.oizk8clahBtqLRGOTAAQRG3ldQjXow6"], ["created_at", "2018-11-18 22:22:26.252454"], ["updated_at", "2018-11-18 22:22:26.252454"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.255055"], ["updated_at", "2018-11-18 22:22:26.255055"], ["user_id", 362]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$QdcELB4XsrqJFkBRstdHHuewgGhaKfuyghU3vlHLU.jc7rkEM18x6"], ["created_at", "2018-11-18 22:22:26.285525"], ["updated_at", "2018-11-18 22:22:26.285525"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.289561"], ["updated_at", "2018-11-18 22:22:26.289561"], ["user_id", 363]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$cJs8MHfUDSFA5Vlrdou22OHJfW1oUNyTbgGDxbzI4rBNemEortTHy"], ["created_at", "2018-11-18 22:22:26.301448"], ["updated_at", "2018-11-18 22:22:26.301448"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.305151"], ["updated_at", "2018-11-18 22:22:26.305151"], ["user_id", 364]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$FMt6Dq2YuYRIggR5JBUzd.Qo9mwWtA5zd0sY6/XC4FObvKFCZPDBW"], ["created_at", "2018-11-18 22:22:26.315951"], ["updated_at", "2018-11-18 22:22:26.315951"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.318269"], ["updated_at", "2018-11-18 22:22:26.318269"], ["user_id", 365]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/TE7kY0h8C9jgszoVJlnBuCy0vaR1kXSSOIqxPSsSrBJXGbyf/dcK"], ["created_at", "2018-11-18 22:22:26.329312"], ["updated_at", "2018-11-18 22:22:26.329312"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.331641"], ["updated_at", "2018-11-18 22:22:26.331641"], ["user_id", 366]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4TvndErJyEZUy3./2bnGgeLNewMfovvHqaYpml82vhmTo7yYdO7nS"], ["created_at", "2018-11-18 22:22:26.341728"], ["updated_at", "2018-11-18 22:22:26.341728"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.344972"], ["updated_at", "2018-11-18 22:22:26.344972"], ["user_id", 367]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bRae5cHtkLqzvfdAc9r.J.EvTirD85z50urN9DZexk9lf.SUJV.na"], ["created_at", "2018-11-18 22:22:26.354658"], ["updated_at", "2018-11-18 22:22:26.354658"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.358130"], ["updated_at", "2018-11-18 22:22:26.358130"], ["user_id", 368]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5buA5siXt9NY3XYwuGndg.4i1Iae.1KcyzwBkbuWk6aFy6S4Ca9o2"], ["created_at", "2018-11-18 22:22:26.367877"], ["updated_at", "2018-11-18 22:22:26.367877"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.372104"], ["updated_at", "2018-11-18 22:22:26.372104"], ["user_id", 369]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (3.7ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 365], ["created_at", "2018-11-18 22:22:26.376249"], ["updated_at", "2018-11-18 22:22:26.376249"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 369], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 365], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 3.2ms | ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4voo7/.NgD1vr28lupYfUOd2rFoXTmyZHZRkxW8cR9fLDhr7PLA3S"], ["created_at", "2018-11-18 22:22:26.400121"], ["updated_at", "2018-11-18 22:22:26.400121"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.403773"], ["updated_at", "2018-11-18 22:22:26.403773"], ["user_id", 370]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 366], ["created_at", "2018-11-18 22:22:26.406984"], ["updated_at", "2018-11-18 22:22:26.406984"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 370], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.3ms)
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 366], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Va29kA86j12VZlXc547xA.6vthBKUUXvSdl.alwvweatLJKjEs5lK"], ["created_at", "2018-11-18 22:22:26.424378"], ["updated_at", "2018-11-18 22:22:26.424378"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.428045"], ["updated_at", "2018-11-18 22:22:26.428045"], ["user_id", 371]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 367], ["created_at", "2018-11-18 22:22:26.430778"], ["updated_at", "2018-11-18 22:22:26.430778"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"date"=>"2018-10-25", "value"=>"190"}, "profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 371], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 367], ["LIMIT", 1]]
  [1m[36mTotal Update (0.5ms)[0m  [1m[33mUPDATE "totals" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "totals"."id" = $4[0m  [["date", "2018-10-25"], ["value", 190], ["updated_at", "2018-11-18 22:22:26.437832"], ["id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MDlqblSYnKStmGYeImEuhOfNjuDqhbyFdW9PE8rlVRTy851TR4KRa"], ["created_at", "2018-11-18 22:22:26.445601"], ["updated_at", "2018-11-18 22:22:26.445601"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.449432"], ["updated_at", "2018-11-18 22:22:26.449432"], ["user_id", 372]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 368], ["created_at", "2018-11-18 22:22:26.452141"], ["updated_at", "2018-11-18 22:22:26.452141"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#update as HTML
  Parameters: {"total"=>{"date"=>"2018-10-25", "value"=>"190"}, "profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 372], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.6ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  [1m[36mTotal Update (0.4ms)[0m  [1m[33mUPDATE "totals" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "totals"."id" = $4[0m  [["date", "2018-10-25"], ["value", 190], ["updated_at", "2018-11-18 22:22:26.461777"], ["id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 9ms (ActiveRecord: 2.3ms)
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 368], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$peVdVR3NarXSCRaVJjHSNuKDZY24uvXtydTjRv0syvAG61bzPrhoW"], ["created_at", "2018-11-18 22:22:26.471414"], ["updated_at", "2018-11-18 22:22:26.471414"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.475291"], ["updated_at", "2018-11-18 22:22:26.475291"], ["user_id", 373]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 373], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0h8gHVQE0Fu/tgrtWLooBuLOFlm20YLlWV1S9qXkjPeHR2FE7rgWK"], ["created_at", "2018-11-18 22:22:26.489209"], ["updated_at", "2018-11-18 22:22:26.489209"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.492801"], ["updated_at", "2018-11-18 22:22:26.492801"], ["user_id", 374]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 374], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 370]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT "totals".* FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 370]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8QOAevHFZHMS2y.iQ0n9QOxF4amBACZiQcLHgQTCOVZSmp7o6A85S"], ["created_at", "2018-11-18 22:22:26.507045"], ["updated_at", "2018-11-18 22:22:26.507045"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.510695"], ["updated_at", "2018-11-18 22:22:26.510695"], ["user_id", 375]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$o7y6fCFC8bj6uQ0fEOTGbOLrMAM1Pn9B1FM689iUqvCrGs1Cf.Wba"], ["created_at", "2018-11-18 22:22:26.522290"], ["updated_at", "2018-11-18 22:22:26.522290"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.525963"], ["updated_at", "2018-11-18 22:22:26.525963"], ["user_id", 376]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 372], ["created_at", "2018-11-18 22:22:26.529103"], ["updated_at", "2018-11-18 22:22:26.529103"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wYNGSgOgEMpze/HMymFYSeXix5X0Xg9tbnJuTXB/l1dELgCQnjd9."], ["created_at", "2018-11-18 22:22:26.542113"], ["updated_at", "2018-11-18 22:22:26.542113"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.546762"], ["updated_at", "2018-11-18 22:22:26.546762"], ["user_id", 377]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 373], ["created_at", "2018-11-18 22:22:26.549522"], ["updated_at", "2018-11-18 22:22:26.549522"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 377], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.3ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3hprYgzIpiZoNVxjwswkXervoZtYyTKR.uK5jLR8WkYqkV1Y1apwm"], ["created_at", "2018-11-18 22:22:26.563804"], ["updated_at", "2018-11-18 22:22:26.563804"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.567678"], ["updated_at", "2018-11-18 22:22:26.567678"], ["user_id", 378]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.8ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 374], ["created_at", "2018-11-18 22:22:26.571153"], ["updated_at", "2018-11-18 22:22:26.571153"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 378], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering totals/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5SXvUGrpqzunfXWrmtjFku/tnzfUGIL1YupJKS6xTFwEJEqqp8cJ6"], ["created_at", "2018-11-18 22:22:26.585909"], ["updated_at", "2018-11-18 22:22:26.585909"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.590576"], ["updated_at", "2018-11-18 22:22:26.590576"], ["user_id", 379]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.3ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 375], ["created_at", "2018-11-18 22:22:26.594341"], ["updated_at", "2018-11-18 22:22:26.594341"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 379], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.2ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 375], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Destroy (0.4ms)[0m  [1m[31mDELETE FROM "totals" WHERE "totals"."id" = $1[0m  [["id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 13ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OP/yeSkV0hMuR9yzvt2.leyAhhG6ukAeFxbMmAOXO/VTi1kq1Po7C"], ["created_at", "2018-11-18 22:22:26.616358"], ["updated_at", "2018-11-18 22:22:26.616358"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.620366"], ["updated_at", "2018-11-18 22:22:26.620366"], ["user_id", 380]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 187], ["date", "2018-10-31"], ["profile_id", 376], ["created_at", "2018-11-18 22:22:26.624266"], ["updated_at", "2018-11-18 22:22:26.624266"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals"[0m
Processing by TotalsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 380], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mTotal Load (0.1ms)[0m  [1m[34mSELECT  "totals".* FROM "totals" WHERE "totals"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 376], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Destroy (0.6ms)[0m  [1m[31mDELETE FROM "totals" WHERE "totals"."id" = $1[0m  [["id", 20]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Z4HgcXkv2bkEQdflitfijewcgmj2vfGtwKMEh1NIiMzwa6ilf4PyW"], ["created_at", "2018-11-18 22:22:26.641424"], ["updated_at", "2018-11-18 22:22:26.641424"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.645129"], ["updated_at", "2018-11-18 22:22:26.645129"], ["user_id", 381]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 381], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$hXpboGs8vdLouoKRV4I6fOf2W1qUxObx9WRtx8CLYKszr6yEt57Ie"], ["created_at", "2018-11-18 22:22:26.659743"], ["updated_at", "2018-11-18 22:22:26.659743"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.663463"], ["updated_at", "2018-11-18 22:22:26.663463"], ["user_id", 382]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 382], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.GVG4cYh3bNhT90z/LtlJe7ZFcOMPlwZxA1yhjQ2Oq0WEECQVen1W"], ["created_at", "2018-11-18 22:22:26.677877"], ["updated_at", "2018-11-18 22:22:26.677877"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.681947"], ["updated_at", "2018-11-18 22:22:26.681947"], ["user_id", 383]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"date"=>"2018-11-17 22:22:26 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 383], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 379], ["created_at", "2018-11-18 22:22:26.690544"], ["updated_at", "2018-11-18 22:22:26.690544"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WZYazld7nOQRrxYEjsKE/eGSQVvZTuLxYyw.1fMd9nZ3JR9GemOHq"], ["created_at", "2018-11-18 22:22:26.698157"], ["updated_at", "2018-11-18 22:22:26.698157"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.701748"], ["updated_at", "2018-11-18 22:22:26.701748"], ["user_id", 384]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 380]]
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"date"=>"2018-11-17 22:22:26 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 384], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mTotal Create (0.4ms)[0m  [1m[32mINSERT INTO "totals" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 380], ["created_at", "2018-11-18 22:22:26.709508"], ["updated_at", "2018-11-18 22:22:26.709508"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/totals
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 380]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$oXrlm7vnVk1Hijf4y9/2X.c5YJy2ytlBGX1VieZQV20Q5mPX8eHSO"], ["created_at", "2018-11-18 22:22:26.717518"], ["updated_at", "2018-11-18 22:22:26.717518"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.722379"], ["updated_at", "2018-11-18 22:22:26.722379"], ["user_id", 385]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 385], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6mYbErBaUG3USAdEu8nznu2vlG3j8ReUkwTBn4q8Zt6CxqkzcHeA2"], ["created_at", "2018-11-18 22:22:26.735490"], ["updated_at", "2018-11-18 22:22:26.735490"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.740884"], ["updated_at", "2018-11-18 22:22:26.740884"], ["user_id", 386]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 382]]
Processing by TotalsController#create as HTML
  Parameters: {"total"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 386], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering totals/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered totals/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.9ms)
  [1m[35m (0.5ms)[0m  [1m[34mSELECT COUNT(*) FROM "totals" WHERE "totals"."profile_id" = $1[0m  [["profile_id", 382]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$klMN4YIK6Yh8OhS63wgrRu0nVbTxBEOzfaAJaQl.alCwoPG2fyvQy"], ["created_at", "2018-11-18 22:22:26.761238"], ["updated_at", "2018-11-18 22:22:26.761238"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.763665"], ["updated_at", "2018-11-18 22:22:26.763665"], ["user_id", 387]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$kaiCbH2Dm4HJMFQmHYh/xOCMONL0JnZPOaqXlXpLxljarjSq4BjvS"], ["created_at", "2018-11-18 22:22:26.787362"], ["updated_at", "2018-11-18 22:22:26.787362"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.790773"], ["updated_at", "2018-11-18 22:22:26.790773"], ["user_id", 388]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NQizz8u5dwCEqo76XoHFSuIQRu6nVCKl19voBEoAhuBaKyunlR4jO"], ["created_at", "2018-11-18 22:22:26.801546"], ["updated_at", "2018-11-18 22:22:26.801546"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.803850"], ["updated_at", "2018-11-18 22:22:26.803850"], ["user_id", 389]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$r8uvK78Hlr2G1lV9M77u8.Tj/t.ErErlrXBkarE5brKN26JdWW1Ei"], ["created_at", "2018-11-18 22:22:26.814413"], ["updated_at", "2018-11-18 22:22:26.814413"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.816860"], ["updated_at", "2018-11-18 22:22:26.816860"], ["user_id", 390]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LigXBoui.O8PduKTaN25BOWrynqr22Zp.e0i7jhN4KGEXWf64hI3C"], ["created_at", "2018-11-18 22:22:26.882962"], ["updated_at", "2018-11-18 22:22:26.882962"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.885304"], ["updated_at", "2018-11-18 22:22:26.885304"], ["user_id", 391]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (4.1ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-18"], ["profile_id", 387], ["created_at", "2018-11-18 22:22:26.898674"], ["updated_at", "2018-11-18 22:22:26.898674"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-11-17"], ["profile_id", 387], ["created_at", "2018-11-18 22:22:26.907095"], ["updated_at", "2018-11-18 22:22:26.907095"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (1.9ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 387], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8nMmr2HNQAtn8dmB3fDAjuDAKqGCXaO.MeFjD8LonDO0Z5BpSjcLS"], ["created_at", "2018-11-18 22:22:26.919156"], ["updated_at", "2018-11-18 22:22:26.919156"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.921479"], ["updated_at", "2018-11-18 22:22:26.921479"], ["user_id", 392]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (4.1ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-11-18"], ["profile_id", 388], ["created_at", "2018-11-18 22:22:26.932111"], ["updated_at", "2018-11-18 22:22:26.932111"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-11-17"], ["profile_id", 388], ["created_at", "2018-11-18 22:22:26.939049"], ["updated_at", "2018-11-18 22:22:26.939049"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 388], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE "profiles"."email" IS NULL LIMIT $1[0m  [["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao_silva@example.org"], ["encrypted_password", "$2a$04$2lipH0irpxKxtA/6ZAuaIeR8rXJoiuATOhnz2MUy1g40aSeBZ9hYi"], ["created_at", "2018-11-18 22:22:26.971707"], ["updated_at", "2018-11-18 22:22:26.971707"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao_silva@example.org"], ["firstname", "João"], ["lastname", "Silva"], ["birthdate", "2000-05-05"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.974306"], ["updated_at", "2018-11-18 22:22:26.974306"], ["user_id", 393]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao_silva@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$H5xBrmJcbpv2w15SnsXaI.NJkg2WFws4nFcUYXovEFnfI8uBEVOPG"], ["created_at", "2018-11-18 22:22:26.985903"], ["updated_at", "2018-11-18 22:22:26.985903"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:26.988354"], ["updated_at", "2018-11-18 22:22:26.988354"], ["user_id", 394]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 390], ["created_at", "2018-11-18 22:22:26.991758"], ["updated_at", "2018-11-18 22:22:26.991758"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 390], ["created_at", "2018-11-18 22:22:26.994437"], ["updated_at", "2018-11-18 22:22:26.994437"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 390], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 390], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 390], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 390], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OtSRMe0ZsodvNCtXjjof.uRGcGLwuBPCs6WWDo/0.wNbtucsk7tvi"], ["created_at", "2018-11-18 22:22:27.008891"], ["updated_at", "2018-11-18 22:22:27.008891"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.011274"], ["updated_at", "2018-11-18 22:22:27.011274"], ["user_id", 395]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.85"], ["date", "2018-11-18"], ["profile_id", 391], ["created_at", "2018-11-18 22:22:27.014284"], ["updated_at", "2018-11-18 22:22:27.014284"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 391], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."profile_id" = $1 ORDER BY "weights"."date" DESC LIMIT $2[0m  [["profile_id", 391], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$28Bm.TtzmUPGQMbjWxtv.OKdjfGa8vOqL4VvibWXjK6lbcUCDs1ey"], ["created_at", "2018-11-18 22:22:27.025012"], ["updated_at", "2018-11-18 22:22:27.025012"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.027571"], ["updated_at", "2018-11-18 22:22:27.027571"], ["user_id", 396]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "65.0"], ["date", "2018-11-18"], ["profile_id", 392], ["created_at", "2018-11-18 22:22:27.030659"], ["updated_at", "2018-11-18 22:22:27.030659"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."profile_id" = $1 ORDER BY "heights"."date" DESC LIMIT $2[0m  [["profile_id", 392], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EuuJNHHN3TjEGBm2xx9wyeT8Q93b/VCMRti0MYj7p2ObNWsyyo.e."], ["created_at", "2018-11-18 22:22:27.041562"], ["updated_at", "2018-11-18 22:22:27.041562"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.044479"], ["updated_at", "2018-11-18 22:22:27.044479"], ["user_id", 397]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dHLfD6Lukuw./VP3Joj3juEZHlYcBZZKHTeqg3L9D/N1Otc6fcDIe"], ["created_at", "2018-11-18 22:22:27.063501"], ["updated_at", "2018-11-18 22:22:27.063501"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.066034"], ["updated_at", "2018-11-18 22:22:27.066034"], ["user_id", 398]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4LIfeKzT2cRoScUlVhajRuREwMMuVdvdN/YauFZR5btavjPIEF4o."], ["created_at", "2018-11-18 22:22:27.075170"], ["updated_at", "2018-11-18 22:22:27.075170"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.077920"], ["updated_at", "2018-11-18 22:22:27.077920"], ["user_id", 399]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SYNioSs1hqWyGT2YguHNWen9svIRCqecLc5OuJUGrf3wto0VHatwO"], ["created_at", "2018-11-18 22:22:27.087285"], ["updated_at", "2018-11-18 22:22:27.087285"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.090098"], ["updated_at", "2018-11-18 22:22:27.090098"], ["user_id", 400]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bLfd9uwyJLacO41XNDf06OJZ6RTaiEraqom40JYKYjwfanDNeHXLO"], ["created_at", "2018-11-18 22:22:27.099755"], ["updated_at", "2018-11-18 22:22:27.099755"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.102125"], ["updated_at", "2018-11-18 22:22:27.102125"], ["user_id", 401]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UaEgwXZQ.3KXqyduh0AWJeqbeBh5C..T8XHv8bEdFbv/um2dpCUru"], ["created_at", "2018-11-18 22:22:27.111740"], ["updated_at", "2018-11-18 22:22:27.111740"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.114267"], ["updated_at", "2018-11-18 22:22:27.114267"], ["user_id", 402]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$slqJE8PWPOFM53AhG/cj/.DJMUO2M3jYoQ3.RvvLCexbYA.X.O53."], ["created_at", "2018-11-18 22:22:27.132519"], ["updated_at", "2018-11-18 22:22:27.132519"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.135053"], ["updated_at", "2018-11-18 22:22:27.135053"], ["user_id", 403]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dN7V4IfyPJdW3G3KCFFCduJGONfizJbGVPHfLZ5gNwJ3vd6XagREq"], ["created_at", "2018-11-18 22:22:27.146481"], ["updated_at", "2018-11-18 22:22:27.146481"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.150931"], ["updated_at", "2018-11-18 22:22:27.150931"], ["user_id", 404]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$vdxXjDGoNyWvhhCCVirute8bbPuYjYBTYgoaanHqwjVJ35mhRohey"], ["created_at", "2018-11-18 22:22:27.164983"], ["updated_at", "2018-11-18 22:22:27.164983"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.167658"], ["updated_at", "2018-11-18 22:22:27.167658"], ["user_id", 405]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xvfF464j4TlLvRSWuEVd7.CnzhOrbVrq4NphfiUtLEJAAn10U/wrO"], ["created_at", "2018-11-18 22:22:27.178641"], ["updated_at", "2018-11-18 22:22:27.178641"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.181243"], ["updated_at", "2018-11-18 22:22:27.181243"], ["user_id", 406]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tIBoy4HIgB//c5tJL62CPObJLF6fHcYreYqKe/yBlvbaUsTbX29m6"], ["created_at", "2018-11-18 22:22:27.193444"], ["updated_at", "2018-11-18 22:22:27.193444"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.196529"], ["updated_at", "2018-11-18 22:22:27.196529"], ["user_id", 407]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$TUaMRbXo6VkxvGiWZVgpK.SnjEiB3dWlaCY03kFDep7lCPYWdN1fi"], ["created_at", "2018-11-18 22:22:27.207303"], ["updated_at", "2018-11-18 22:22:27.207303"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.209965"], ["updated_at", "2018-11-18 22:22:27.209965"], ["user_id", 408]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$li8FuWZxACdsjOTxjZrOeeWuXv2OhnliQbO8DbQYS.Exq0EGwRLJy"], ["created_at", "2018-11-18 22:22:27.219331"], ["updated_at", "2018-11-18 22:22:27.219331"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.224016"], ["updated_at", "2018-11-18 22:22:27.224016"], ["user_id", 409]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 409], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 2.6ms | ActiveRecord: 0.4ms)
  [1m[36mMedication Load (2.4ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 405]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT "medications".* FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 405]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$94tfaO8KqVe3z3azBoW2W.PaxBGlCnd3XnLKSYVQZ4eUJLx5BoU.S"], ["created_at", "2018-11-18 22:22:27.246654"], ["updated_at", "2018-11-18 22:22:27.246654"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.251109"], ["updated_at", "2018-11-18 22:22:27.251109"], ["user_id", 410]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 410], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 2.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.8ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (1.1ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ZvW49IQSZ5nJk9kbd9tSB.F/9BtiOt9wragkVI5hPerfSumiKMF9e"], ["created_at", "2018-11-18 22:22:27.270144"], ["updated_at", "2018-11-18 22:22:27.270144"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (1.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (9.0ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.281203"], ["updated_at", "2018-11-18 22:22:27.281203"], ["user_id", 411]]
  [1m[35m (1.0ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 411], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/index.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 3.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.6ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NRNs38CCSMp.4NGlD0rHlOA.mAYHJIy8Jjj3NfeJABpO3ZelzR5dO"], ["created_at", "2018-11-18 22:22:27.318317"], ["updated_at", "2018-11-18 22:22:27.318317"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.9ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.325212"], ["updated_at", "2018-11-18 22:22:27.325212"], ["user_id", 412]]
  [1m[35m (0.8ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 408]]
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 21ms (Views: 2.8ms | ActiveRecord: 2.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 408]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xarrL./6XHA9qUny.0C6yOn2KvGet6PUDOj7e3JSDbhoyne9UD8hW"], ["created_at", "2018-11-18 22:22:27.361683"], ["updated_at", "2018-11-18 22:22:27.361683"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.365360"], ["updated_at", "2018-11-18 22:22:27.365360"], ["user_id", 413]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RERRJIKW3ZPwkNZKXi0YZua378t2z//Mex0PnuLEwgsJuuD4.tEDi"], ["created_at", "2018-11-18 22:22:27.380798"], ["updated_at", "2018-11-18 22:22:27.380798"]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.384953"], ["updated_at", "2018-11-18 22:22:27.384953"], ["user_id", 414]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 410]]
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"powder", "dosage"=>"teste", "finish"=>"2019-01-01", "infadd"=>"blabla", "name"=>"aspirina", "start"=>"2018-01-01"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (2.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "aspirina"], ["categorize", "powder"], ["start", "2018-01-01"], ["finish", "2019-01-01"], ["dosage", "teste"], ["infadd", "blabla"], ["profile_id", 410], ["created_at", "2018-11-18 22:22:27.392827"], ["updated_at", "2018-11-18 22:22:27.392827"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 8ms (ActiveRecord: 3.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications" WHERE "medications"."profile_id" = $1[0m  [["profile_id", 410]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pWh88LAyy80Xnn.4luAgpOGWt.seP3yEQ93RAAoDh8wNweQHRGE3i"], ["created_at", "2018-11-18 22:22:27.403227"], ["updated_at", "2018-11-18 22:22:27.403227"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.407242"], ["updated_at", "2018-11-18 22:22:27.407242"], ["user_id", 415]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#create as HTML
  Parameters: {"medication"=>{"categorize"=>"powder", "dosage"=>"teste", "finish"=>"2019-01-01", "infadd"=>"blabla", "name"=>"aspirina", "start"=>"2018-01-01"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "aspirina"], ["categorize", "powder"], ["start", "2018-01-01"], ["finish", "2019-01-01"], ["dosage", "teste"], ["infadd", "blabla"], ["profile_id", 411], ["created_at", "2018-11-18 22:22:27.413155"], ["updated_at", "2018-11-18 22:22:27.413155"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$d1KLeVTv/NA4FAghDXI0f.Ox9GWkER8.6YucplxE2MMjtjkPVZu0i"], ["created_at", "2018-11-18 22:22:27.420910"], ["updated_at", "2018-11-18 22:22:27.420910"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.424672"], ["updated_at", "2018-11-18 22:22:27.424672"], ["user_id", 416]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 412], ["created_at", "2018-11-18 22:22:27.427594"], ["updated_at", "2018-11-18 22:22:27.427594"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "infadd"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 416], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.4ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 3.0ms | ActiveRecord: 1.5ms)
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 412], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WtaHbJHTdewmW9LSLZ4NDem5VjOGf1x1L8QWhG.mUwqy8nWySsNTO"], ["created_at", "2018-11-18 22:22:27.449029"], ["updated_at", "2018-11-18 22:22:27.449029"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.452724"], ["updated_at", "2018-11-18 22:22:27.452724"], ["user_id", 417]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 413], ["created_at", "2018-11-18 22:22:27.455504"], ["updated_at", "2018-11-18 22:22:27.455504"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"", "dosage"=>"", "finish"=>"", "infadd"=>"", "name"=>"", "start"=>""}, "profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 417], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 413], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.2ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$46vCC314eYVNbNb0P00vlukwksKIN8iuGspmsMomTf15pVpqNpoWK"], ["created_at", "2018-11-18 22:22:27.472275"], ["updated_at", "2018-11-18 22:22:27.472275"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.476064"], ["updated_at", "2018-11-18 22:22:27.476064"], ["user_id", 418]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.5ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 414], ["created_at", "2018-11-18 22:22:27.478835"], ["updated_at", "2018-11-18 22:22:27.478835"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"inalavel", "dosage"=>"test", "finish"=>"2019-01-03", "infadd"=>"info adicionais", "name"=>"dipirona", "start"=>"2018-01-03"}, "profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 418], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 414], ["LIMIT", 1]]
  [1m[36mMedication Update (0.5ms)[0m  [1m[33mUPDATE "medications" SET "name" = $1, "categorize" = $2, "start" = $3, "finish" = $4, "dosage" = $5, "infadd" = $6, "updated_at" = $7 WHERE "medications"."id" = $8[0m  [["name", "dipirona"], ["categorize", "inalavel"], ["start", "2018-01-03"], ["finish", "2019-01-03"], ["dosage", "test"], ["infadd", "info adicionais"], ["updated_at", "2018-11-18 22:22:27.487172"], ["id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 7ms (ActiveRecord: 1.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1YYLDtiXaRrtXdsFMy5u0.BD/5zD2VfZh/X6L9wy/DJ/GoZrKL1Tq"], ["created_at", "2018-11-18 22:22:27.495213"], ["updated_at", "2018-11-18 22:22:27.495213"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.503406"], ["updated_at", "2018-11-18 22:22:27.503406"], ["user_id", 419]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 415], ["created_at", "2018-11-18 22:22:27.506252"], ["updated_at", "2018-11-18 22:22:27.506252"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#update as HTML
  Parameters: {"medication"=>{"categorize"=>"inalavel", "dosage"=>"test", "finish"=>"2019-01-03", "infadd"=>"info adicionais", "name"=>"dipirona", "start"=>"2018-01-03"}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 419], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  [1m[36mMedication Update (0.4ms)[0m  [1m[33mUPDATE "medications" SET "name" = $1, "categorize" = $2, "start" = $3, "finish" = $4, "dosage" = $5, "infadd" = $6, "updated_at" = $7 WHERE "medications"."id" = $8[0m  [["name", "dipirona"], ["categorize", "inalavel"], ["start", "2018-01-03"], ["finish", "2019-01-03"], ["dosage", "test"], ["infadd", "info adicionais"], ["updated_at", "2018-11-18 22:22:27.513403"], ["id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[36mMedication Load (0.3ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 415], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BSSJU.QsAY8qsGb.gefuC.e0wBgQVHajAoNrzKU1JiwpZnV9rygs6"], ["created_at", "2018-11-18 22:22:27.523099"], ["updated_at", "2018-11-18 22:22:27.523099"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.527145"], ["updated_at", "2018-11-18 22:22:27.527145"], ["user_id", 420]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 420], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5YagTRgV60ZgG7MHig.K/ezGL4mb.317SmAxDKMYJtG1HX41hKhyS"], ["created_at", "2018-11-18 22:22:27.538262"], ["updated_at", "2018-11-18 22:22:27.538262"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.542054"], ["updated_at", "2018-11-18 22:22:27.542054"], ["user_id", 421]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering medications/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.0ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$X5iVmG4xGRvZFimRt4shEu6uSTMghXWsQu8dZNBLOLtFWUFFtPM8m"], ["created_at", "2018-11-18 22:22:27.553338"], ["updated_at", "2018-11-18 22:22:27.553338"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.557039"], ["updated_at", "2018-11-18 22:22:27.557039"], ["user_id", 422]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 418], ["created_at", "2018-11-18 22:22:27.559725"], ["updated_at", "2018-11-18 22:22:27.559725"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1vAHcV4IpRhe2t6MoTBHCel3WC4xoVL3BqI81ZGHjxNY1b4EssVXa"], ["created_at", "2018-11-18 22:22:27.571483"], ["updated_at", "2018-11-18 22:22:27.571483"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.575305"], ["updated_at", "2018-11-18 22:22:27.575305"], ["user_id", 423]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.3ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 419], ["created_at", "2018-11-18 22:22:27.577942"], ["updated_at", "2018-11-18 22:22:27.577942"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 423], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BLp6QL29XUI.100WYnzJqu6xGRyw4QEKxkBomBxl4hXz7eCZhVjsu"], ["created_at", "2018-11-18 22:22:27.589754"], ["updated_at", "2018-11-18 22:22:27.589754"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.593323"], ["updated_at", "2018-11-18 22:22:27.593323"], ["user_id", 424]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 420], ["created_at", "2018-11-18 22:22:27.595968"], ["updated_at", "2018-11-18 22:22:27.595968"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 424], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering medications/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered medications/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.0ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Q30.eSGuWyuIS6cYsC.FS.BFb.zNBlhOdzzHFoL5oeL7rAYhMpWYK"], ["created_at", "2018-11-18 22:22:27.607506"], ["updated_at", "2018-11-18 22:22:27.607506"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.611123"], ["updated_at", "2018-11-18 22:22:27.611123"], ["user_id", 425]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 421], ["created_at", "2018-11-18 22:22:27.613799"], ["updated_at", "2018-11-18 22:22:27.613799"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications"[0m
Processing by MedicationsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 425], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 421], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Destroy (0.3ms)[0m  [1m[31mDELETE FROM "medications" WHERE "medications"."id" = $1[0m  [["id", 21]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "medications"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$V.oIdoyssSJHX2he2fGtgu6hGLAmhWuGwFkSK/wF0nLorjVLII9vu"], ["created_at", "2018-11-18 22:22:27.628890"], ["updated_at", "2018-11-18 22:22:27.628890"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.632472"], ["updated_at", "2018-11-18 22:22:27.632472"], ["user_id", 426]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Create (0.4ms)[0m  [1m[32mINSERT INTO "medications" ("name", "categorize", "start", "finish", "dosage", "infadd", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["name", "MyString"], ["categorize", "MyString"], ["start", "2018-10-14"], ["finish", "2018-10-14"], ["dosage", "MyString"], ["infadd", "MyString"], ["profile_id", 422], ["created_at", "2018-11-18 22:22:27.635123"], ["updated_at", "2018-11-18 22:22:27.635123"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by MedicationsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 426], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mMedication Load (0.2ms)[0m  [1m[34mSELECT  "medications".* FROM "medications" WHERE "medications"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 422], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mMedication Destroy (0.3ms)[0m  [1m[31mDELETE FROM "medications" WHERE "medications"."id" = $1[0m  [["id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/medications
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$I9PrdtrReoiSg.uNxyEG4emZ7fCoR/vEJq2v9xQUY9l.OkTG67MlW"], ["created_at", "2018-11-18 22:22:27.649786"], ["updated_at", "2018-11-18 22:22:27.649786"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.652102"], ["updated_at", "2018-11-18 22:22:27.652102"], ["user_id", 427]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DDRn9H1j5n32bRB8BmwnJOl3cDEvQg/45MyBve99WlIgro3HNt48K"], ["created_at", "2018-11-18 22:22:27.667664"], ["updated_at", "2018-11-18 22:22:27.667664"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.669988"], ["updated_at", "2018-11-18 22:22:27.669988"], ["user_id", 428]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gVg.lBFL8.8MkvulgrUvQ.LDilr3148YFdbr2rguMt5L3QgzvJKGq"], ["created_at", "2018-11-18 22:22:27.679443"], ["updated_at", "2018-11-18 22:22:27.679443"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.681725"], ["updated_at", "2018-11-18 22:22:27.681725"], ["user_id", 429]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4SmzX5.r3YL68eovyGVDyuL3oHUEDnj908QoAtBB.Mf2JJ4MfvkIO"], ["created_at", "2018-11-18 22:22:27.693472"], ["updated_at", "2018-11-18 22:22:27.693472"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.697708"], ["updated_at", "2018-11-18 22:22:27.697708"], ["user_id", 430]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 430], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 2.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fh.gLpjxdeEsNdzUaZbSU.hc0y7K313WHtyUyIilmZGjvGW4MB8ly"], ["created_at", "2018-11-18 22:22:27.714183"], ["updated_at", "2018-11-18 22:22:27.714183"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.717799"], ["updated_at", "2018-11-18 22:22:27.717799"], ["user_id", 431]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 431], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VYy07KwJSwqh8qh6Dkbv6O5kt4bRKIWlcMniBE6SU./Gl6arxOKK6"], ["created_at", "2018-11-18 22:22:27.729163"], ["updated_at", "2018-11-18 22:22:27.729163"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.732788"], ["updated_at", "2018-11-18 22:22:27.732788"], ["user_id", 432]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (3.5ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 428], ["created_at", "2018-11-18 22:22:27.742555"], ["updated_at", "2018-11-18 22:22:27.742555"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 432], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 428], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "non_hdls" WHERE "non_hdls"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gEmBVA63CE8kkZUkX2m8ZuHjwOUVULBP7gqWGB5WPPTmnOIfnP63m"], ["created_at", "2018-11-18 22:22:27.760140"], ["updated_at", "2018-11-18 22:22:27.760140"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.763801"], ["updated_at", "2018-11-18 22:22:27.763801"], ["user_id", 433]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 429], ["created_at", "2018-11-18 22:22:27.766442"], ["updated_at", "2018-11-18 22:22:27.766442"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls"[0m
Processing by NonhdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 433], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 429], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Destroy (0.4ms)[0m  [1m[31mDELETE FROM "non_hdls" WHERE "non_hdls"."id" = $1[0m  [["id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 5ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qzOd9nMWUiuh2eHuV8Av4ufpKvX8ldWAqjP6llrAfSKQgLvBEkXv2"], ["created_at", "2018-11-18 22:22:27.781158"], ["updated_at", "2018-11-18 22:22:27.781158"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.784850"], ["updated_at", "2018-11-18 22:22:27.784850"], ["user_id", 434]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 434], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WzC7jcwoa391GQevGo69Q.atimrWMMAPhinVYudZljc//QVjeAvaW"], ["created_at", "2018-11-18 22:22:27.798504"], ["updated_at", "2018-11-18 22:22:27.798504"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.802092"], ["updated_at", "2018-11-18 22:22:27.802092"], ["user_id", 435]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 435], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 431]]
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 431]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8.dtrniCnW3cZoNqCCfMzOYA7uCY6ecuHs/ti./xalJXiTl7yBpF."], ["created_at", "2018-11-18 22:22:27.816745"], ["updated_at", "2018-11-18 22:22:27.816745"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.820378"], ["updated_at", "2018-11-18 22:22:27.820378"], ["user_id", 436]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 436], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering nonhdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Y2K/MD3gI7Av2ucCp3n.D.yLHtrYnNcUrc9GAOz35zgLkp/lvA3jK"], ["created_at", "2018-11-18 22:22:27.833128"], ["updated_at", "2018-11-18 22:22:27.833128"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.836697"], ["updated_at", "2018-11-18 22:22:27.836697"], ["user_id", 437]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 433]]
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 433]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$33LYstxKmdcq/kQ2gWD6MOvsQ8NAOXbVAOr1OvY9vG0N5yhi7/qD6"], ["created_at", "2018-11-18 22:22:27.852415"], ["updated_at", "2018-11-18 22:22:27.852415"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.856189"], ["updated_at", "2018-11-18 22:22:27.856189"], ["user_id", 438]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$s1omoq0.kK3HL1djggEuUuKmPMyOygixfr6jOwTdD5Qk0dT3Hgkba"], ["created_at", "2018-11-18 22:22:27.869723"], ["updated_at", "2018-11-18 22:22:27.869723"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.873591"], ["updated_at", "2018-11-18 22:22:27.873591"], ["user_id", 439]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-11-17 22:22:27 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 435], ["created_at", "2018-11-18 22:22:27.879396"], ["updated_at", "2018-11-18 22:22:27.879396"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EnUn/MxsZxxbH8p/5mLjcuDMfy4nWZaPlQP4TBKuiG/YogqJFwMpK"], ["created_at", "2018-11-18 22:22:27.886705"], ["updated_at", "2018-11-18 22:22:27.886705"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.891850"], ["updated_at", "2018-11-18 22:22:27.891850"], ["user_id", 440]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 436]]
Processing by NonhdlsController#create as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-11-17 22:22:27 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 436], ["created_at", "2018-11-18 22:22:27.899085"], ["updated_at", "2018-11-18 22:22:27.899085"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "non_hdls" WHERE "non_hdls"."profile_id" = $1[0m  [["profile_id", 436]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tGlUVoccHTYRNK7P83gBY.9nZhxHD5etkv3TzaI.jNThNo/A1J2x2"], ["created_at", "2018-11-18 22:22:27.907848"], ["updated_at", "2018-11-18 22:22:27.907848"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.911516"], ["updated_at", "2018-11-18 22:22:27.911516"], ["user_id", 441]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 437], ["created_at", "2018-11-18 22:22:27.914353"], ["updated_at", "2018-11-18 22:22:27.914353"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-10-25", "value"=>"149"}, "profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 441], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 437], ["LIMIT", 1]]
  [1m[36mNonHdl Update (0.5ms)[0m  [1m[33mUPDATE "non_hdls" SET "date" = $1, "updated_at" = $2 WHERE "non_hdls"."id" = $3[0m  [["date", "2018-10-25"], ["updated_at", "2018-11-18 22:22:27.921269"], ["id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mKsjAEJHp4lL6TAbKdavd.fKdRfs6bhdFUXzPB2iusOTfJTYM2BLi"], ["created_at", "2018-11-18 22:22:27.928740"], ["updated_at", "2018-11-18 22:22:27.928740"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.932298"], ["updated_at", "2018-11-18 22:22:27.932298"], ["user_id", 442]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 438], ["created_at", "2018-11-18 22:22:27.934971"], ["updated_at", "2018-11-18 22:22:27.934971"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"date"=>"2018-10-25", "value"=>"149"}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 442], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[36mNonHdl Update (0.4ms)[0m  [1m[33mUPDATE "non_hdls" SET "date" = $1, "updated_at" = $2 WHERE "non_hdls"."id" = $3[0m  [["date", "2018-10-25"], ["updated_at", "2018-11-18 22:22:27.942229"], ["id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/nonhdls
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mNonHdl Load (0.3ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 438], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AeNDCaRU8ZUih2pQn9qITOkL5o5IuYlTYxXYoY.Ot1LwN0M2yUiZS"], ["created_at", "2018-11-18 22:22:27.951342"], ["updated_at", "2018-11-18 22:22:27.951342"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.954966"], ["updated_at", "2018-11-18 22:22:27.954966"], ["user_id", 443]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 439], ["created_at", "2018-11-18 22:22:27.957762"], ["updated_at", "2018-11-18 22:22:27.957762"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 443], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 2.8ms | ActiveRecord: 1.2ms)
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 439], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3lCjw5cwSNwXYqXd2x5u..I6UnmFqT2EQx9TCRzLz0H8Q4elRKF9W"], ["created_at", "2018-11-18 22:22:27.975701"], ["updated_at", "2018-11-18 22:22:27.975701"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:27.979321"], ["updated_at", "2018-11-18 22:22:27.979321"], ["user_id", 444]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 440], ["created_at", "2018-11-18 22:22:27.982364"], ["updated_at", "2018-11-18 22:22:27.982364"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#update as HTML
  Parameters: {"non_hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 444], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 440], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$IVn9MW8fqBLb8zfNhB4gTeIihV3DhwnyidXlVq.u9KcIJtQj/W3Na"], ["created_at", "2018-11-18 22:22:27.997051"], ["updated_at", "2018-11-18 22:22:27.997051"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.000699"], ["updated_at", "2018-11-18 22:22:28.000699"], ["user_id", 445]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 441], ["created_at", "2018-11-18 22:22:28.003381"], ["updated_at", "2018-11-18 22:22:28.003381"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 445], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LLYIH4p69TA5UkinN0jPMezM.DxG2rd3ZQvf/jTllIwpynS5yDX4."], ["created_at", "2018-11-18 22:22:28.014821"], ["updated_at", "2018-11-18 22:22:28.014821"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.018388"], ["updated_at", "2018-11-18 22:22:28.018388"], ["user_id", 446]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 442], ["created_at", "2018-11-18 22:22:28.021015"], ["updated_at", "2018-11-18 22:22:28.021015"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 446], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$X51ToLWSQn8bi7RG.aBcO.XxZT6V2mewsANFW6h2JCBhqX6hie6xS"], ["created_at", "2018-11-18 22:22:28.033041"], ["updated_at", "2018-11-18 22:22:28.033041"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.036644"], ["updated_at", "2018-11-18 22:22:28.036644"], ["user_id", 447]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mNonHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "non_hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 149], ["date", "2018-10-30"], ["profile_id", 443], ["created_at", "2018-11-18 22:22:28.039420"], ["updated_at", "2018-11-18 22:22:28.039420"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by NonhdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 447], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mNonHdl Load (0.2ms)[0m  [1m[34mSELECT  "non_hdls".* FROM "non_hdls" WHERE "non_hdls"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering nonhdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered nonhdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bf2dfnYxE4yy2lVVLTiXXeuohyjZA4qF0kBEp/1ya2YuydJhAvQeG"], ["created_at", "2018-11-18 22:22:28.052643"], ["updated_at", "2018-11-18 22:22:28.052643"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.054975"], ["updated_at", "2018-11-18 22:22:28.054975"], ["user_id", 448]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pIgJdpjcC4fPO60fALQhKuzH9rzRgyfWVid9VJ0.9thU7rpd.CK3i"], ["created_at", "2018-11-18 22:22:28.071763"], ["updated_at", "2018-11-18 22:22:28.071763"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.074382"], ["updated_at", "2018-11-18 22:22:28.074382"], ["user_id", 449]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$p2m.Rlz5Rew42ZmQ5MkgD.tvr3/vivG19gKUiI.NOtDm.GPKAyQ2q"], ["created_at", "2018-11-18 22:22:28.084278"], ["updated_at", "2018-11-18 22:22:28.084278"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.086707"], ["updated_at", "2018-11-18 22:22:28.086707"], ["user_id", 450]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xcwzFCd/dwwmMrIrvwKvdeTpDo.a2k/GT7I6t/FeJUGwdjf8bYS7W"], ["created_at", "2018-11-18 22:22:28.095718"], ["updated_at", "2018-11-18 22:22:28.095718"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.098745"], ["updated_at", "2018-11-18 22:22:28.098745"], ["user_id", 451]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MbfF4fiYBGScroeGI93Pvu8QSkdUyaezk3AJ8mCHmt6avYwm9faI2"], ["created_at", "2018-11-18 22:22:28.110272"], ["updated_at", "2018-11-18 22:22:28.110272"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.112571"], ["updated_at", "2018-11-18 22:22:28.112571"], ["user_id", 452]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$707DLoPs40MOzHMc4dV7UO8MGrnka9Rdyv7heBMbFAzuRff7mdH2a"], ["created_at", "2018-11-18 22:22:28.121950"], ["updated_at", "2018-11-18 22:22:28.121950"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.124623"], ["updated_at", "2018-11-18 22:22:28.124623"], ["user_id", 453]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8DdYTlDsRrR2Aw2ydfvsButU5dMG3e5QKsKLykEjxeJeFJhswerL6"], ["created_at", "2018-11-18 22:22:28.136102"], ["updated_at", "2018-11-18 22:22:28.136102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.140490"], ["updated_at", "2018-11-18 22:22:28.140490"], ["user_id", 454]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (3.8ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 450], ["created_at", "2018-11-18 22:22:28.169519"], ["updated_at", "2018-11-18 22:22:28.169519"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 454], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 450], ["LIMIT", 1]]
  [1m[36mPlatelet Update (0.5ms)[0m  [1m[33mUPDATE "platelets" SET "erythrocyte" = $1, "hemoglobin" = $2, "hematocrit" = $3, "vcm" = $4, "hcm" = $5, "chcm" = $6, "rdw" = $7, "leukocytep" = $8, "neutrophilp" = $9, "eosinophilp" = $10, "basophilp" = $11, "lymphocytep" = $12, "monocytep" = $13, "leukocyteul" = $14, "neutrophilul" = $15, "eosinophilul" = $16, "basophilul" = $17, "lymphocyteul" = $18, "monocyteul" = $19, "total" = $20, "updated_at" = $21 WHERE "platelets"."id" = $22[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["updated_at", "2018-11-18 22:22:28.184385"], ["id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 9ms (ActiveRecord: 1.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5xvjksMnUUM3qF4Kbhx/4u.1I22R9fB7uGFoU6cVW0OFntBs/f0fO"], ["created_at", "2018-11-18 22:22:28.193085"], ["updated_at", "2018-11-18 22:22:28.193085"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.196951"], ["updated_at", "2018-11-18 22:22:28.196951"], ["user_id", 455]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 451], ["created_at", "2018-11-18 22:22:28.200158"], ["updated_at", "2018-11-18 22:22:28.200158"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 455], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  [1m[36mPlatelet Update (0.5ms)[0m  [1m[33mUPDATE "platelets" SET "erythrocyte" = $1, "hemoglobin" = $2, "hematocrit" = $3, "vcm" = $4, "hcm" = $5, "chcm" = $6, "rdw" = $7, "leukocytep" = $8, "neutrophilp" = $9, "eosinophilp" = $10, "basophilp" = $11, "lymphocytep" = $12, "monocytep" = $13, "leukocyteul" = $14, "neutrophilul" = $15, "eosinophilul" = $16, "basophilul" = $17, "lymphocyteul" = $18, "monocyteul" = $19, "total" = $20, "updated_at" = $21 WHERE "platelets"."id" = $22[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["updated_at", "2018-11-18 22:22:28.209751"], ["id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 8ms (ActiveRecord: 1.8ms)
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 451], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NHDEqkMbizTG.0l5yjwCj.Q/chJW.z5wsS6RDnidDQK0JzDpuV8BC"], ["created_at", "2018-11-18 22:22:28.220098"], ["updated_at", "2018-11-18 22:22:28.220098"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.224546"], ["updated_at", "2018-11-18 22:22:28.224546"], ["user_id", 456]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 452], ["created_at", "2018-11-18 22:22:28.227855"], ["updated_at", "2018-11-18 22:22:28.227855"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 456], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 452], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 22ms (Views: 4.1ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/XDngezYFT.YsEI6gVU/3.vlBllq1g9opPA3MupefiC7CdGyEv7bK"], ["created_at", "2018-11-18 22:22:28.258738"], ["updated_at", "2018-11-18 22:22:28.258738"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.262762"], ["updated_at", "2018-11-18 22:22:28.262762"], ["user_id", 457]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 453], ["created_at", "2018-11-18 22:22:28.265896"], ["updated_at", "2018-11-18 22:22:28.265896"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#update as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 457], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.4ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 14ms (Views: 1.2ms | ActiveRecord: 1.4ms)
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 453], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$D7ee8Ha6QdPA2u5owB1ElekLMHOmmuqug9HD1/hThxY.SYMUbnek."], ["created_at", "2018-11-18 22:22:28.292116"], ["updated_at", "2018-11-18 22:22:28.292116"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.295855"], ["updated_at", "2018-11-18 22:22:28.295855"], ["user_id", 458]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 454]]
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 458], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 16ms (Views: 2.9ms | ActiveRecord: 0.9ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 454]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VwUJEKD2hJNOatNaSoJVaeIQK5BYH/W.IWK6l26ZDHXzxtBfZlw6."], ["created_at", "2018-11-18 22:22:28.323364"], ["updated_at", "2018-11-18 22:22:28.323364"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.327492"], ["updated_at", "2018-11-18 22:22:28.327492"], ["user_id", 459]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"", "basophilul"=>"", "chcm"=>"", "eosinophilp"=>"", "eosinophilul"=>"", "erythrocyte"=>"", "hcm"=>"", "hematocrit"=>"", "hemoglobin"=>"", "leukocytep"=>"", "leukocyteul"=>"", "lymphocytep"=>"", "lymphocyteul"=>"", "monocytep"=>"", "monocyteul"=>"", "neutrophilp"=>"", "neutrophilul"=>"", "rdw"=>"", "total"=>"", "vcm"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 459], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 12ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$d//UVU5r0EYjOh27Zxybt.3GfhHljXI5ZjJ6Qbyzoluna7Al.rHxG"], ["created_at", "2018-11-18 22:22:28.348041"], ["updated_at", "2018-11-18 22:22:28.348041"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.351684"], ["updated_at", "2018-11-18 22:22:28.351684"], ["user_id", 460]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 456]]
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 460], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["profile_id", 456], ["created_at", "2018-11-18 22:22:28.360826"], ["updated_at", "2018-11-18 22:22:28.360826"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 456]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gi2ZWs3dpwB0BImjZMf3FeUINPuHWk0tACHVdiUq7I.Gm.cm2vuRe"], ["created_at", "2018-11-18 22:22:28.369230"], ["updated_at", "2018-11-18 22:22:28.369230"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.372967"], ["updated_at", "2018-11-18 22:22:28.372967"], ["user_id", 461]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#create as HTML
  Parameters: {"platelet"=>{"basophilp"=>"11", "basophilul"=>"17", "chcm"=>"6", "eosinophilp"=>"10", "eosinophilul"=>"16", "erythrocyte"=>"1", "hcm"=>"5", "hematocrit"=>"3", "hemoglobin"=>"2", "leukocytep"=>"8", "leukocyteul"=>"14", "lymphocytep"=>"12", "lymphocyteul"=>"18", "monocytep"=>"13", "monocyteul"=>"19", "neutrophilp"=>"9", "neutrophilul"=>"15", "rdw"=>"7", "total"=>"20", "vcm"=>"4"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "1.0"], ["hemoglobin", "2.0"], ["hematocrit", "3.0"], ["vcm", "4.0"], ["hcm", "5.0"], ["chcm", "6.0"], ["rdw", "7.0"], ["leukocytep", "8.0"], ["neutrophilp", "9.0"], ["eosinophilp", "10.0"], ["basophilp", "11.0"], ["lymphocytep", "12.0"], ["monocytep", "13.0"], ["leukocyteul", 14], ["neutrophilul", 15], ["eosinophilul", 16], ["basophilul", 17], ["lymphocyteul", 18], ["monocyteul", 19], ["total", 20], ["profile_id", 457], ["created_at", "2018-11-18 22:22:28.380105"], ["updated_at", "2018-11-18 22:22:28.380105"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8lv554I6dsnf8bSyVYusKOCHRV86dGqfTMY1CeW10KN1WM.KCaPAe"], ["created_at", "2018-11-18 22:22:28.387965"], ["updated_at", "2018-11-18 22:22:28.387965"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.391741"], ["updated_at", "2018-11-18 22:22:28.391741"], ["user_id", 462]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/index.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dMPWrj7NPPob32izgtfVsOxS26VDyr0yI/LcgGpg.S8ir1dVT1Thq"], ["created_at", "2018-11-18 22:22:28.404951"], ["updated_at", "2018-11-18 22:22:28.404951"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.408880"], ["updated_at", "2018-11-18 22:22:28.408880"], ["user_id", 463]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 463], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/index.html.erb within layouts/internal (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$FqXUGHRDyhem6DHAiigLC.jgnV7RsG5hVVT2iSDuXddO.m5359v5G"], ["created_at", "2018-11-18 22:22:28.419978"], ["updated_at", "2018-11-18 22:22:28.419978"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.423760"], ["updated_at", "2018-11-18 22:22:28.423760"], ["user_id", 464]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 464], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 460]]
  [1m[36mPlatelet Load (0.3ms)[0m  [1m[34mSELECT "platelets".* FROM "platelets" WHERE "platelets"."profile_id" = $1[0m  [["profile_id", 460]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mLt7JyVPgG02aBBhcFyffeaMdoUSwMZQwFAieWII//IuG/JBZmzku"], ["created_at", "2018-11-18 22:22:28.437854"], ["updated_at", "2018-11-18 22:22:28.437854"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.441635"], ["updated_at", "2018-11-18 22:22:28.441635"], ["user_id", 465]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 461], ["created_at", "2018-11-18 22:22:28.444776"], ["updated_at", "2018-11-18 22:22:28.444776"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 465], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 461], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Destroy (0.3ms)[0m  [1m[31mDELETE FROM "platelets" WHERE "platelets"."id" = $1[0m  [["id", 18]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$IH33n62J94igqoq536eyTOI908ZUW77Z2F9T0nHRKBsC4nXW2r3Bu"], ["created_at", "2018-11-18 22:22:28.458192"], ["updated_at", "2018-11-18 22:22:28.458192"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.461818"], ["updated_at", "2018-11-18 22:22:28.461818"], ["user_id", 466]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.4ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 462], ["created_at", "2018-11-18 22:22:28.464924"], ["updated_at", "2018-11-18 22:22:28.464924"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets"[0m
Processing by PlateletsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 466], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 462], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Destroy (0.3ms)[0m  [1m[31mDELETE FROM "platelets" WHERE "platelets"."id" = $1[0m  [["id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/platelets
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "platelets"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1KV8y2G7MqcNIZQn35S8XO8.0lFP75ByNILApqEaa8lLQAGi6ErRK"], ["created_at", "2018-11-18 22:22:28.479776"], ["updated_at", "2018-11-18 22:22:28.479776"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.483756"], ["updated_at", "2018-11-18 22:22:28.483756"], ["user_id", 467]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.6ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 463], ["created_at", "2018-11-18 22:22:28.487008"], ["updated_at", "2018-11-18 22:22:28.487008"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 467], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ye6nBEvpYn0NktqQLJXAaeBm19LVcO45ThVqIAQV77qHN2rHOxAmS"], ["created_at", "2018-11-18 22:22:28.501303"], ["updated_at", "2018-11-18 22:22:28.501303"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.504953"], ["updated_at", "2018-11-18 22:22:28.504953"], ["user_id", 468]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 464], ["created_at", "2018-11-18 22:22:28.509254"], ["updated_at", "2018-11-18 22:22:28.509254"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 468], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$362RUuRC7SxlFI13grqnMeVS5RA1U9lxM/7MemdQDc5SbMpM0UCNu"], ["created_at", "2018-11-18 22:22:28.522028"], ["updated_at", "2018-11-18 22:22:28.522028"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.525819"], ["updated_at", "2018-11-18 22:22:28.525819"], ["user_id", 469]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPlatelet Create (0.5ms)[0m  [1m[32mINSERT INTO "platelets" ("erythrocyte", "hemoglobin", "hematocrit", "vcm", "hcm", "chcm", "rdw", "leukocytep", "neutrophilp", "eosinophilp", "basophilp", "lymphocytep", "monocytep", "leukocyteul", "neutrophilul", "eosinophilul", "basophilul", "lymphocyteul", "monocyteul", "total", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9, $10, $11, $12, $13, $14, $15, $16, $17, $18, $19, $20, $21, $22, $23) RETURNING "id"[0m  [["erythrocyte", "9.99"], ["hemoglobin", "9.99"], ["hematocrit", "9.99"], ["vcm", "9.99"], ["hcm", "9.99"], ["chcm", "9.99"], ["rdw", "9.99"], ["leukocytep", "9.99"], ["neutrophilp", "9.99"], ["eosinophilp", "9.99"], ["basophilp", "9.99"], ["lymphocytep", "9.99"], ["monocytep", "9.99"], ["leukocyteul", 1], ["neutrophilul", 1], ["eosinophilul", 1], ["basophilul", 1], ["lymphocyteul", 1], ["monocyteul", 1], ["total", 1], ["profile_id", 465], ["created_at", "2018-11-18 22:22:28.528960"], ["updated_at", "2018-11-18 22:22:28.528960"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 469], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPlatelet Load (0.2ms)[0m  [1m[34mSELECT  "platelets".* FROM "platelets" WHERE "platelets"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering platelets/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DU6pIlaeKvenLfTn1PhD6Okg/K0ZCY7OwI/vaPMzl3lVFeJ0w7KOC"], ["created_at", "2018-11-18 22:22:28.541750"], ["updated_at", "2018-11-18 22:22:28.541750"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.545390"], ["updated_at", "2018-11-18 22:22:28.545390"], ["user_id", 470]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 470], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wpgHsSVZ0q4aKJ4feaOffe1DhUdg.8WICMArLz9Mv3g8mThYJ78J6"], ["created_at", "2018-11-18 22:22:28.556781"], ["updated_at", "2018-11-18 22:22:28.556781"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.560309"], ["updated_at", "2018-11-18 22:22:28.560309"], ["user_id", 471]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PlateletsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 471], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering platelets/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered platelets/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$swuE2yzYxEUVSXJmy7Uxl.33Hlo7Opj4Lz1lfyJIt1M3bGVyFfRvm"], ["created_at", "2018-11-18 22:22:28.576522"], ["updated_at", "2018-11-18 22:22:28.576522"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.578857"], ["updated_at", "2018-11-18 22:22:28.578857"], ["user_id", 472]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OJsi.Xuxk56bR6v6w3uz6uI7fzw0yi7V3iQufrriwm1KJcOEKf5im"], ["created_at", "2018-11-18 22:22:28.588227"], ["updated_at", "2018-11-18 22:22:28.588227"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.590693"], ["updated_at", "2018-11-18 22:22:28.590693"], ["user_id", 473]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$piTU8nF4pIJhXejbTzprs.FXqyCFgR1UyQgd2aIu1dvkJXfD.1Uam"], ["created_at", "2018-11-18 22:22:28.599162"], ["updated_at", "2018-11-18 22:22:28.599162"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.601611"], ["updated_at", "2018-11-18 22:22:28.601611"], ["user_id", 474]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0do82N.U4udr35vkC/2HNuI9.KVlhQaKQlyphsg0wt8kz.KEhtRGW"], ["created_at", "2018-11-18 22:22:28.610573"], ["updated_at", "2018-11-18 22:22:28.610573"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.612932"], ["updated_at", "2018-11-18 22:22:28.612932"], ["user_id", 475]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$u86dLWMsP25IUKehs8c7VOp0ykFRON5AIsYCncmWCww1KoDOblra."], ["created_at", "2018-11-18 22:22:28.622285"], ["updated_at", "2018-11-18 22:22:28.622285"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.624826"], ["updated_at", "2018-11-18 22:22:28.624826"], ["user_id", 476]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$e4IvTl7h80/vz1nb3x7MKOawAcpaMPRwxp9yCcyPo0jq2A.frfr7O"], ["created_at", "2018-11-18 22:22:28.633534"], ["updated_at", "2018-11-18 22:22:28.633534"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.635847"], ["updated_at", "2018-11-18 22:22:28.635847"], ["user_id", 477]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mPnCNzMcCswngJlvCATFweWdPhiNZbOB3zv4T8EqGz.KRdT3MmdHq"], ["created_at", "2018-11-18 22:22:28.643564"], ["updated_at", "2018-11-18 22:22:28.643564"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.647474"], ["updated_at", "2018-11-18 22:22:28.647474"], ["user_id", 478]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (3.0ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 474], ["created_at", "2018-11-18 22:22:28.650233"], ["updated_at", "2018-11-18 22:22:28.650233"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 474], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergies" WHERE "allergies"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Vk1UuXH4PV6LbX.lt7lvgeY.Ofc.VRYR/5kYA.ObCkZf4JTseYtYi"], ["created_at", "2018-11-18 22:22:28.667527"], ["updated_at", "2018-11-18 22:22:28.667527"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.671512"], ["updated_at", "2018-11-18 22:22:28.671512"], ["user_id", 479]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 475], ["created_at", "2018-11-18 22:22:28.674149"], ["updated_at", "2018-11-18 22:22:28.674149"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies"[0m
Processing by AllergiesController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 475], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Destroy (0.3ms)[0m  [1m[31mDELETE FROM "allergies" WHERE "allergies"."id" = $1[0m  [["id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CgLhGFBdHRgf4Q2iwuaN3u2e1pVewL4cgPR5XFsbuzDC0SI66sPi6"], ["created_at", "2018-11-18 22:22:28.688352"], ["updated_at", "2018-11-18 22:22:28.688352"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.692427"], ["updated_at", "2018-11-18 22:22:28.692427"], ["user_id", 480]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 476], ["created_at", "2018-11-18 22:22:28.694980"], ["updated_at", "2018-11-18 22:22:28.694980"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"Princípio Ativo: Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 480], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  [1m[36mAllergy Update (0.5ms)[0m  [1m[33mUPDATE "allergies" SET "name" = $1, "description" = $2, "updated_at" = $3 WHERE "allergies"."id" = $4[0m  [["name", "Buscopan"], ["description", "Princípio Ativo: Dipirona Sódica"], ["updated_at", "2018-11-18 22:22:28.702278"], ["id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 476], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$O1LTZwxiHv2NG65J/VAVKeceOFWDOsy0rZ5cN6C2re7pQ1Pz3HrYm"], ["created_at", "2018-11-18 22:22:28.712513"], ["updated_at", "2018-11-18 22:22:28.712513"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.716075"], ["updated_at", "2018-11-18 22:22:28.716075"], ["user_id", 481]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 477], ["created_at", "2018-11-18 22:22:28.718668"], ["updated_at", "2018-11-18 22:22:28.718668"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"Princípio Ativo: Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 481], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 477], ["LIMIT", 1]]
  [1m[36mAllergy Update (0.4ms)[0m  [1m[33mUPDATE "allergies" SET "name" = $1, "description" = $2, "updated_at" = $3 WHERE "allergies"."id" = $4[0m  [["name", "Buscopan"], ["description", "Princípio Ativo: Dipirona Sódica"], ["updated_at", "2018-11-18 22:22:28.725504"], ["id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VUTAlPhez02TmHsd1qKMEe.ZbgegtmhSDO/hVuetFi2jNBMj9hkBC"], ["created_at", "2018-11-18 22:22:28.733287"], ["updated_at", "2018-11-18 22:22:28.733287"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.736844"], ["updated_at", "2018-11-18 22:22:28.736844"], ["user_id", 482]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 478], ["created_at", "2018-11-18 22:22:28.739509"], ["updated_at", "2018-11-18 22:22:28.739509"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 482], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 3.2ms | ActiveRecord: 1.3ms)
  [1m[36mAllergy Load (0.3ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 478], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$jLAR8UdPQVUXrXqjbxgyJ.o0syhuGERlGXsd6.lmn.TBD/eC/hJ5e"], ["created_at", "2018-11-18 22:22:28.758248"], ["updated_at", "2018-11-18 22:22:28.758248"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.761949"], ["updated_at", "2018-11-18 22:22:28.761949"], ["user_id", 483]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.3ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 479], ["created_at", "2018-11-18 22:22:28.764549"], ["updated_at", "2018-11-18 22:22:28.764549"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#update as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 483], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 479], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.1ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OzCvgaMlla8fG7mQjOi9NOEAUtETjtHgpqlLoYsICkNjy7mstAhDW"], ["created_at", "2018-11-18 22:22:28.778793"], ["updated_at", "2018-11-18 22:22:28.778793"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.782417"], ["updated_at", "2018-11-18 22:22:28.782417"], ["user_id", 484]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 484], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 480]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT "allergies".* FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 480]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$B0kYJxlz6nMNJcpoLoabdOJVxF7Q5XSkLZ33zQsguRCCs2HGPZvo2"], ["created_at", "2018-11-18 22:22:28.798158"], ["updated_at", "2018-11-18 22:22:28.798158"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.801738"], ["updated_at", "2018-11-18 22:22:28.801738"], ["user_id", 485]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 485], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qlswkriP7M6xiTWsh94X1eq31z7aswyyA6xheN1TkATYDUDLhkDne"], ["created_at", "2018-11-18 22:22:28.814426"], ["updated_at", "2018-11-18 22:22:28.814426"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.818174"], ["updated_at", "2018-11-18 22:22:28.818174"], ["user_id", 486]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 486], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/index.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 2.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ADIh5IWh.IWQjS53YR/jT.K5zhRABnsPkByOQ/zRuCh7VMS5nWu3W"], ["created_at", "2018-11-18 22:22:28.830995"], ["updated_at", "2018-11-18 22:22:28.830995"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.834695"], ["updated_at", "2018-11-18 22:22:28.834695"], ["user_id", 487]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 487], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JKgbp/nuDBRxIusSD90hI.Jie0U1H0nvZxLq0fjvm8TR5ONAkcYSq"], ["created_at", "2018-11-18 22:22:28.848503"], ["updated_at", "2018-11-18 22:22:28.848503"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.852146"], ["updated_at", "2018-11-18 22:22:28.852146"], ["user_id", 488]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 488], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JI0Teh.Sh15dPcuiDZqSbuudFoZRyRpCHgODQeQqvX2tDK29GUhsy"], ["created_at", "2018-11-18 22:22:28.863645"], ["updated_at", "2018-11-18 22:22:28.863645"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.867323"], ["updated_at", "2018-11-18 22:22:28.867323"], ["user_id", 489]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 489], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0VgKY/rMgv//p4R4iCCSkuSnpbIa6SG3S.ZlmnAcIktLn8n/P5Rom"], ["created_at", "2018-11-18 22:22:28.881343"], ["updated_at", "2018-11-18 22:22:28.881343"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.885082"], ["updated_at", "2018-11-18 22:22:28.885082"], ["user_id", 490]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 486]]
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 490], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering allergies/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 486]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.owvGRS1hmGb1cE8Jm3g8eC9jxWlokml/DuEJyhiTMV8qZeVXTtZS"], ["created_at", "2018-11-18 22:22:28.901927"], ["updated_at", "2018-11-18 22:22:28.901927"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.8ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.905873"], ["updated_at", "2018-11-18 22:22:28.905873"], ["user_id", 491]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 487]]
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 491], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.3ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Buscopan"], ["description", "Dipirona Sódica"], ["profile_id", 487], ["created_at", "2018-11-18 22:22:28.914102"], ["updated_at", "2018-11-18 22:22:28.914102"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "allergies" WHERE "allergies"."profile_id" = $1[0m  [["profile_id", 487]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0xaP67aCygAZA8NiJ4p4tOk1oR0dzGVo5Az/hRvIEJTO73ucFj0eG"], ["created_at", "2018-11-18 22:22:28.922308"], ["updated_at", "2018-11-18 22:22:28.922308"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.926133"], ["updated_at", "2018-11-18 22:22:28.926133"], ["user_id", 492]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#create as HTML
  Parameters: {"allergy"=>{"description"=>"Dipirona Sódica", "name"=>"Buscopan"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 492], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Buscopan"], ["description", "Dipirona Sódica"], ["profile_id", 488], ["created_at", "2018-11-18 22:22:28.932062"], ["updated_at", "2018-11-18 22:22:28.932062"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/allergies
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$uUumRR2xJkBLLnCFQlJIY.DePbWyTe/0KfbU6qqkBzZWGKutGcv9W"], ["created_at", "2018-11-18 22:22:28.939776"], ["updated_at", "2018-11-18 22:22:28.939776"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.943540"], ["updated_at", "2018-11-18 22:22:28.943540"], ["user_id", 493]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 489], ["created_at", "2018-11-18 22:22:28.946385"], ["updated_at", "2018-11-18 22:22:28.946385"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 493], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$AMBloAEapcvAVnBqMOYoNeTqHzVfgqIcCuar.kMjcK.xENa5clxwm"], ["created_at", "2018-11-18 22:22:28.957829"], ["updated_at", "2018-11-18 22:22:28.957829"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.961498"], ["updated_at", "2018-11-18 22:22:28.961498"], ["user_id", 494]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 490], ["created_at", "2018-11-18 22:22:28.964139"], ["updated_at", "2018-11-18 22:22:28.964139"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 494], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fC9DrL.zD5GhX529F95E2edzJ/Rhsdar3dM909LUND5Q4sEq3Ddy2"], ["created_at", "2018-11-18 22:22:28.980538"], ["updated_at", "2018-11-18 22:22:28.980538"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:28.984140"], ["updated_at", "2018-11-18 22:22:28.984140"], ["user_id", 495]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mAllergy Create (0.4ms)[0m  [1m[32mINSERT INTO "allergies" ("name", "description", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["name", "Dipiridamol"], ["description", "Princípio Ativo: Dipiridamol"], ["profile_id", 491], ["created_at", "2018-11-18 22:22:28.986682"], ["updated_at", "2018-11-18 22:22:28.986682"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by AllergiesController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 495], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mAllergy Load (0.2ms)[0m  [1m[34mSELECT  "allergies".* FROM "allergies" WHERE "allergies"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering allergies/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered allergies/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$tTPYjNMPnPITpB0vhyYma.VypquGTYsrvqFjGXTl3Vd3G9/IhjbUG"], ["created_at", "2018-11-18 22:22:29.000637"], ["updated_at", "2018-11-18 22:22:29.000637"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.003023"], ["updated_at", "2018-11-18 22:22:29.003023"], ["user_id", 496]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$46kB/86bza5fvzL1BBcb7OnUvx8EHHfEey3R9UDSG/EQb0h0pfiFG"], ["created_at", "2018-11-18 22:22:29.013057"], ["updated_at", "2018-11-18 22:22:29.013057"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.015464"], ["updated_at", "2018-11-18 22:22:29.015464"], ["user_id", 497]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$X0Io92j/2RLfdB/0E8NrJONdubM65odtyskXu66SeIKPih0L86J7q"], ["created_at", "2018-11-18 22:22:29.024541"], ["updated_at", "2018-11-18 22:22:29.024541"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.026857"], ["updated_at", "2018-11-18 22:22:29.026857"], ["user_id", 498]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$hLKs/C2ylqJD6ICGP8zqt.A7AXgJGajzspNVWSvPAVq8bNhXkgTN."], ["created_at", "2018-11-18 22:22:29.035467"], ["updated_at", "2018-11-18 22:22:29.035467"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.037758"], ["updated_at", "2018-11-18 22:22:29.037758"], ["user_id", 499]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BNigvlkSWBkmPXVwDqLXbOE0I..nmsY6//RIzNmNUFYzQsnrUI62e"], ["created_at", "2018-11-18 22:22:29.047578"], ["updated_at", "2018-11-18 22:22:29.047578"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.049878"], ["updated_at", "2018-11-18 22:22:29.049878"], ["user_id", 500]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RdfNUF2I3sCnoLYTKyVQFOhZlPM0WBFEKImfaJTx3Ux8hr2FcuQ8O"], ["created_at", "2018-11-18 22:22:29.058981"], ["updated_at", "2018-11-18 22:22:29.058981"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.061298"], ["updated_at", "2018-11-18 22:22:29.061298"], ["user_id", 501]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zaNRl9ryKOc4C1Hdk3LtxuX8gKygEovfZuQ2t43MuuqxhMstUBonS"], ["created_at", "2018-11-18 22:22:29.072637"], ["updated_at", "2018-11-18 22:22:29.072637"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.076386"], ["updated_at", "2018-11-18 22:22:29.076386"], ["user_id", 502]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 502], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JcHUq7Yu8N0eYsQOciVoB.ii1my52qj1N.at6bX6eGj0ymWe637cK"], ["created_at", "2018-11-18 22:22:29.093233"], ["updated_at", "2018-11-18 22:22:29.093233"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.096880"], ["updated_at", "2018-11-18 22:22:29.096880"], ["user_id", 503]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.7ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 499]]
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 503], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 499]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$lTMceaSpOc.8KHTHZnvr6uuHkqEVGtfcm/W/jnBN59mbWeAavvYQa"], ["created_at", "2018-11-18 22:22:29.115702"], ["updated_at", "2018-11-18 22:22:29.115702"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.119692"], ["updated_at", "2018-11-18 22:22:29.119692"], ["user_id", 504]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"date"=>"2018-11-17 22:22:29 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 504], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (2.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 500], ["created_at", "2018-11-18 22:22:29.126006"], ["updated_at", "2018-11-18 22:22:29.126006"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 7ms (ActiveRecord: 3.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SsD5K0UBYIoMlJ10GTDHBep9XKP7L8YbsvgsjvqzQubhKVunV46B6"], ["created_at", "2018-11-18 22:22:29.135567"], ["updated_at", "2018-11-18 22:22:29.135567"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.139302"], ["updated_at", "2018-11-18 22:22:29.139302"], ["user_id", 505]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 501]]
Processing by LdlsController#create as HTML
  Parameters: {"ldl"=>{"date"=>"2018-11-17 22:22:29 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 501], ["created_at", "2018-11-18 22:22:29.146353"], ["updated_at", "2018-11-18 22:22:29.146353"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 501]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qs37liXJ5hhP3FI3FVPyxO2NT83V7ZhBHw8NqRgfuwTnHZyoI/zbu"], ["created_at", "2018-11-18 22:22:29.154413"], ["updated_at", "2018-11-18 22:22:29.154413"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.158111"], ["updated_at", "2018-11-18 22:22:29.158111"], ["user_id", 506]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 502]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT "ldls".* FROM "ldls" WHERE "ldls"."profile_id" = $1[0m  [["profile_id", 502]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dr9vFN.ilySLtpTUMROO4uY12Q9pmlt.7de8RjDv4P/WqeuSUXXOW"], ["created_at", "2018-11-18 22:22:29.173606"], ["updated_at", "2018-11-18 22:22:29.173606"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.177432"], ["updated_at", "2018-11-18 22:22:29.177432"], ["user_id", 507]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0hXGIcWXBF4Nvj/8BqeD6edWX7UhZuzeCCX8ToNsW33d4JL2GjXHK"], ["created_at", "2018-11-18 22:22:29.188784"], ["updated_at", "2018-11-18 22:22:29.188784"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.192480"], ["updated_at", "2018-11-18 22:22:29.192480"], ["user_id", 508]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.1ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$mADutfyZGtUQLa6dMceLE.LgjCFwFLO7SWlYQtXTf483VUYtf4a3O"], ["created_at", "2018-11-18 22:22:29.204898"], ["updated_at", "2018-11-18 22:22:29.204898"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.208988"], ["updated_at", "2018-11-18 22:22:29.208988"], ["user_id", 509]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 505], ["created_at", "2018-11-18 22:22:29.212378"], ["updated_at", "2018-11-18 22:22:29.212378"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"date"=>"2018-10-25", "value"=>"90"}, "profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 509], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 505], ["LIMIT", 1]]
  [1m[36mLdl Update (0.4ms)[0m  [1m[33mUPDATE "ldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "ldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 90], ["updated_at", "2018-11-18 22:22:29.220684"], ["id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WLEQsAoSqrIFWQVpxrXPO.0vg3wty7Z3gMVaMoogT0t5wN9cTkqyy"], ["created_at", "2018-11-18 22:22:29.228405"], ["updated_at", "2018-11-18 22:22:29.228405"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.232043"], ["updated_at", "2018-11-18 22:22:29.232043"], ["user_id", 510]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 506], ["created_at", "2018-11-18 22:22:29.234720"], ["updated_at", "2018-11-18 22:22:29.234720"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"date"=>"2018-10-25", "value"=>"90"}, "profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 510], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  [1m[36mLdl Update (0.4ms)[0m  [1m[33mUPDATE "ldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "ldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 90], ["updated_at", "2018-11-18 22:22:29.241739"], ["id", 15]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 6ms (ActiveRecord: 1.7ms)
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 506], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$zUTeNNStbR6hRE0d/r2Rq.VJ5OweuMVlVR5r7BzuwxMl/94qU5Zci"], ["created_at", "2018-11-18 22:22:29.251228"], ["updated_at", "2018-11-18 22:22:29.251228"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.254829"], ["updated_at", "2018-11-18 22:22:29.254829"], ["user_id", 511]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.3ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 507], ["created_at", "2018-11-18 22:22:29.257609"], ["updated_at", "2018-11-18 22:22:29.257609"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 511], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 507], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 3.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$I7vQSVAKlOJ1ggxlZYxIP.gnQTuJJ/n.hznfP6fDBrOyfRcopoHS6"], ["created_at", "2018-11-18 22:22:29.274466"], ["updated_at", "2018-11-18 22:22:29.274466"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.278104"], ["updated_at", "2018-11-18 22:22:29.278104"], ["user_id", 512]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 508], ["created_at", "2018-11-18 22:22:29.280814"], ["updated_at", "2018-11-18 22:22:29.280814"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#update as HTML
  Parameters: {"ldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 512], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 1.3ms)
  [1m[36mLdl Load (0.3ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 508], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$n/lopLDNSPZY/tKzHYf6meBhQldKeE8yZSjQg976Eg6EpbdqwXJqa"], ["created_at", "2018-11-18 22:22:29.298227"], ["updated_at", "2018-11-18 22:22:29.298227"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.303242"], ["updated_at", "2018-11-18 22:22:29.303242"], ["user_id", 513]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 513], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$208Typ1hO0tghNn4WUXj6udzhadsIfnty43qXzpqIU1GvoObbOjhW"], ["created_at", "2018-11-18 22:22:29.318591"], ["updated_at", "2018-11-18 22:22:29.318591"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.7ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.322473"], ["updated_at", "2018-11-18 22:22:29.322473"], ["user_id", 514]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering ldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$DPw0tJp8KHHRV2OFXeqkNeinXbPsq1oOQdueuCpJyqMKsoSsXjaOS"], ["created_at", "2018-11-18 22:22:29.334822"], ["updated_at", "2018-11-18 22:22:29.334822"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.339061"], ["updated_at", "2018-11-18 22:22:29.339061"], ["user_id", 515]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.3ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 511], ["created_at", "2018-11-18 22:22:29.341932"], ["updated_at", "2018-11-18 22:22:29.341932"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 515], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.6ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$llPms.ukcgJJ89.Omj3DhufY7ZsXX.nrcP8YRaV13lZJd.msd/VOi"], ["created_at", "2018-11-18 22:22:29.354141"], ["updated_at", "2018-11-18 22:22:29.354141"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.358210"], ["updated_at", "2018-11-18 22:22:29.358210"], ["user_id", 516]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.3ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 512], ["created_at", "2018-11-18 22:22:29.360918"], ["updated_at", "2018-11-18 22:22:29.360918"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 516], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ZdVFUBodd4pptrPGmRZsSO0gdBZkyd0urK0Pfx.FEfE7YIexsjehG"], ["created_at", "2018-11-18 22:22:29.372847"], ["updated_at", "2018-11-18 22:22:29.372847"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.376646"], ["updated_at", "2018-11-18 22:22:29.376646"], ["user_id", 517]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 513], ["created_at", "2018-11-18 22:22:29.379344"], ["updated_at", "2018-11-18 22:22:29.379344"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 517], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering ldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered ldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$VWY.5tlaRALnm15BDXddi.Go35gdUVqZPwXsPDOT.qB4YOhzKxnbK"], ["created_at", "2018-11-18 22:22:29.391415"], ["updated_at", "2018-11-18 22:22:29.391415"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.395182"], ["updated_at", "2018-11-18 22:22:29.395182"], ["user_id", 518]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.4ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 514], ["created_at", "2018-11-18 22:22:29.397916"], ["updated_at", "2018-11-18 22:22:29.397916"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by LdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 518], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 514], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "ldls" WHERE "ldls"."id" = $1[0m  [["id", 21]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$B.c2dpGiqeOhZqGFaPwvaeQDZwCLve1bDRm.D8FJyXfE4qIbDIOTu"], ["created_at", "2018-11-18 22:22:29.410901"], ["updated_at", "2018-11-18 22:22:29.410901"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.414678"], ["updated_at", "2018-11-18 22:22:29.414678"], ["user_id", 519]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Create (0.3ms)[0m  [1m[32mINSERT INTO "ldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 120], ["date", "2018-10-30"], ["profile_id", 515], ["created_at", "2018-11-18 22:22:29.417457"], ["updated_at", "2018-11-18 22:22:29.417457"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls"[0m
Processing by LdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 519], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mLdl Load (0.2ms)[0m  [1m[34mSELECT  "ldls".* FROM "ldls" WHERE "ldls"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 515], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mLdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "ldls" WHERE "ldls"."id" = $1[0m  [["id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/ldls
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "ldls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.6ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pLpD22aD/2Eii9stLTZZzu.kWdXcKwHAxa.XMamcaR.izVovlUmdG"], ["created_at", "2018-11-18 22:22:29.454271"], ["updated_at", "2018-11-18 22:22:29.454271"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.7ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.462883"], ["updated_at", "2018-11-18 22:22:29.462883"], ["user_id", 520]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 516]]
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"date"=>"2018-11-17 22:22:29 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 520], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (2.6ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 516], ["created_at", "2018-11-18 22:22:29.475351"], ["updated_at", "2018-11-18 22:22:29.475351"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 10ms (ActiveRecord: 3.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 516]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$y07LJ9Pg34yLDf3RWyg4budbTABXoujGF4mToZeWouLtGhgvwZ8fy"], ["created_at", "2018-11-18 22:22:29.500891"], ["updated_at", "2018-11-18 22:22:29.500891"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.505051"], ["updated_at", "2018-11-18 22:22:29.505051"], ["user_id", 521]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"date"=>"2018-11-17 22:22:29 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 521], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 517], ["created_at", "2018-11-18 22:22:29.511043"], ["updated_at", "2018-11-18 22:22:29.511043"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$T9XRmggjHvUU3Eu1PguvnuUMQuveopn/F6PcXJrDBDKW7GUJu8wOC"], ["created_at", "2018-11-18 22:22:29.518985"], ["updated_at", "2018-11-18 22:22:29.518985"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.522974"], ["updated_at", "2018-11-18 22:22:29.522974"], ["user_id", 522]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 522], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$FRUD7dg1ylDQp1SxTlNEC.M...mnauAh571vbyMGFCbWh7pdDbqp2"], ["created_at", "2018-11-18 22:22:29.538212"], ["updated_at", "2018-11-18 22:22:29.538212"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.542022"], ["updated_at", "2018-11-18 22:22:29.542022"], ["user_id", 523]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 519]]
Processing by VldlsController#create as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 523], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 519]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gpWAFWl.XslVDrvESDZgS.aHXHxBdhHKNvWpIDpIZ9giGLFFt5ASy"], ["created_at", "2018-11-18 22:22:29.557413"], ["updated_at", "2018-11-18 22:22:29.557413"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.561034"], ["updated_at", "2018-11-18 22:22:29.561034"], ["user_id", 524]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 520]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT "vldls".* FROM "vldls" WHERE "vldls"."profile_id" = $1[0m  [["profile_id", 520]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LcUK8GODvT.OFBSiwyS/auiLNoREawhfh4Q4gJkgVeVMd1OZ/K6bS"], ["created_at", "2018-11-18 22:22:29.576819"], ["updated_at", "2018-11-18 22:22:29.576819"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.580452"], ["updated_at", "2018-11-18 22:22:29.580452"], ["user_id", 525]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 525], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$S1M5tLVdwPRboFFQ7mmknexMhfXcyT.srCp2/hjuHvngqcrNw6feK"], ["created_at", "2018-11-18 22:22:29.591828"], ["updated_at", "2018-11-18 22:22:29.591828"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.595601"], ["updated_at", "2018-11-18 22:22:29.595601"], ["user_id", 526]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 526], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$C0xx.F4YAZH2znToUVhmju2400pXa7p9lul3lNo8q/RWNpJ6..ivK"], ["created_at", "2018-11-18 22:22:29.607899"], ["updated_at", "2018-11-18 22:22:29.607899"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.611606"], ["updated_at", "2018-11-18 22:22:29.611606"], ["user_id", 527]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 523], ["created_at", "2018-11-18 22:22:29.614507"], ["updated_at", "2018-11-18 22:22:29.614507"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 527], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 523], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "vldls" WHERE "vldls"."id" = $1[0m  [["id", 14]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Tpp3UV.FPOGOBGGnN2frIeRf01t2UkLUcAUVRYfTBwlvpc1i0mfV2"], ["created_at", "2018-11-18 22:22:29.628871"], ["updated_at", "2018-11-18 22:22:29.628871"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.633009"], ["updated_at", "2018-11-18 22:22:29.633009"], ["user_id", 528]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 524], ["created_at", "2018-11-18 22:22:29.635773"], ["updated_at", "2018-11-18 22:22:29.635773"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls"[0m
Processing by VldlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 528], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 524], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "vldls" WHERE "vldls"."id" = $1[0m  [["id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "vldls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$/srpCO0wanNUhfUtF1IOLeZ8gLO6BVwc/FMiIimjLq4MD5eZfb27C"], ["created_at", "2018-11-18 22:22:29.650667"], ["updated_at", "2018-11-18 22:22:29.650667"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.654347"], ["updated_at", "2018-11-18 22:22:29.654347"], ["user_id", 529]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 529], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$kkKn/G3DOQYCstIGFkc2puZKdjkK7gDWCw2x9IM8RvYNweq4Ib1ja"], ["created_at", "2018-11-18 22:22:29.666440"], ["updated_at", "2018-11-18 22:22:29.666440"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.670155"], ["updated_at", "2018-11-18 22:22:29.670155"], ["user_id", 530]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 530], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering vldls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EUjwO7nZHiJzzPALnV/xtO0YP0MEdkSGVpGOXZzDl5xjP0nzMGV.i"], ["created_at", "2018-11-18 22:22:29.682082"], ["updated_at", "2018-11-18 22:22:29.682082"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.685784"], ["updated_at", "2018-11-18 22:22:29.685784"], ["user_id", 531]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 527], ["created_at", "2018-11-18 22:22:29.688500"], ["updated_at", "2018-11-18 22:22:29.688500"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 2.0ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3mEH6PqQjiRj4E1GjtPHU.eqBX5uEjimiw4.O6/jTD2Y/wqW.LuJK"], ["created_at", "2018-11-18 22:22:29.704614"], ["updated_at", "2018-11-18 22:22:29.704614"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.709357"], ["updated_at", "2018-11-18 22:22:29.709357"], ["user_id", 532]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 528], ["created_at", "2018-11-18 22:22:29.712090"], ["updated_at", "2018-11-18 22:22:29.712090"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5kVwPiCX4F.Lf6c4i4Etc.QdoLJyF7Q2nEeHkoOr5j1Mx257AL8bG"], ["created_at", "2018-11-18 22:22:29.724851"], ["updated_at", "2018-11-18 22:22:29.724851"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.728470"], ["updated_at", "2018-11-18 22:22:29.728470"], ["user_id", 533]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.3ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 529], ["created_at", "2018-11-18 22:22:29.731216"], ["updated_at", "2018-11-18 22:22:29.731216"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 533], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$B3MDISINSnlyg6JqPvsZwOt6v3tXzL7B46DUs.XFSnScIeVGyyP8m"], ["created_at", "2018-11-18 22:22:29.744049"], ["updated_at", "2018-11-18 22:22:29.744049"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.747741"], ["updated_at", "2018-11-18 22:22:29.747741"], ["user_id", 534]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 530], ["created_at", "2018-11-18 22:22:29.750518"], ["updated_at", "2018-11-18 22:22:29.750518"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 534], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 530], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iyun2YUExs82ErJu6a9qcuo.iFdpY1nGp.u2l548uSMndl.lYlHX2"], ["created_at", "2018-11-18 22:22:29.765647"], ["updated_at", "2018-11-18 22:22:29.765647"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.769340"], ["updated_at", "2018-11-18 22:22:29.769340"], ["user_id", 535]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.3ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 531], ["created_at", "2018-11-18 22:22:29.772109"], ["updated_at", "2018-11-18 22:22:29.772109"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 535], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering vldls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered vldls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 531], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$rRZxPOa6Ko8Pk3wF7t2EzOutv/8qzMkldGWJFNkcTE3roHAG0gn8y"], ["created_at", "2018-11-18 22:22:29.788976"], ["updated_at", "2018-11-18 22:22:29.788976"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.792870"], ["updated_at", "2018-11-18 22:22:29.792870"], ["user_id", 536]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.3ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 532], ["created_at", "2018-11-18 22:22:29.795669"], ["updated_at", "2018-11-18 22:22:29.795669"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"date"=>"2018-10-25", "value"=>"85"}, "profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 536], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 532], ["LIMIT", 1]]
  [1m[36mVldl Update (0.4ms)[0m  [1m[33mUPDATE "vldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "vldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 85], ["updated_at", "2018-11-18 22:22:29.802757"], ["id", 21]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yMv8J9kCcl2Fl/2pC.9F6.IGPtvcuaQQFrHWnkGDogXBL2hbItUdG"], ["created_at", "2018-11-18 22:22:29.811012"], ["updated_at", "2018-11-18 22:22:29.811012"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.816009"], ["updated_at", "2018-11-18 22:22:29.816009"], ["user_id", 537]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mVldl Create (0.4ms)[0m  [1m[32mINSERT INTO "vldls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 80], ["date", "2018-10-31"], ["profile_id", 533], ["created_at", "2018-11-18 22:22:29.819033"], ["updated_at", "2018-11-18 22:22:29.819033"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by VldlsController#update as HTML
  Parameters: {"vldl"=>{"date"=>"2018-10-25", "value"=>"85"}, "profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 537], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mVldl Load (0.3ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 533], ["LIMIT", 1]]
  [1m[36mVldl Update (0.4ms)[0m  [1m[33mUPDATE "vldls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "vldls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 85], ["updated_at", "2018-11-18 22:22:29.827537"], ["id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/vldls
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mVldl Load (0.2ms)[0m  [1m[34mSELECT  "vldls".* FROM "vldls" WHERE "vldls"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 533], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MrlCADAFhRZA6Q/DXhYTDuGDmm2LP6p3sEwwnvE2HkOckfNJUHhXe"], ["created_at", "2018-11-18 22:22:29.843016"], ["updated_at", "2018-11-18 22:22:29.843016"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.845365"], ["updated_at", "2018-11-18 22:22:29.845365"], ["user_id", 538]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3MIvXwJEJOTb2JYldHVqmeTtLDkdK5Rx7gt1epM3gNaXecvXvzFpi"], ["created_at", "2018-11-18 22:22:29.863093"], ["updated_at", "2018-11-18 22:22:29.863093"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.865483"], ["updated_at", "2018-11-18 22:22:29.865483"], ["user_id", 539]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.gWGZSNbtIBOmKysT5u4KOJu0WDukwpVMhfFYB0WNL5Xxq.zK/Sm2"], ["created_at", "2018-11-18 22:22:29.875100"], ["updated_at", "2018-11-18 22:22:29.875100"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.877575"], ["updated_at", "2018-11-18 22:22:29.877575"], ["user_id", 540]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RWQzdpryUklkCJ1Mbo6WD.gI/PiSffWLbLJcz7O84Q3QgPFzrcMk6"], ["created_at", "2018-11-18 22:22:29.886223"], ["updated_at", "2018-11-18 22:22:29.886223"]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.888605"], ["updated_at", "2018-11-18 22:22:29.888605"], ["user_id", 541]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$25F6BwYta26ip/olZmWkWucsKyDDSi4l/76WTS9EDAvPsaZDx1dVO"], ["created_at", "2018-11-18 22:22:29.900980"], ["updated_at", "2018-11-18 22:22:29.900980"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.904604"], ["updated_at", "2018-11-18 22:22:29.904604"], ["user_id", 542]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (3.9ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 538], ["created_at", "2018-11-18 22:22:29.907592"], ["updated_at", "2018-11-18 22:22:29.907592"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 542], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3fhu0d4SVHt7TFX8moHDtO6ZTAra9ilX4kMda0s3wu.8i0LwS9q2a"], ["created_at", "2018-11-18 22:22:29.927199"], ["updated_at", "2018-11-18 22:22:29.927199"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.930849"], ["updated_at", "2018-11-18 22:22:29.930849"], ["user_id", 543]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 539], ["created_at", "2018-11-18 22:22:29.933528"], ["updated_at", "2018-11-18 22:22:29.933528"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 543], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$lwOmEKO7pV4pyd/77RkbWe3hO7Rsj.Wi8N0oAkW7NjetQnsLNBAz."], ["created_at", "2018-11-18 22:22:29.945871"], ["updated_at", "2018-11-18 22:22:29.945871"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.949509"], ["updated_at", "2018-11-18 22:22:29.949509"], ["user_id", 544]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 540], ["created_at", "2018-11-18 22:22:29.952165"], ["updated_at", "2018-11-18 22:22:29.952165"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 544], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.4ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3wK2FfQOowyidOnoTMEm5eqoF/dxHvXy20j6s8i2iU9cSbYU3VESK"], ["created_at", "2018-11-18 22:22:29.965197"], ["updated_at", "2018-11-18 22:22:29.965197"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.968838"], ["updated_at", "2018-11-18 22:22:29.968838"], ["user_id", 545]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 541], ["created_at", "2018-11-18 22:22:29.971518"], ["updated_at", "2018-11-18 22:22:29.971518"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"date"=>"2018-10-25", "value"=>"121"}, "profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 545], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 541], ["LIMIT", 1]]
  [1m[36mHdl Update (0.4ms)[0m  [1m[33mUPDATE "hdls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "hdls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 121], ["updated_at", "2018-11-18 22:22:29.978959"], ["id", 15]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 541], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nlUkduMTHeisn4pj5b.gCuuZL1MRhpLW7/rwHbRrQpSIJ6lzHyB/a"], ["created_at", "2018-11-18 22:22:29.988241"], ["updated_at", "2018-11-18 22:22:29.988241"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:29.992168"], ["updated_at", "2018-11-18 22:22:29.992168"], ["user_id", 546]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.5ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 542], ["created_at", "2018-11-18 22:22:29.994953"], ["updated_at", "2018-11-18 22:22:29.994953"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"date"=>"2018-10-25", "value"=>"121"}, "profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 546], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 542], ["LIMIT", 1]]
  [1m[36mHdl Update (0.4ms)[0m  [1m[33mUPDATE "hdls" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "hdls"."id" = $4[0m  [["date", "2018-10-25"], ["value", 121], ["updated_at", "2018-11-18 22:22:30.002231"], ["id", 16]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$02O3LFAt/52rN8ebfw8fxOV7Ismq2wwNIvwEzXyBT/HTti/sc.WE6"], ["created_at", "2018-11-18 22:22:30.009969"], ["updated_at", "2018-11-18 22:22:30.009969"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.014064"], ["updated_at", "2018-11-18 22:22:30.014064"], ["user_id", 547]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 543], ["created_at", "2018-11-18 22:22:30.016829"], ["updated_at", "2018-11-18 22:22:30.016829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 547], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 543], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.3ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Zhyri55TeLhLfA1bkCqpFu5plWVswiRzl1My.9L.A3.dbShFLN12q"], ["created_at", "2018-11-18 22:22:30.031799"], ["updated_at", "2018-11-18 22:22:30.031799"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.035422"], ["updated_at", "2018-11-18 22:22:30.035422"], ["user_id", 548]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 544], ["created_at", "2018-11-18 22:22:30.038070"], ["updated_at", "2018-11-18 22:22:30.038070"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#update as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 548], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 544], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 544], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RfwKDqJUqF2YjbDnoQaf1.l1obzfUDeT.p5x/MV3ktJnCKjT5CYW6"], ["created_at", "2018-11-18 22:22:30.055253"], ["updated_at", "2018-11-18 22:22:30.055253"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.059100"], ["updated_at", "2018-11-18 22:22:30.059100"], ["user_id", 549]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 545], ["created_at", "2018-11-18 22:22:30.061804"], ["updated_at", "2018-11-18 22:22:30.061804"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 549], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 545], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "hdls" WHERE "hdls"."id" = $1[0m  [["id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$GQe3GaWeVz5agtuajVUWxuQ0sfdWHQdxaY0EkYx2zNT7yFngfcFZq"], ["created_at", "2018-11-18 22:22:30.074903"], ["updated_at", "2018-11-18 22:22:30.074903"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.078550"], ["updated_at", "2018-11-18 22:22:30.078550"], ["user_id", 550]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.4ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 134], ["date", "2018-10-30"], ["profile_id", 546], ["created_at", "2018-11-18 22:22:30.081240"], ["updated_at", "2018-11-18 22:22:30.081240"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls"[0m
Processing by HdlsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 550], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHdl Load (0.2ms)[0m  [1m[34mSELECT  "hdls".* FROM "hdls" WHERE "hdls"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 546], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Destroy (0.3ms)[0m  [1m[31mDELETE FROM "hdls" WHERE "hdls"."id" = $1[0m  [["id", 20]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yC2C0UdJtnOj3kwPdlA/pOPJ6xWnCjDnn8quTIvtpcQVupPVhxQ2C"], ["created_at", "2018-11-18 22:22:30.096214"], ["updated_at", "2018-11-18 22:22:30.096214"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.101680"], ["updated_at", "2018-11-18 22:22:30.101680"], ["user_id", 551]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 551], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$9DbCB/ryZN2eqvXvCMz1lOytXplcNVKCBIHm.Ljalc5T74hzH2XWK"], ["created_at", "2018-11-18 22:22:30.115638"], ["updated_at", "2018-11-18 22:22:30.115638"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.119650"], ["updated_at", "2018-11-18 22:22:30.119650"], ["user_id", 552]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 552], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$./pKLlTNvkjPVAQb49VR.ulLCaV7ACdfWr5AfrfTxZyzZhLuESKjq"], ["created_at", "2018-11-18 22:22:30.131855"], ["updated_at", "2018-11-18 22:22:30.131855"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.135425"], ["updated_at", "2018-11-18 22:22:30.135425"], ["user_id", 553]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 553], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.5ms)
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 549]]
  [1m[36mHdl Load (0.3ms)[0m  [1m[34mSELECT "hdls".* FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 549]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$OmDyLlpr51vQUPI8vDKzKuugh1st8WU9IObIEohCf8.WY55achfXe"], ["created_at", "2018-11-18 22:22:30.149636"], ["updated_at", "2018-11-18 22:22:30.149636"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.153393"], ["updated_at", "2018-11-18 22:22:30.153393"], ["user_id", 554]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 554], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WNUhR2A68lUDfIzvRj18luqSx2E9km.Qv6v/QYvGMYQsgczDl4KMC"], ["created_at", "2018-11-18 22:22:30.167031"], ["updated_at", "2018-11-18 22:22:30.167031"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.170662"], ["updated_at", "2018-11-18 22:22:30.170662"], ["user_id", 555]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 555], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$m5qCmZMteufNFBoSdFx.rOvwceSf661Mg3antxAlY0qOG2fqqABq."], ["created_at", "2018-11-18 22:22:30.182503"], ["updated_at", "2018-11-18 22:22:30.182503"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.186131"], ["updated_at", "2018-11-18 22:22:30.186131"], ["user_id", 556]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"date"=>"2018-11-17 22:22:30 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 556], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 552], ["created_at", "2018-11-18 22:22:30.192586"], ["updated_at", "2018-11-18 22:22:30.192586"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XWhSZ2ex6LIWQEIBODdBveFV/AuIx5YJUOlIgIhCUSt8rXsthJCzy"], ["created_at", "2018-11-18 22:22:30.200203"], ["updated_at", "2018-11-18 22:22:30.200203"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.203786"], ["updated_at", "2018-11-18 22:22:30.203786"], ["user_id", 557]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 553]]
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"date"=>"2018-11-17 22:22:30 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 557], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHdl Create (0.3ms)[0m  [1m[32mINSERT INTO "hdls" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", 70], ["date", "2018-11-17"], ["profile_id", 553], ["created_at", "2018-11-18 22:22:30.211375"], ["updated_at", "2018-11-18 22:22:30.211375"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/hdls
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 553]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$9EIgmEZqcs7X6slHYNbuLO2LFsOQJXWhFW6P9QkbgMBrJWNk6zeOG"], ["created_at", "2018-11-18 22:22:30.219394"], ["updated_at", "2018-11-18 22:22:30.219394"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.223137"], ["updated_at", "2018-11-18 22:22:30.223137"], ["user_id", 558]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 554]]
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 558], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "hdls" WHERE "hdls"."profile_id" = $1[0m  [["profile_id", 554]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8zlfDtl.WCYmpgW4KwnfXe9bjKcopP1qq2yl3T1GXFD2F8EVN3fJe"], ["created_at", "2018-11-18 22:22:30.238999"], ["updated_at", "2018-11-18 22:22:30.238999"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.242727"], ["updated_at", "2018-11-18 22:22:30.242727"], ["user_id", 559]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HdlsController#create as HTML
  Parameters: {"hdl"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 559], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering hdls/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered hdls/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3XXrC8anYwpVVre9jF3HV.SwigeTsP/C6kbDe2ZS12K53QoljHHSu"], ["created_at", "2018-11-18 22:22:30.265275"], ["updated_at", "2018-11-18 22:22:30.265275"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.268979"], ["updated_at", "2018-11-18 22:22:30.268979"], ["user_id", 560]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 560], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$9vxTG3qTu/yEu5PTi68/9OT/AsIU9PlXQruR14xgzMW.IUL688Ybi"], ["created_at", "2018-11-18 22:22:30.282927"], ["updated_at", "2018-11-18 22:22:30.282927"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.286685"], ["updated_at", "2018-11-18 22:22:30.286685"], ["user_id", 561]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 561], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XJTdZG655tZW1uGHER2VIO9b83D8tiH.tlVruiYuGrdqMR.Hf8QWu"], ["created_at", "2018-11-18 22:22:30.298410"], ["updated_at", "2018-11-18 22:22:30.298410"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.301995"], ["updated_at", "2018-11-18 22:22:30.301995"], ["user_id", 562]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 562], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0ELXL5YBSV8taCV3YBldy.xwBTf3ziyn0RudTU7A/8zbjkl4dBGOy"], ["created_at", "2018-11-18 22:22:30.316305"], ["updated_at", "2018-11-18 22:22:30.316305"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.319970"], ["updated_at", "2018-11-18 22:22:30.319970"], ["user_id", 563]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 563], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.4ms)
  [1m[36mPressure Load (2.6ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 559]]
  [1m[36mPressure Load (0.4ms)[0m  [1m[34mSELECT "pressures".* FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 559]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.6ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$BkyYmlUW.uzSfXYQQJDJu.cl6JzxS6/YZUJSP8J2ryrf5RnpBe22u"], ["created_at", "2018-11-18 22:22:30.337906"], ["updated_at", "2018-11-18 22:22:30.337906"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.342013"], ["updated_at", "2018-11-18 22:22:30.342013"], ["user_id", 564]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 564], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering pressures/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/index.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$RNl3xsBq9fXNisOGx6AxWuUA6TjW703tfzVMIf4fCG52N5NsmNvWi"], ["created_at", "2018-11-18 22:22:30.353894"], ["updated_at", "2018-11-18 22:22:30.353894"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.357655"], ["updated_at", "2018-11-18 22:22:30.357655"], ["user_id", 565]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (2.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 561], ["created_at", "2018-11-18 22:22:30.360936"], ["updated_at", "2018-11-18 22:22:30.360936"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures"[0m
Processing by PressuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 565], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "pressures" WHERE "pressures"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$IQbqASDwYqIC6DRWw3ObAeXH96lb4Y57zOBM76S0JVNOFLUPRFT3m"], ["created_at", "2018-11-18 22:22:30.378575"], ["updated_at", "2018-11-18 22:22:30.378575"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.382226"], ["updated_at", "2018-11-18 22:22:30.382226"], ["user_id", 566]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 562], ["created_at", "2018-11-18 22:22:30.385464"], ["updated_at", "2018-11-18 22:22:30.385464"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 566], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Destroy (0.3ms)[0m  [1m[31mDELETE FROM "pressures" WHERE "pressures"."id" = $1[0m  [["id", 13]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 4ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$1NrC4wrpfbK8cZdNM3Y7veO7LydGYW4ND.kze1BhjDEOdC8G9FFw2"], ["created_at", "2018-11-18 22:22:30.398093"], ["updated_at", "2018-11-18 22:22:30.398093"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.402199"], ["updated_at", "2018-11-18 22:22:30.402199"], ["user_id", 567]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 563]]
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 22:22:30 UTC", "diastolic"=>"10", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 567], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 80], ["diastolic", 10], ["date", "2018-11-17 22:22:30"], ["profile_id", 563], ["created_at", "2018-11-18 22:22:30.409934"], ["updated_at", "2018-11-18 22:22:30.409934"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 6ms (ActiveRecord: 1.2ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 563]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WbUeRDQSxwuRZwRZWd/qw.ZekXPSmgOO8kIr3t.Fc6IH8XgNKEOwe"], ["created_at", "2018-11-18 22:22:30.418036"], ["updated_at", "2018-11-18 22:22:30.418036"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.421746"], ["updated_at", "2018-11-18 22:22:30.421746"], ["user_id", 568]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 22:22:30 UTC", "diastolic"=>"10", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 568], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 80], ["diastolic", 10], ["date", "2018-11-17 22:22:30"], ["profile_id", 564], ["created_at", "2018-11-18 22:22:30.427967"], ["updated_at", "2018-11-18 22:22:30.427967"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bTFwaqbMFE5wedItc7mMMOUX3hRXxXqATQWrTMKdkANjVclt/Tc6C"], ["created_at", "2018-11-18 22:22:30.436044"], ["updated_at", "2018-11-18 22:22:30.436044"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.439850"], ["updated_at", "2018-11-18 22:22:30.439850"], ["user_id", 569]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 22:22:30 UTC", "diastolic"=>"", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 569], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bNy6mks22/vi/Di6/RC8JOTnkhQwWCokZJu3yfW46eawkZlzbaSJG"], ["created_at", "2018-11-18 22:22:30.454018"], ["updated_at", "2018-11-18 22:22:30.454018"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.458392"], ["updated_at", "2018-11-18 22:22:30.458392"], ["user_id", 570]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 566]]
Processing by PressuresController#create as HTML
  Parameters: {"pressure"=>{"date"=>"2018-11-17 22:22:30 UTC", "diastolic"=>"", "systolic"=>"80"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 570], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "pressures" WHERE "pressures"."profile_id" = $1[0m  [["profile_id", 566]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NOWO0Yy8I4VDIlxPEEG2Y.IlGjPp/9pmOuyUg5KHLmjqOG60TNoAi"], ["created_at", "2018-11-18 22:22:30.474494"], ["updated_at", "2018-11-18 22:22:30.474494"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.478245"], ["updated_at", "2018-11-18 22:22:30.478245"], ["user_id", 571]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 567], ["created_at", "2018-11-18 22:22:30.481084"], ["updated_at", "2018-11-18 22:22:30.481084"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ePuIwDu47EXcZ9MoecOF7.AQqNFjnWm1dFb4.uQbB/gAATLAyT2pe"], ["created_at", "2018-11-18 22:22:30.496558"], ["updated_at", "2018-11-18 22:22:30.496558"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.503419"], ["updated_at", "2018-11-18 22:22:30.503419"], ["user_id", 572]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 568], ["created_at", "2018-11-18 22:22:30.509177"], ["updated_at", "2018-11-18 22:22:30.509177"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 572], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.7ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sUwVevUufxRQDslbMoPTn.Gt0Lcev/Cah3tAnu8g/nexWycTH2su6"], ["created_at", "2018-11-18 22:22:30.522546"], ["updated_at", "2018-11-18 22:22:30.522546"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.526510"], ["updated_at", "2018-11-18 22:22:30.526510"], ["user_id", 573]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 569], ["created_at", "2018-11-18 22:22:30.529706"], ["updated_at", "2018-11-18 22:22:30.529706"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 573], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.1ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$9g2aI9XJKgf9fNurigo6JONoGTyQzNjCpxIC6umCAKGkiW.lgAL06"], ["created_at", "2018-11-18 22:22:30.542352"], ["updated_at", "2018-11-18 22:22:30.542352"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.546042"], ["updated_at", "2018-11-18 22:22:30.546042"], ["user_id", 574]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 570], ["created_at", "2018-11-18 22:22:30.548906"], ["updated_at", "2018-11-18 22:22:30.548906"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"11", "systolic"=>"22"}, "profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 574], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 570], ["LIMIT", 1]]
  [1m[36mPressure Update (0.4ms)[0m  [1m[33mUPDATE "pressures" SET "systolic" = $1, "diastolic" = $2, "updated_at" = $3 WHERE "pressures"."id" = $4[0m  [["systolic", 22], ["diastolic", 11], ["updated_at", "2018-11-18 22:22:30.557182"], ["id", 19]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 8ms (ActiveRecord: 1.7ms)
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 570], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6EMue7MUpLXju/gVvJaLKOAxwQMQAGuwuZIHlaLPO82mDNRXPTIl6"], ["created_at", "2018-11-18 22:22:30.566505"], ["updated_at", "2018-11-18 22:22:30.566505"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.570166"], ["updated_at", "2018-11-18 22:22:30.570166"], ["user_id", 575]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.3ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 571], ["created_at", "2018-11-18 22:22:30.573549"], ["updated_at", "2018-11-18 22:22:30.573549"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"11", "systolic"=>"22"}, "profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 575], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 571], ["LIMIT", 1]]
  [1m[36mPressure Update (0.4ms)[0m  [1m[33mUPDATE "pressures" SET "systolic" = $1, "diastolic" = $2, "updated_at" = $3 WHERE "pressures"."id" = $4[0m  [["systolic", 22], ["diastolic", 11], ["updated_at", "2018-11-18 22:22:30.580976"], ["id", 20]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/pressures
Completed 302 Found in 7ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yiLa8R88M8JD5zP0KhykvuqUeXrTSllQM4GxcGZcxy.ScWkmwlGzy"], ["created_at", "2018-11-18 22:22:30.588588"], ["updated_at", "2018-11-18 22:22:30.588588"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.592559"], ["updated_at", "2018-11-18 22:22:30.592559"], ["user_id", 576]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.3ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 572], ["created_at", "2018-11-18 22:22:30.595478"], ["updated_at", "2018-11-18 22:22:30.595478"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"-2", "systolic"=>"-1"}, "profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 576], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 572], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$cc6hkV7JVQrUflYXp/2hUemUAP2dGXIqYq1AP.H.RMthU89yz2yQO"], ["created_at", "2018-11-18 22:22:30.611128"], ["updated_at", "2018-11-18 22:22:30.611128"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.614911"], ["updated_at", "2018-11-18 22:22:30.614911"], ["user_id", 577]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mPressure Create (0.4ms)[0m  [1m[32mINSERT INTO "pressures" ("systolic", "diastolic", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"[0m  [["systolic", 1], ["diastolic", 1], ["date", "2018-10-18 11:58:22"], ["profile_id", 573], ["created_at", "2018-11-18 22:22:30.617860"], ["updated_at", "2018-11-18 22:22:30.617860"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by PressuresController#update as HTML
  Parameters: {"pressure"=>{"date"=>"2018-10-18 11:58:22", "diastolic"=>"-2", "systolic"=>"-1"}, "profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 577], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mPressure Load (0.2ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 573], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering pressures/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered pressures/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 11ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[36mPressure Load (0.3ms)[0m  [1m[34mSELECT  "pressures".* FROM "pressures" WHERE "pressures"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 573], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$fFUoslG.jXPCXIH9BnUzIeVxO..9sn38OahdFhgxjtJkMrPmbSyiS"], ["created_at", "2018-11-18 22:22:30.641687"], ["updated_at", "2018-11-18 22:22:30.641687"]]
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.644299"], ["updated_at", "2018-11-18 22:22:30.644299"], ["user_id", 578]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qWZuOw2aulMy9JZt8YFauerCUMaYFlCs4gQyjVJusKIPOX3H3sJGe"], ["created_at", "2018-11-18 22:22:30.661746"], ["updated_at", "2018-11-18 22:22:30.661746"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.664222"], ["updated_at", "2018-11-18 22:22:30.664222"], ["user_id", 579]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$n/EHd3XeKbZYL3KzJb7EsOTOBwJjddK1B6VEe60QVhUGOokhwpcpy"], ["created_at", "2018-11-18 22:22:30.674087"], ["updated_at", "2018-11-18 22:22:30.674087"]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.676468"], ["updated_at", "2018-11-18 22:22:30.676468"], ["user_id", 580]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iO8Hm/9iHKOCcgDhjmE6BeLk9H6XEaV3MRVqhximu5sqawtiIkY.C"], ["created_at", "2018-11-18 22:22:30.688544"], ["updated_at", "2018-11-18 22:22:30.688544"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 581], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "Silva"], ["birthdate", "2000-12-15"], ["created_at", "2018-11-18 22:22:30.696251"], ["updated_at", "2018-11-18 22:22:30.696251"], ["user_id", 581]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$z9wzXE6vmT/kpKPb5hfj3.x32ZifZ79yfBe7wUtxEbr4b.pz8PoeW"], ["created_at", "2018-11-18 22:22:30.704865"], ["updated_at", "2018-11-18 22:22:30.704865"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 582], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "Silva"], ["birthdate", "2000-12-15"], ["created_at", "2018-11-18 22:22:30.711612"], ["updated_at", "2018-11-18 22:22:30.711612"], ["user_id", 582]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LvDJXJFSvle3ev.9BG36K.s0D0qApMHxCNdfj.bIUb9C8KEm39dmu"], ["created_at", "2018-11-18 22:22:30.719488"], ["updated_at", "2018-11-18 22:22:30.719488"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.723779"], ["updated_at", "2018-11-18 22:22:30.723779"], ["user_id", 583]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 583], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 3.2ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$wJemu1XjKnMAKuOqbff1Ge1bUNHONAoOAUeZ2xWDexzjlMZ3IwSh6"], ["created_at", "2018-11-18 22:22:30.740939"], ["updated_at", "2018-11-18 22:22:30.740939"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.745319"], ["updated_at", "2018-11-18 22:22:30.745319"], ["user_id", 584]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"2000-12-15", "email"=>"joao@example.org", "firstname"=>"João", "lastname"=>"Silva"}}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 584], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$F.M82S5Gzck.RShjbKOWs.iLpSXiL3xkbk2FJFOA9VBHVeVhC/Ve2"], ["created_at", "2018-11-18 22:22:30.759781"], ["updated_at", "2018-11-18 22:22:30.759781"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"", "email"=>"", "firstname"=>"", "lastname"=>""}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 585], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 1.0ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "profiles"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SCnbFqd229uh40qcgU5bfuZfb380bfcNI9gfSCucMZ4sS38DmDsa6"], ["created_at", "2018-11-18 22:22:30.775528"], ["updated_at", "2018-11-18 22:22:30.775528"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#create as HTML
  Parameters: {"profile"=>{"birthdate"=>"", "email"=>"", "firstname"=>"", "lastname"=>""}}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 586], ["LIMIT", 1]]
Unpermitted parameter: :email
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Wx0HCLnYz/GvN/FG6aLFMu5vDFd7TeWNikq0ew9QFc7v4nPf8bgim"], ["created_at", "2018-11-18 22:22:30.790285"], ["updated_at", "2018-11-18 22:22:30.790285"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.794127"], ["updated_at", "2018-11-18 22:22:30.794127"], ["user_id", 587]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#edit as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 587], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$HWCMxTdRMa98QOLkG4TI3OHrO4Nr95ULB2G9A3aK.eomsib0itkq."], ["created_at", "2018-11-18 22:22:30.808150"], ["updated_at", "2018-11-18 22:22:30.808150"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.6ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.812889"], ["updated_at", "2018-11-18 22:22:30.812889"], ["user_id", 588]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"email"=>"teste@example.org", "firstname"=>"teste", "lastname"=>"sauro"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 588], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
Unpermitted parameters: :email, :firstname, :lastname
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 588], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 582], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 2.0ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 582], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$b9Llmin/0LBlo/KxMU7Gke1xr4WMa6xW36g1V1s99xWxhJunyrApe"], ["created_at", "2018-11-18 22:22:30.832251"], ["updated_at", "2018-11-18 22:22:30.832251"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.836299"], ["updated_at", "2018-11-18 22:22:30.836299"], ["user_id", 589]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>""}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 589], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 583], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.5ms | ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$YzJrD2zLyQ0SObuHdUOOJedSkiRLcMOJNiCH2alwZzo7nChpJ4uBq"], ["created_at", "2018-11-18 22:22:30.852809"], ["updated_at", "2018-11-18 22:22:30.852809"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.856922"], ["updated_at", "2018-11-18 22:22:30.856922"], ["user_id", 590]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>""}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 590], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 590], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 584], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.6ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 584], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$hOSH7WN4Ze.OhQQGsx/fMODZg6xMygH.LzQXbFDrEPIX2a.rs914u"], ["created_at", "2018-11-18 22:22:30.873900"], ["updated_at", "2018-11-18 22:22:30.873900"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.877517"], ["updated_at", "2018-11-18 22:22:30.877517"], ["user_id", 591]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>"1999-12-21", "gender"=>"Male", "sex"=>"male"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 591], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 591], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 585], ["LIMIT", 1]]
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "updated_at" = $3 WHERE "profiles"."id" = $4[0m  [["birthdate", "1999-12-21"], ["sex", "male"], ["updated_at", "2018-11-18 22:22:30.886622"], ["id", 585]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 2.1ms)
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 585], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.5ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sgYFT1/ibI7tURtXvkI6hOOkYYRw9wdQ8Rj0u8Pn3MLYvrPDvYQm6"], ["created_at", "2018-11-18 22:22:30.896443"], ["updated_at", "2018-11-18 22:22:30.896443"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.901674"], ["updated_at", "2018-11-18 22:22:30.901674"], ["user_id", 592]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>"1999-12-21", "gender"=>"Male", "sex"=>"male"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 592], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 592], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 586], ["LIMIT", 1]]
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "updated_at" = $3 WHERE "profiles"."id" = $4[0m  [["birthdate", "1999-12-21"], ["sex", "male"], ["updated_at", "2018-11-18 22:22:30.912116"], ["id", 586]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 1.4ms | ActiveRecord: 2.2ms)
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 586], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$eB71XAgYxvQcuyGM6yvXUOyZxfQaPyFQkNP/ui8vLKcQmrrqoKPt6"], ["created_at", "2018-11-18 22:22:30.922298"], ["updated_at", "2018-11-18 22:22:30.922298"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.926091"], ["updated_at", "2018-11-18 22:22:30.926091"], ["user_id", 593]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#update as HTML
  Parameters: {"profile"=>{"birthdate"=>"1999-12-21", "gender"=>"Male", "sex"=>"male"}, "email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 593], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 LIMIT $2[0m  [["id", 593], ["LIMIT", 1]]
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) AND "profiles"."id" != $2 LIMIT $3[0m  [["email", "joao@example.org"], ["id", 587], ["LIMIT", 1]]
  [1m[36mProfile Update (0.4ms)[0m  [1m[33mUPDATE "profiles" SET "birthdate" = $1, "sex" = $2, "updated_at" = $3 WHERE "profiles"."id" = $4[0m  [["birthdate", "1999-12-21"], ["sex", "male"], ["updated_at", "2018-11-18 22:22:30.934730"], ["id", 587]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  Rendering profiles/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.4ms | ActiveRecord: 2.0ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
Processing by ProfilesController#index as HTML
  Rendering profiles/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$SB2yuEyK8aL6izjm6lTH3OqLz7H/W9Deyw4ukm74hq5ol62K3Vkg."], ["created_at", "2018-11-18 22:22:30.952033"], ["updated_at", "2018-11-18 22:22:30.952033"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.955739"], ["updated_at", "2018-11-18 22:22:30.955739"], ["user_id", 594]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#show as HTML
  Parameters: {"email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 594], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering profiles/show.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/show.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$0uu6hVpLyNoSyQA0pWNGW.tFJlhrR65REN1foDjyb3wZYDREf9SzS"], ["created_at", "2018-11-18 22:22:30.969349"], ["updated_at", "2018-11-18 22:22:30.969349"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ProfilesController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 595], ["LIMIT", 1]]
  Rendering profiles/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered profiles/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.7ms | ActiveRecord: 0.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$E.vn/HXRFL3b/zr6EGXu2.I/Qeth0XbGwcZKsni9/zLln/uGGzBdq"], ["created_at", "2018-11-18 22:22:30.980670"], ["updated_at", "2018-11-18 22:22:30.980670"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:30.984187"], ["updated_at", "2018-11-18 22:22:30.984187"], ["user_id", 596]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 596], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3Pz50q8rNFUXEdhP2tAMy.43Ib.Khoy/nPeiwXzpCC8GMUn8KGev."], ["created_at", "2018-11-18 22:22:30.998537"], ["updated_at", "2018-11-18 22:22:30.998537"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.002209"], ["updated_at", "2018-11-18 22:22:31.002209"], ["user_id", 597]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 597], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WawywK0n4JMQEFR4D0sAxuOAn7iD2bBcIcXSxd7k6mqENjhCyuTYi"], ["created_at", "2018-11-18 22:22:31.013773"], ["updated_at", "2018-11-18 22:22:31.013773"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.017890"], ["updated_at", "2018-11-18 22:22:31.017890"], ["user_id", 598]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 598], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[36mReaction Load (2.5ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 591]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT "reactions".* FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 591]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$NqvFPNHYBm8lBm5Yu4gqcOMjhmXmfaLgV17X/p0jyQoXTYWHkrKjW"], ["created_at", "2018-11-18 22:22:31.034720"], ["updated_at", "2018-11-18 22:22:31.034720"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.038904"], ["updated_at", "2018-11-18 22:22:31.038904"], ["user_id", 599]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 592]]
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 22:22:31 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 599], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (2.5ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["start", "2018-06-25"], ["finish", "2018-11-17"], ["profile_id", 592], ["created_at", "2018-11-18 22:22:31.046377"], ["updated_at", "2018-11-18 22:22:31.046377"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 8ms (ActiveRecord: 3.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 592]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2QPZx7BjuM7ppT/MKf2OauzdiR7RCeERJ3/e9Zy3.Touo5nnN.8My"], ["created_at", "2018-11-18 22:22:31.057143"], ["updated_at", "2018-11-18 22:22:31.057143"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.060790"], ["updated_at", "2018-11-18 22:22:31.060790"], ["user_id", 600]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 22:22:31 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 600], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.5ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["start", "2018-06-25"], ["finish", "2018-11-17"], ["profile_id", 593], ["created_at", "2018-11-18 22:22:31.067582"], ["updated_at", "2018-11-18 22:22:31.067582"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$GoNJyDYpWtvBou4yR7qeauvQ3z3u3h1LXBvnVWfJa9yGo7OX2XUZW"], ["created_at", "2018-11-18 22:22:31.075647"], ["updated_at", "2018-11-18 22:22:31.075647"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.079209"], ["updated_at", "2018-11-18 22:22:31.079209"], ["user_id", 601]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 601], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 3.1ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xw/e1QB3Z1zR056ENGEF.eCSNvm3cS2GDiV14GhNrVy2Ee8XDq19e"], ["created_at", "2018-11-18 22:22:31.095033"], ["updated_at", "2018-11-18 22:22:31.095033"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.099159"], ["updated_at", "2018-11-18 22:22:31.099159"], ["user_id", 602]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 595]]
Processing by ReactionsController#create as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 602], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.5ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions" WHERE "reactions"."profile_id" = $1[0m  [["profile_id", 595]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$9HBs8bGK0wzkAzZfBa/j3eqJ9MCmVr9vLRmLTzuAy8nfqzccjy2Be"], ["created_at", "2018-11-18 22:22:31.116080"], ["updated_at", "2018-11-18 22:22:31.116080"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.119809"], ["updated_at", "2018-11-18 22:22:31.119809"], ["user_id", 603]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 596], ["created_at", "2018-11-18 22:22:31.122894"], ["updated_at", "2018-11-18 22:22:31.122894"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 603], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.2ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$6lk9ZEbBp.eilD1GWueBHu8YO6WIkAO01yxRl42SSXngOuV8fUncG"], ["created_at", "2018-11-18 22:22:31.137406"], ["updated_at", "2018-11-18 22:22:31.137406"]]
  [1m[35m (0.3ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.141186"], ["updated_at", "2018-11-18 22:22:31.141186"], ["user_id", 604]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 597], ["created_at", "2018-11-18 22:22:31.143924"], ["updated_at", "2018-11-18 22:22:31.143924"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 604], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$EhPWKSacOsF.6LlUoeNfJu7URSR.8m55XmwxpdPMBs9T2uGNF2rja"], ["created_at", "2018-11-18 22:22:31.156383"], ["updated_at", "2018-11-18 22:22:31.156383"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.160069"], ["updated_at", "2018-11-18 22:22:31.160069"], ["user_id", 605]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 598], ["created_at", "2018-11-18 22:22:31.162837"], ["updated_at", "2018-11-18 22:22:31.162837"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 605], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dDZXIbo/MEH2mnvRBGFmg.F3tiNYj2/SOVxKAWTFoumzm2kfiZN5O"], ["created_at", "2018-11-18 22:22:31.175078"], ["updated_at", "2018-11-18 22:22:31.175078"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.178733"], ["updated_at", "2018-11-18 22:22:31.178733"], ["user_id", 606]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 606], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5JwPEjw2lzYlEqRayq/ksO9jwpJjvX0x6MHiG9BmBbDVfyQHf5tlm"], ["created_at", "2018-11-18 22:22:31.190472"], ["updated_at", "2018-11-18 22:22:31.190472"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.194133"], ["updated_at", "2018-11-18 22:22:31.194133"], ["user_id", 607]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 607], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering reactions/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$ZqIxorikqDrI7ehC4a0EJuJ4fnr2nvdeYxr8u2dL00mYdSzpnn83q"], ["created_at", "2018-11-18 22:22:31.205482"], ["updated_at", "2018-11-18 22:22:31.205482"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.209213"], ["updated_at", "2018-11-18 22:22:31.209213"], ["user_id", 608]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 601], ["created_at", "2018-11-18 22:22:31.212002"], ["updated_at", "2018-11-18 22:22:31.212002"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions"[0m
Processing by ReactionsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 608], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 601], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 17]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "reactions"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$d2AA3N07Fvfk2QzkODeBvOk8y6uN0LKOlMVJOtyFCEidmTE48sOVi"], ["created_at", "2018-11-18 22:22:31.227543"], ["updated_at", "2018-11-18 22:22:31.227543"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.231729"], ["updated_at", "2018-11-18 22:22:31.231729"], ["user_id", 609]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 602], ["created_at", "2018-11-18 22:22:31.234491"], ["updated_at", "2018-11-18 22:22:31.234491"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 609], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 602], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Destroy (0.3ms)[0m  [1m[31mDELETE FROM "reactions" WHERE "reactions"."id" = $1[0m  [["id", 18]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WNE5nIvTQzkPFATrMsnYzOzK6A1Cpr5wpfW75kHfURKefwgfr/cLC"], ["created_at", "2018-11-18 22:22:31.248076"], ["updated_at", "2018-11-18 22:22:31.248076"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.252260"], ["updated_at", "2018-11-18 22:22:31.252260"], ["user_id", 610]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 603], ["created_at", "2018-11-18 22:22:31.255093"], ["updated_at", "2018-11-18 22:22:31.255093"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 22:22:31 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 610], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 603], ["LIMIT", 1]]
  [1m[36mReaction Update (0.4ms)[0m  [1m[33mUPDATE "reactions" SET "start" = $1, "name" = $2, "cause" = $3, "description" = $4, "finish" = $5, "updated_at" = $6 WHERE "reactions"."id" = $7[0m  [["start", "2018-06-25"], ["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["finish", "2018-11-17"], ["updated_at", "2018-11-18 22:22:31.263146"], ["id", 19]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 603], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$jiWSXNf.zZ8P/OovHsvO5uwy.byea2uWA8GzQERU541DYqJLPPk.q"], ["created_at", "2018-11-18 22:22:31.273579"], ["updated_at", "2018-11-18 22:22:31.273579"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.277258"], ["updated_at", "2018-11-18 22:22:31.277258"], ["user_id", 611]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 604], ["created_at", "2018-11-18 22:22:31.280050"], ["updated_at", "2018-11-18 22:22:31.280050"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"Medication", "description"=>"Tontura", "finish"=>"2018-11-17 22:22:31 UTC", "name"=>"Buscopan", "start"=>"2018-06-25"}, "profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 611], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 604], ["LIMIT", 1]]
  [1m[36mReaction Update (0.4ms)[0m  [1m[33mUPDATE "reactions" SET "start" = $1, "name" = $2, "cause" = $3, "description" = $4, "finish" = $5, "updated_at" = $6 WHERE "reactions"."id" = $7[0m  [["start", "2018-06-25"], ["name", "Buscopan"], ["cause", "Medication"], ["description", "Tontura"], ["finish", "2018-11-17"], ["updated_at", "2018-11-18 22:22:31.287831"], ["id", 20]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/reactions
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Oq1dzxf2tpIrm1sWYpuFYO9pV2VOT0hvH3hN1PETPI3pBTqxnUgj2"], ["created_at", "2018-11-18 22:22:31.295750"], ["updated_at", "2018-11-18 22:22:31.295750"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.5ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.301033"], ["updated_at", "2018-11-18 22:22:31.301033"], ["user_id", 612]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 605], ["created_at", "2018-11-18 22:22:31.304300"], ["updated_at", "2018-11-18 22:22:31.304300"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 612], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 605], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$myz6z2DM8yM.cEyAEJNJOuDLDA1FtVO/RW7PCeea1PXZSNKtG/852"], ["created_at", "2018-11-18 22:22:31.322253"], ["updated_at", "2018-11-18 22:22:31.322253"]]
  [1m[35m (0.4ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.326965"], ["updated_at", "2018-11-18 22:22:31.326965"], ["user_id", 613]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mReaction Create (0.4ms)[0m  [1m[32mINSERT INTO "reactions" ("name", "cause", "description", "start", "finish", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7, $8) RETURNING "id"[0m  [["name", "Propofol"], ["cause", "Medicamento"], ["description", "Aritmia Cardiaca"], ["start", "2018-11-12"], ["finish", "2018-11-12"], ["profile_id", 606], ["created_at", "2018-11-18 22:22:31.329778"], ["updated_at", "2018-11-18 22:22:31.329778"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ReactionsController#update as HTML
  Parameters: {"reaction"=>{"cause"=>"", "description"=>"", "name"=>""}, "profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 613], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mReaction Load (0.2ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering reactions/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered reactions/edit.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 1.2ms)
  [1m[36mReaction Load (0.3ms)[0m  [1m[34mSELECT  "reactions".* FROM "reactions" WHERE "reactions"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 606], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$taJE.PDOu4FTZWf5DMy74OkvIrKujyDrIj5CsQyTibI1EAxbKQ32a"], ["created_at", "2018-11-18 22:22:31.347705"], ["updated_at", "2018-11-18 22:22:31.347705"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.5ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.351421"], ["updated_at", "2018-11-18 22:22:31.351421"], ["user_id", 614]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 607]]
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 614], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 3.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 607]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iy4vha/rBM9.XagN2e2cE.Q4NHNw4mZVY/uAylBEoGK0wEbWrWAG6"], ["created_at", "2018-11-18 22:22:31.371041"], ["updated_at", "2018-11-18 22:22:31.371041"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.375009"], ["updated_at", "2018-11-18 22:22:31.375009"], ["user_id", 615]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 615], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.8ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$H0sFZc7WPEUo9Sl86J0lw.Tlty15Blo0tGP9W1wSjJFNK4Iurb.rq"], ["created_at", "2018-11-18 22:22:31.389052"], ["updated_at", "2018-11-18 22:22:31.389052"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.393004"], ["updated_at", "2018-11-18 22:22:31.393004"], ["user_id", 616]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"date"=>"2018-11-17 22:22:31 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 616], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 609], ["created_at", "2018-11-18 22:22:31.404028"], ["updated_at", "2018-11-18 22:22:31.404028"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 6ms (ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$cc485/27yPKYeAPAjHWs8u4CMfZaIIArx/iVyqBw2H4GYrnFua7yq"], ["created_at", "2018-11-18 22:22:31.412092"], ["updated_at", "2018-11-18 22:22:31.412092"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.415839"], ["updated_at", "2018-11-18 22:22:31.415839"], ["user_id", 617]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 610]]
Processing by HeightsController#create as HTML
  Parameters: {"height"=>{"date"=>"2018-11-17 22:22:31 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 617], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 610], ["created_at", "2018-11-18 22:22:31.423025"], ["updated_at", "2018-11-18 22:22:31.423025"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 5ms (ActiveRecord: 1.3ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 610]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$oNPQprJsGO7XvkKFv322NuMNgiD68FKYr8cDjo.af2ijFLvi/n8cm"], ["created_at", "2018-11-18 22:22:31.431569"], ["updated_at", "2018-11-18 22:22:31.431569"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.435271"], ["updated_at", "2018-11-18 22:22:31.435271"], ["user_id", 618]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 618], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$WMvpgMRVJ.mMCkMcNCLtj.iXwTJTXzPjaK0LCEmtyqmm/YAeSRUum"], ["created_at", "2018-11-18 22:22:31.447158"], ["updated_at", "2018-11-18 22:22:31.447158"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.450813"], ["updated_at", "2018-11-18 22:22:31.450813"], ["user_id", 619]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 619], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$rqExd8Y1Cw0XJTzgoz1tfO0iw1mUgPLT3FK5dqPbhRRMilvN9k4l2"], ["created_at", "2018-11-18 22:22:31.462794"], ["updated_at", "2018-11-18 22:22:31.462794"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.466465"], ["updated_at", "2018-11-18 22:22:31.466465"], ["user_id", 620]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 613], ["created_at", "2018-11-18 22:22:31.469162"], ["updated_at", "2018-11-18 22:22:31.469162"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 620], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 613], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Destroy (0.4ms)[0m  [1m[31mDELETE FROM "heights" WHERE "heights"."id" = $1[0m  [["id", 22]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yjLlE0ZhmEM1CaAw1TxgueL2/nKCRYMvt9wq57MZTpC3oxB.tPEFS"], ["created_at", "2018-11-18 22:22:31.483675"], ["updated_at", "2018-11-18 22:22:31.483675"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.487402"], ["updated_at", "2018-11-18 22:22:31.487402"], ["user_id", 621]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 614], ["created_at", "2018-11-18 22:22:31.490275"], ["updated_at", "2018-11-18 22:22:31.490275"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights"[0m
Processing by HeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"23"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 621], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 23], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 614], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "heights" WHERE "heights"."id" = $1[0m  [["id", 23]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 5ms (ActiveRecord: 1.4ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "heights"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$JmAZUJlkYPF//bQVs2ifGexZKJAJaIiGKNHyfSH.BBQ6RJZKSsVUy"], ["created_at", "2018-11-18 22:22:31.505034"], ["updated_at", "2018-11-18 22:22:31.505034"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.508823"], ["updated_at", "2018-11-18 22:22:31.508823"], ["user_id", 622]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.3ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 615], ["created_at", "2018-11-18 22:22:31.511524"], ["updated_at", "2018-11-18 22:22:31.511524"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"date"=>"2018-06-25", "value"=>"1.85"}, "profile_email"=>"joao@example.org", "id"=>"24"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 622], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 615], ["LIMIT", 1]]
  [1m[36mHeight Update (0.4ms)[0m  [1m[33mUPDATE "heights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "heights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "1.85"], ["updated_at", "2018-11-18 22:22:31.518947"], ["id", 24]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 24], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 615], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UNNf6OHVBEdPxCgYlsi2ueaWMWH6hdXwn8VRGA1ObOn.mTlRKpNgC"], ["created_at", "2018-11-18 22:22:31.529364"], ["updated_at", "2018-11-18 22:22:31.529364"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.533030"], ["updated_at", "2018-11-18 22:22:31.533030"], ["user_id", 623]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 616], ["created_at", "2018-11-18 22:22:31.535775"], ["updated_at", "2018-11-18 22:22:31.535775"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"date"=>"2018-06-25", "value"=>"1.85"}, "profile_email"=>"joao@example.org", "id"=>"25"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 623], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 616], ["LIMIT", 1]]
  [1m[36mHeight Update (0.4ms)[0m  [1m[33mUPDATE "heights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "heights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "1.85"], ["updated_at", "2018-11-18 22:22:31.543429"], ["id", 25]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/heights
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$By1Vg3iNDJMNpZRGDDDrsOOPNum8nmjn4wVrfQrCyBGTvrFc8kiEi"], ["created_at", "2018-11-18 22:22:31.551190"], ["updated_at", "2018-11-18 22:22:31.551190"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.554898"], ["updated_at", "2018-11-18 22:22:31.554898"], ["user_id", 624]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 617], ["created_at", "2018-11-18 22:22:31.557806"], ["updated_at", "2018-11-18 22:22:31.557806"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"26"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 624], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 617], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 3.0ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pK4UemT/MhvNG6qV9ohh2.s879HC2/0dSKHQ8paw83GiriLKq0sGO"], ["created_at", "2018-11-18 22:22:31.575366"], ["updated_at", "2018-11-18 22:22:31.575366"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.579587"], ["updated_at", "2018-11-18 22:22:31.579587"], ["user_id", 625]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 618], ["created_at", "2018-11-18 22:22:31.582295"], ["updated_at", "2018-11-18 22:22:31.582295"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#update as HTML
  Parameters: {"height"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"27"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 625], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 618], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.7ms | ActiveRecord: 1.2ms)
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 618], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$2VVvDsILzvDvQWagB7pq/Oz87bsI0EA6OOeFHc2MBc.PHCzGrcf/y"], ["created_at", "2018-11-18 22:22:31.599359"], ["updated_at", "2018-11-18 22:22:31.599359"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.603065"], ["updated_at", "2018-11-18 22:22:31.603065"], ["user_id", 626]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 626], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$593jSVMA8Ye0SrxvuEuNnOkcXrn4d/S5hQ6vWqumwZL58hiIDgRsy"], ["created_at", "2018-11-18 22:22:31.616709"], ["updated_at", "2018-11-18 22:22:31.616709"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.620759"], ["updated_at", "2018-11-18 22:22:31.620759"], ["user_id", 627]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 627], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 620]]
  [1m[36mHeight Load (0.3ms)[0m  [1m[34mSELECT "heights".* FROM "heights" WHERE "heights"."profile_id" = $1[0m  [["profile_id", 620]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$cygLcIiEJdLQOKNFMtLysONiAS0k9PJ34I/nBqwKw95GT8s8NiadG"], ["created_at", "2018-11-18 22:22:31.634467"], ["updated_at", "2018-11-18 22:22:31.634467"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.638570"], ["updated_at", "2018-11-18 22:22:31.638570"], ["user_id", 628]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 628], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering heights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$40dtBfO.a7MktBE4PuTUtOEorAWDHGUkAffz4yXGXUfRpPoA20I3S"], ["created_at", "2018-11-18 22:22:31.650553"], ["updated_at", "2018-11-18 22:22:31.650553"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.654187"], ["updated_at", "2018-11-18 22:22:31.654187"], ["user_id", 629]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.3ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 622], ["created_at", "2018-11-18 22:22:31.657244"], ["updated_at", "2018-11-18 22:22:31.657244"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"28"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 629], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.3ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$d67O6tz89oSFA8RLgMMpGOePrkZBeQzWJPwb11mhJeieUeEjVWer6"], ["created_at", "2018-11-18 22:22:31.669756"], ["updated_at", "2018-11-18 22:22:31.669756"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.673572"], ["updated_at", "2018-11-18 22:22:31.673572"], ["user_id", 630]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 623], ["created_at", "2018-11-18 22:22:31.676281"], ["updated_at", "2018-11-18 22:22:31.676281"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"29"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 630], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.2ms | ActiveRecord: 0.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$CGNTaKaw00BP0WrQH.n21uPUYvCVdB8r8QE3PAmCySaIPO42yU3/a"], ["created_at", "2018-11-18 22:22:31.688233"], ["updated_at", "2018-11-18 22:22:31.688233"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.692030"], ["updated_at", "2018-11-18 22:22:31.692030"], ["user_id", 631]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mHeight Create (0.4ms)[0m  [1m[32mINSERT INTO "heights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "1.8"], ["date", "2018-10-05"], ["profile_id", 624], ["created_at", "2018-11-18 22:22:31.694752"], ["updated_at", "2018-11-18 22:22:31.694752"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by HeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"30"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 631], ["LIMIT", 1]]
  [1m[36mProfile Load (0.5ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mHeight Load (0.2ms)[0m  [1m[34mSELECT  "heights".* FROM "heights" WHERE "heights"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  Rendering heights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered heights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.3ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sEracJuQLFiWbhwDkNF.quTSmRPNWo7NZ2qCG9fbc.Bb0.kNIZI.."], ["created_at", "2018-11-18 22:22:31.709803"], ["updated_at", "2018-11-18 22:22:31.709803"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qg3bLqWu6TeM/O7Xy0VMzOZDaN0KSacD/vEIzbYWOdZb9yLF2wquS"], ["created_at", "2018-11-18 22:22:31.716674"], ["updated_at", "2018-11-18 22:22:31.716674"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.720281"], ["updated_at", "2018-11-18 22:22:31.720281"], ["user_id", 633]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (3.6ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 625], ["created_at", "2018-11-18 22:22:31.723574"], ["updated_at", "2018-11-18 22:22:31.723574"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"12"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 633], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 12], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 625], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Destroy (0.3ms)[0m  [1m[31mDELETE FROM "contacts" WHERE "contacts"."id" = $1[0m  [["id", 12]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 7ms (ActiveRecord: 1.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Vxp0TUDtxG6ly7MsZzZOcuh2JIytpD2koFfSJC/TCHwuAdkByMyC."], ["created_at", "2018-11-18 22:22:31.743568"], ["updated_at", "2018-11-18 22:22:31.743568"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.747167"], ["updated_at", "2018-11-18 22:22:31.747167"], ["user_id", 634]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 626], ["created_at", "2018-11-18 22:22:31.749837"], ["updated_at", "2018-11-18 22:22:31.749837"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts"[0m
Processing by ContactsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"13"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 634], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 13], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 626], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Destroy (0.3ms)[0m  [1m[31mDELETE FROM "contacts" WHERE "contacts"."id" = $1[0m  [["id", 13]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.5ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$s4bv/YQd2Z.omJLdoHdbc.xbIji0N91d2tOXi2/Exa8pKcQJhL8.2"], ["created_at", "2018-11-18 22:22:31.764796"], ["updated_at", "2018-11-18 22:22:31.764796"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.769124"], ["updated_at", "2018-11-18 22:22:31.769124"], ["user_id", 635]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 635], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$xu3bdTAc6V6bT1ARB2e7EeM/EG/5txi.WGtCyPkC2MDDqGLBp47/C"], ["created_at", "2018-11-18 22:22:31.783492"], ["updated_at", "2018-11-18 22:22:31.783492"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.787537"], ["updated_at", "2018-11-18 22:22:31.787537"], ["user_id", 636]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 636], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.zt46Oys3iBQZ0mWthK7B.xzXb/qLO6vPF0aDbutNmbuQOEg2s8aa"], ["created_at", "2018-11-18 22:22:31.799136"], ["updated_at", "2018-11-18 22:22:31.799136"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.804005"], ["updated_at", "2018-11-18 22:22:31.804005"], ["user_id", 637]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 629], ["created_at", "2018-11-18 22:22:31.806985"], ["updated_at", "2018-11-18 22:22:31.806985"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"14"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 637], ["LIMIT", 1]]
  [1m[36mProfile Load (0.3ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.4ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 14], ["LIMIT", 1]]
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.8ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$w8/U4DAAdy/Ym58MtBDijOOB3iW68MAXI8LNTwLjIJi8wnOr7nRrC"], ["created_at", "2018-11-18 22:22:31.822911"], ["updated_at", "2018-11-18 22:22:31.822911"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.827554"], ["updated_at", "2018-11-18 22:22:31.827554"], ["user_id", 638]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 630], ["created_at", "2018-11-18 22:22:31.830166"], ["updated_at", "2018-11-18 22:22:31.830166"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"15"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 638], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 15], ["LIMIT", 1]]
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$sPD.v.6OEc/j04fc/nGTm.w1kMuGxa1yoFZl4KPOg2p0yCK.XRWgS"], ["created_at", "2018-11-18 22:22:31.842367"], ["updated_at", "2018-11-18 22:22:31.842367"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.845979"], ["updated_at", "2018-11-18 22:22:31.845979"], ["user_id", 639]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 631], ["created_at", "2018-11-18 22:22:31.848680"], ["updated_at", "2018-11-18 22:22:31.848680"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 639], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 16], ["LIMIT", 1]]
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.5ms | ActiveRecord: 0.7ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$TVDL4PLnh5q3aa1kxGpLguwsL1ImwrtKZvTrp28PvyvsJDf3r07TS"], ["created_at", "2018-11-18 22:22:31.861446"], ["updated_at", "2018-11-18 22:22:31.861446"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.865317"], ["updated_at", "2018-11-18 22:22:31.865317"], ["user_id", 640]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 632], ["created_at", "2018-11-18 22:22:31.868147"], ["updated_at", "2018-11-18 22:22:31.868147"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"petrus@exemplo.org", "mobile"=>"11982838128", "name"=>"Petrus", "phone"=>"1120201323"}, "profile_email"=>"joao@example.org", "id"=>"17"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 640], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 632], ["LIMIT", 1]]
  [1m[36mContact Update (0.4ms)[0m  [1m[33mUPDATE "contacts" SET "email" = $1, "name" = $2, "phone" = $3, "mobile" = $4, "updated_at" = $5 WHERE "contacts"."id" = $6[0m  [["email", "petrus@exemplo.org"], ["name", "Petrus"], ["phone", "1120201323"], ["mobile", "11982838128"], ["updated_at", "2018-11-18 22:22:31.875351"], ["id", 17]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 17], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 632], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$LAYijs0FUIlPwqg9dZfrG.rg87wtD9Ft8lKv10bd/oLnGnGWd7QoK"], ["created_at", "2018-11-18 22:22:31.885065"], ["updated_at", "2018-11-18 22:22:31.885065"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.888745"], ["updated_at", "2018-11-18 22:22:31.888745"], ["user_id", 641]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.4ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 633], ["created_at", "2018-11-18 22:22:31.891614"], ["updated_at", "2018-11-18 22:22:31.891614"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"petrus@exemplo.org", "mobile"=>"11982838128", "name"=>"Petrus", "phone"=>"1120201323"}, "profile_email"=>"joao@example.org", "id"=>"18"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 641], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 18], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 633], ["LIMIT", 1]]
  [1m[36mContact Update (0.4ms)[0m  [1m[33mUPDATE "contacts" SET "email" = $1, "name" = $2, "phone" = $3, "mobile" = $4, "updated_at" = $5 WHERE "contacts"."id" = $6[0m  [["email", "petrus@exemplo.org"], ["name", "Petrus"], ["phone", "1120201323"], ["mobile", "11982838128"], ["updated_at", "2018-11-18 22:22:31.898702"], ["id", 18]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gYsIXHuRCZLyGwdBNpZepei.DA7slaQYk0thUl3i5eYCDVovnZ5Y6"], ["created_at", "2018-11-18 22:22:31.907179"], ["updated_at", "2018-11-18 22:22:31.907179"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.910762"], ["updated_at", "2018-11-18 22:22:31.910762"], ["user_id", 642]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.3ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 634], ["created_at", "2018-11-18 22:22:31.913401"], ["updated_at", "2018-11-18 22:22:31.913401"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 642], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 19], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 634], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.4ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.8ms | ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$pp3UaySTGH5BaN9Rh39otO8BaJe/UkxdGPs6xxg/MVIfWiEMvWAZe"], ["created_at", "2018-11-18 22:22:31.928596"], ["updated_at", "2018-11-18 22:22:31.928596"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.932234"], ["updated_at", "2018-11-18 22:22:31.932234"], ["user_id", 643]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.5ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "silvia@example.org"], ["name", "Silvia"], ["phone", "1129291212"], ["mobile", "11981829988"], ["profile_id", 635], ["created_at", "2018-11-18 22:22:31.934852"], ["updated_at", "2018-11-18 22:22:31.934852"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#update as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 643], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 635], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 8ms (Views: 1.4ms | ActiveRecord: 1.3ms)
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT  "contacts".* FROM "contacts" WHERE "contacts"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 635], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$bUR5PJRJ9cjz9LJgcEk31emaB4qk.zRj6D0RhiBqydV1ZN9zQu58S"], ["created_at", "2018-11-18 22:22:31.952845"], ["updated_at", "2018-11-18 22:22:31.952845"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.956613"], ["updated_at", "2018-11-18 22:22:31.956613"], ["user_id", 644]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 644], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[36mContact Load (0.3ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 636]]
  [1m[36mContact Load (0.2ms)[0m  [1m[34mSELECT "contacts".* FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 636]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XzkQio2qOd/TjKTyIQGz6e42QLf3trNA3trm./N02By.9TCw7N7dC"], ["created_at", "2018-11-18 22:22:31.972570"], ["updated_at", "2018-11-18 22:22:31.972570"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.976837"], ["updated_at", "2018-11-18 22:22:31.976837"], ["user_id", 645]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 645], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$l9yN0afz/UZusiQkzXiiS.3drbMBpPeEA6rt1Jcz6jmGuHCCmcR5u"], ["created_at", "2018-11-18 22:22:31.988419"], ["updated_at", "2018-11-18 22:22:31.988419"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:31.992947"], ["updated_at", "2018-11-18 22:22:31.992947"], ["user_id", 646]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 646], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering contacts/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.3ms | ActiveRecord: 0.4ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$Gt3Y6fYP7iOb/uuQulvCnOmZpfEnkZsfC3VgUFPFnPJJTofhSE6wm"], ["created_at", "2018-11-18 22:22:32.005527"], ["updated_at", "2018-11-18 22:22:32.005527"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.009771"], ["updated_at", "2018-11-18 22:22:32.009771"], ["user_id", 647]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 639]]
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 647], ["LIMIT", 1]]
  [1m[36mProfile Load (0.4ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.8ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 10ms (Views: 2.5ms | ActiveRecord: 1.1ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 639]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$a/jIRiSLAPoV85UHBF9due.MkEYf3ccdih7BegQEZeVwMPp3.2Dg6"], ["created_at", "2018-11-18 22:22:32.032019"], ["updated_at", "2018-11-18 22:22:32.032019"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.035662"], ["updated_at", "2018-11-18 22:22:32.035662"], ["user_id", 648]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"", "mobile"=>"", "name"=>"", "phone"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 648], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering contacts/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered contacts/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.4ms | ActiveRecord: 0.9ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$j4/ngK1qe1h8YADEr4UNWuudMo36PArCBpCmMjAjW2NXxhqtKHo1S"], ["created_at", "2018-11-18 22:22:32.050074"], ["updated_at", "2018-11-18 22:22:32.050074"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.053784"], ["updated_at", "2018-11-18 22:22:32.053784"], ["user_id", 649]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"antonio@exemplo.org", "mobile"=>"11981812828", "name"=>"Antonio", "phone"=>"1129291121"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 649], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.3ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "antonio@exemplo.org"], ["name", "Antonio"], ["phone", "1129291121"], ["mobile", "11981812828"], ["profile_id", 641], ["created_at", "2018-11-18 22:22:32.059736"], ["updated_at", "2018-11-18 22:22:32.059736"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 5ms (ActiveRecord: 1.2ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$8iMP1PIRY7.rsPQS50sktOZ8qgRV/r8mEZJ1Rr/ADeKY22Pg/ecSa"], ["created_at", "2018-11-18 22:22:32.067598"], ["updated_at", "2018-11-18 22:22:32.067598"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.071252"], ["updated_at", "2018-11-18 22:22:32.071252"], ["user_id", 650]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 642]]
Processing by ContactsController#create as HTML
  Parameters: {"contact"=>{"email"=>"antonio@exemplo.org", "mobile"=>"11981812828", "name"=>"Antonio", "phone"=>"1129291121"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 650], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mContact Create (0.3ms)[0m  [1m[32mINSERT INTO "contacts" ("email", "name", "phone", "mobile", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5, $6, $7) RETURNING "id"[0m  [["email", "antonio@exemplo.org"], ["name", "Antonio"], ["phone", "1129291121"], ["mobile", "11981812828"], ["profile_id", 642], ["created_at", "2018-11-18 22:22:32.078544"], ["updated_at", "2018-11-18 22:22:32.078544"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/contacts
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "contacts" WHERE "contacts"."profile_id" = $1[0m  [["profile_id", 642]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3KUAdz4lgz2FbPoYDcKGHOvycQ16JgsFQjB1aQbGXFA3VaR2reqWG"], ["created_at", "2018-11-18 22:22:32.086922"], ["updated_at", "2018-11-18 22:22:32.086922"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.090666"], ["updated_at", "2018-11-18 22:22:32.090666"], ["user_id", 651]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 643], ["created_at", "2018-11-18 22:22:32.093495"], ["updated_at", "2018-11-18 22:22:32.093495"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"20"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 651], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 20], ["LIMIT", 1]]
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.7ms | ActiveRecord: 0.9ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$shL4NlycSdSbngU31P77NucCqJhv5brUAFceeGI9ERRVf1Ob2Z2au"], ["created_at", "2018-11-18 22:22:32.111959"], ["updated_at", "2018-11-18 22:22:32.111959"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.116316"], ["updated_at", "2018-11-18 22:22:32.116316"], ["user_id", 652]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 644], ["created_at", "2018-11-18 22:22:32.119187"], ["updated_at", "2018-11-18 22:22:32.119187"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"21"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 652], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 21], ["LIMIT", 1]]
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.3ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$qGR2Xxz0/7tpYUGSylH3jeGMZt9amIybE.hm.AkjeDGepk2vjkw4m"], ["created_at", "2018-11-18 22:22:32.132098"], ["updated_at", "2018-11-18 22:22:32.132098"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.135831"], ["updated_at", "2018-11-18 22:22:32.135831"], ["user_id", 653]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 645], ["created_at", "2018-11-18 22:22:32.139446"], ["updated_at", "2018-11-18 22:22:32.139446"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#edit as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"22"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 653], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 22], ["LIMIT", 1]]
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.7ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$UKGub9w51LoM9qY/oKkfGOQSPyhYKpN.94Bf9k6eEXHgM.32q1uGq"], ["created_at", "2018-11-18 22:22:32.152366"], ["updated_at", "2018-11-18 22:22:32.152366"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.156073"], ["updated_at", "2018-11-18 22:22:32.156073"], ["user_id", 654]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 654], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.6ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$nQ4hjAOGKcA5gCRwk0hIwOSbhq5u7Ls/mhWWMtD2/xisQBpaZRY9a"], ["created_at", "2018-11-18 22:22:32.169941"], ["updated_at", "2018-11-18 22:22:32.169941"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.173694"], ["updated_at", "2018-11-18 22:22:32.173694"], ["user_id", 655]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#new as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 655], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$dvA.qUIRbOiXo/oeQCokW.hDOYBTuNF4OJ5tlqfzeV9VM52pmmZHW"], ["created_at", "2018-11-18 22:22:32.186318"], ["updated_at", "2018-11-18 22:22:32.186318"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.3ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.190207"], ["updated_at", "2018-11-18 22:22:32.190207"], ["user_id", 656]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 656], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/index.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 9ms (Views: 1.5ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$yOt1B1m4.soO8gcAXsdMqe25J37tER0LqhSRU9Md4jzu9Ffz6rYmW"], ["created_at", "2018-11-18 22:22:32.207755"], ["updated_at", "2018-11-18 22:22:32.207755"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.211347"], ["updated_at", "2018-11-18 22:22:32.211347"], ["user_id", 657]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 657], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 4ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4H1wMHS/o9v4/fwjwFKYuuWTmK8l166lfMrywvKqjnkxP0nZaLeY6"], ["created_at", "2018-11-18 22:22:32.222777"], ["updated_at", "2018-11-18 22:22:32.222777"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.226436"], ["updated_at", "2018-11-18 22:22:32.226436"], ["user_id", 658]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#index as HTML
  Parameters: {"profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 658], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  Rendering weights/index.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/index.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 3ms (Views: 1.4ms | ActiveRecord: 0.5ms)
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 650]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT "weights".* FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 650]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.3ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$3VJ9iNPwjqxNwffVjLO5Du7NdIkuM1XGFUTCN8ufS313YbGWUZok2"], ["created_at", "2018-11-18 22:22:32.240718"], ["updated_at", "2018-11-18 22:22:32.240718"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.244900"], ["updated_at", "2018-11-18 22:22:32.244900"], ["user_id", 659]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 651]]
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"date"=>"2018-11-17 22:22:32 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 659], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.3ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 651], ["created_at", "2018-11-18 22:22:32.252123"], ["updated_at", "2018-11-18 22:22:32.252123"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 5ms (ActiveRecord: 1.1ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 651]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$.9GZxLs/pbpOVC.m7.pVZuEe8KNw8WtSNaOKg4wt0bd1Jeoq.uAwm"], ["created_at", "2018-11-18 22:22:32.260629"], ["updated_at", "2018-11-18 22:22:32.260629"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.264141"], ["updated_at", "2018-11-18 22:22:32.264141"], ["user_id", 660]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"date"=>"2018-11-17 22:22:32 UTC", "value"=>"70"}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 660], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.3ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "70.0"], ["date", "2018-11-17"], ["profile_id", 652], ["created_at", "2018-11-18 22:22:32.270050"], ["updated_at", "2018-11-18 22:22:32.270050"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 5ms (ActiveRecord: 1.0ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$lm4qodnro4fOOkd8Dw2AVuox4tNvHdwQbTeuNQqpb.0symBkmwWSi"], ["created_at", "2018-11-18 22:22:32.277950"], ["updated_at", "2018-11-18 22:22:32.277950"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.281566"], ["updated_at", "2018-11-18 22:22:32.281566"], ["user_id", 661]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 653]]
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 661], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.7ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 6ms (Views: 1.9ms | ActiveRecord: 0.8ms)
  [1m[35m (0.4ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights" WHERE "weights"."profile_id" = $1[0m  [["profile_id", 653]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.4ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$iGuwva8uf3VCqhqI2/znv.TAUqSIUFjdGKYN1pULAigtH75V6DdYy"], ["created_at", "2018-11-18 22:22:32.298230"], ["updated_at", "2018-11-18 22:22:32.298230"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.302304"], ["updated_at", "2018-11-18 22:22:32.302304"], ["user_id", 662]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#create as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 662], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/new.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/new.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 5ms (Views: 1.4ms | ActiveRecord: 0.8ms)
  [1m[35m (0.3ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.3ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$85SZMNbz7DP1W8Q4s3R9y.go62zG5Yc2RvB6IdPxc5U9UIXPJB0W6"], ["created_at", "2018-11-18 22:22:32.317574"], ["updated_at", "2018-11-18 22:22:32.317574"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.321166"], ["updated_at", "2018-11-18 22:22:32.321166"], ["user_id", 663]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 655], ["created_at", "2018-11-18 22:22:32.324829"], ["updated_at", "2018-11-18 22:22:32.324829"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights"[0m
Processing by WeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"25"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 663], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 25], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 655], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "weights" WHERE "weights"."id" = $1[0m  [["id", 25]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "weights"[0m
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.2ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$gGlJpDgHlxrdzU6Hxi1q6OJkPtu2AS2A3lfJcjuJrac8twrc4E1re"], ["created_at", "2018-11-18 22:22:32.340813"], ["updated_at", "2018-11-18 22:22:32.340813"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.344525"], ["updated_at", "2018-11-18 22:22:32.344525"], ["user_id", 664]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 656], ["created_at", "2018-11-18 22:22:32.347355"], ["updated_at", "2018-11-18 22:22:32.347355"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#destroy as HTML
  Parameters: {"profile_email"=>"joao@example.org", "id"=>"26"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 664], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 26], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 656], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Destroy (0.3ms)[0m  [1m[31mDELETE FROM "weights" WHERE "weights"."id" = $1[0m  [["id", 26]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 5ms (ActiveRecord: 1.5ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$5qLrSgKqMe/8lgx3nV9kRODACU0V8eyI.Kc.FRDHIVETC.BYdPR7i"], ["created_at", "2018-11-18 22:22:32.360812"], ["updated_at", "2018-11-18 22:22:32.360812"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.364416"], ["updated_at", "2018-11-18 22:22:32.364416"], ["user_id", 665]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 657], ["created_at", "2018-11-18 22:22:32.367328"], ["updated_at", "2018-11-18 22:22:32.367328"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"date"=>"2018-06-25", "value"=>"65"}, "profile_email"=>"joao@example.org", "id"=>"27"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 665], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.3ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 657], ["LIMIT", 1]]
  [1m[36mWeight Update (0.4ms)[0m  [1m[33mUPDATE "weights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "weights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "65.0"], ["updated_at", "2018-11-18 22:22:32.375499"], ["id", 27]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 7ms (ActiveRecord: 1.6ms)
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 27], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 657], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$MmfnLO0hUalZ6UohEu7ow.aH6mrvkLHMQCVR7it6zm6fsTGy9Otcu"], ["created_at", "2018-11-18 22:22:32.384984"], ["updated_at", "2018-11-18 22:22:32.384984"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.388582"], ["updated_at", "2018-11-18 22:22:32.388582"], ["user_id", 666]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.3ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 658], ["created_at", "2018-11-18 22:22:32.391508"], ["updated_at", "2018-11-18 22:22:32.391508"]]
  [1m[35m (0.1ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"date"=>"2018-06-25", "value"=>"65"}, "profile_email"=>"joao@example.org", "id"=>"28"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 666], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 28], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 658], ["LIMIT", 1]]
  [1m[36mWeight Update (0.4ms)[0m  [1m[33mUPDATE "weights" SET "date" = $1, "value" = $2, "updated_at" = $3 WHERE "weights"."id" = $4[0m  [["date", "2018-06-25"], ["value", "65.0"], ["updated_at", "2018-11-18 22:22:32.398835"], ["id", 28]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Redirected to http://test.host/profiles/joao@example.org/weights
Completed 302 Found in 6ms (ActiveRecord: 1.6ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.4ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$4zN6Y6vqsNmAjenRw0WrHOIWE/9ppVWpHDDkvXLK3Mvk5uRYGjCqO"], ["created_at", "2018-11-18 22:22:32.406691"], ["updated_at", "2018-11-18 22:22:32.406691"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.410869"], ["updated_at", "2018-11-18 22:22:32.410869"], ["user_id", 667]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.5ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 659], ["created_at", "2018-11-18 22:22:32.413710"], ["updated_at", "2018-11-18 22:22:32.413710"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"29"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 667], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 29], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 659], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.6ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.5ms | ActiveRecord: 1.3ms)
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
  [1m[35m (0.1ms)[0m  [1m[35mBEGIN[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mUser Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "users" WHERE "users"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mUser Create (0.3ms)[0m  [1m[32mINSERT INTO "users" ("email", "encrypted_password", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["email", "joao@example.org"], ["encrypted_password", "$2a$04$XeIAZJEDHPOdOlG0BRieXuiVkKIlEh9uHBuP3lxMGNHu/GyOYneq."], ["created_at", "2018-11-18 22:22:32.429023"], ["updated_at", "2018-11-18 22:22:32.429023"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Exists (0.3ms)[0m  [1m[34mSELECT  1 AS one FROM "profiles" WHERE LOWER("profiles"."email") = LOWER($1) LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mProfile Create (0.4ms)[0m  [1m[32mINSERT INTO "profiles" ("email", "firstname", "lastname", "birthdate", "sex", "gender", "created_at", "updated_at", "user_id") VALUES ($1, $2, $3, $4, $5, $6, $7, $8, $9) RETURNING "id"[0m  [["email", "joao@example.org"], ["firstname", "João"], ["lastname", "da Silva"], ["birthdate", "2000-12-15"], ["sex", "Male"], ["gender", "Male"], ["created_at", "2018-11-18 22:22:32.432668"], ["updated_at", "2018-11-18 22:22:32.432668"], ["user_id", 668]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mWeight Create (0.4ms)[0m  [1m[32mINSERT INTO "weights" ("value", "date", "profile_id", "created_at", "updated_at") VALUES ($1, $2, $3, $4, $5) RETURNING "id"[0m  [["value", "60.99"], ["date", "2018-10-05"], ["profile_id", 660], ["created_at", "2018-11-18 22:22:32.435464"], ["updated_at", "2018-11-18 22:22:32.435464"]]
  [1m[35m (0.2ms)[0m  [1m[35mRELEASE SAVEPOINT active_record_1[0m
Processing by WeightsController#update as HTML
  Parameters: {"weight"=>{"value"=>""}, "profile_email"=>"joao@example.org", "id"=>"30"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT  "users".* FROM "users" WHERE "users"."id" = $1 ORDER BY "users"."id" ASC LIMIT $2[0m  [["id", 668], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."email" = $1 LIMIT $2[0m  [["email", "joao@example.org"], ["LIMIT", 1]]
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[35mSAVEPOINT active_record_1[0m
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 660], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK TO SAVEPOINT active_record_1[0m
  Rendering weights/edit.html.erb within layouts/internal
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
  Rendered weights/edit.html.erb within layouts/internal (0.5ms)
  Template rendering was prevented by rspec-rails. Use `render_views` to verify rendered view contents if necessary.
Completed 200 OK in 7ms (Views: 1.3ms | ActiveRecord: 1.2ms)
  [1m[36mWeight Load (0.2ms)[0m  [1m[34mSELECT  "weights".* FROM "weights" WHERE "weights"."id" = $1 LIMIT $2[0m  [["id", 30], ["LIMIT", 1]]
  [1m[36mProfile Load (0.2ms)[0m  [1m[34mSELECT  "profiles".* FROM "profiles" WHERE "profiles"."id" = $1 LIMIT $2[0m  [["id", 660], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[31mROLLBACK[0m
