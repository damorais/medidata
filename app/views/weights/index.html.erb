<!-- TODO: Esta página é apenas temporária: quando a autenticação estiver implementada, será removida -->
<h1>Weights | <%= link_to 'Add weight', new_profile_weight_path(profile_email: @profile.email),  class: "btn btn-success"  %></h1>

<% if flash[:success] %>
  <div class="alert alert-success" role="alert">
    <%= flash[:success] %>
  </div>
<% end %>

<table class="table" class="table table-striped">
  <tr>
    <th scope="col">ID</th>
    <th scope="col">Value</th>
    <th scope="col">Date</th>
    <th scope="col"></th>
  </tr>
 
  <% @weights.each do |weight| %>
    <tr>
      <td><%= weight.id %></td>
      <td><%= weight.value %></td>
      <td><%= weight.date %></td>
      <td>
        <%= link_to "Edit", edit_profile_weight_path(profile_email: @profile.email, id: weight.id), class: "btn btn-primary" %> | 
        <%= link_to "Delete", profile_weight_path(profile_email: @profile.email, id: weight.id), 
            method: :delete, data: { confirm: 'Are you sure?' }, class: "btn btn-danger" %> 
        </td>
    </tr>
  <% end %>
  
</table>
<%= link_to 'Back', profile_path(email: @profile.email),  class: "btn btn-success" %>
